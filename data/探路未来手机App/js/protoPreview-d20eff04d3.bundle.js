/*! For license information please see protoPreview.bundle.js.LICENSE */
!function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)a=s[d],i[a]&&p.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={6:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/js/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([752,0]),n()}([,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=O(n(69)),i=O(n(325)),o=O(n(12)),a=O(n(17)),s=O(n(140)),l=O(n(4)),c=O(n(108)),u=O(n(33)),d=O(n(78)),p=O(n(8)),f=O(n(31)),h=O(n(37)),g=O(n(25)),m=O(n(15)),_=O(n(40)),v=O(n(38)),y=O(n(74)),w=O(n(30)),b=O(n(26)),C=O(n(143)),S=O(n(28)),x=O(n(7)),E=O(n(91)),P=O(n(41)),T=O(n(153)),j=O(n(96)),I=O(n(157)),k=O(n(295)),A=O(n(80)),D=n(294);function O(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var M=I["default"].moveWindowToCenterByContr,L=n(282).create(),N=n(10).EventEmitter,U=.8,R={textContr:0,imageContr:0,wrapboxContr:0,iconContr:0,hotspotContr:0,tableContr:0,symbolContr:0,symbol:0},B={startState:null,endState:null,isShow:!1,contr:null,isCompare:!0},H=[],V={},F={contrs:{},symbols:{}},q={},K={};function z(e,t){if("baseImage"==e.type)return W(e,t);if("baseTable"==e.type)return(0,D.createTableContr)(R,e,t);var n=v["default"].add({posi:e.posi});if(!n)return e.defaultCallback&&e.defaultCallback(),!1;var r=g["default"].getMergeBoxShow(),i=r?g["default"].getThisContr():null,o=r?g["default"].getContrs():V;return-1!=T["default"].getTextType().indexOf(e.type)?T["default"].createTextContr(e,n,o,i,R):"hotspot"==e.type?T["default"].createHotspotContr(e,n,o,i,R):"baseIcon"==e.type?T["default"].createIconContr(e,n,o,i,R):void 0}function W(e,t){var n="baseImage"==e.type?{width:150,height:150,ePosi:e.posi,oriWidth:150,oriHeight:150,oriName:e.name,src:window.baseContrImg.imageImg}:e;t&&$.extend(!0,n,t);var r,i=void 0,o=U,a=n.src==window.baseContrImg.imageImg;if(r=$.getTwoDecimal($.getMultiple(o,[n.oriWidth,n.oriHeight])),!n.posi&&n.ePosi){if(!(i=v["default"].add({posi:n.ePosi})))return!1}else if(n.posi||n.ePosi)i=$.getContrInBoxPosi(n.posi,[1*n.oriWidth*r,1*n.oriHeight*r]);else{var s=$.getParentBoxPosi().posi,l=s.left,c=s.top,u=s.width,d=s.height,p=$.getMinPosi({mainboxPosi:[l,c,u,d],midPosi:$.getMidPosi()},!0);i=$.getContrInBoxPosi([p[2]/2+p[0],p[3]/2+p[1]],[1*n.oriWidth*r,1*n.oriHeight*r])}_e.changeNums({imageContr:R.imageContr+1});var f=R.imageContr,h={id:$.getNumKey(f),name:"图片 "+f,type:"image",oriWidth:n.oriWidth,oriHeight:n.oriHeight,oriName:n.oriName,multiple:r,src:n.src,width:Math.round(1*n.oriWidth*r),height:Math.round(1*n.oriHeight*r),left:Math.round(i.left),top:Math.round(i.top),filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!a,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0};return"baseImage"!=n.type&&G(n.fd,h),h}function G(e,t,n){if(e&&!window.noLogin){var r=p["default"].getActivePage();a["default"].post("/imageUpload").send(e).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,i){var o=i.body;"0"==o.code?(n?n(o.data[0].images.imgBig):_e.contrUpdate($.getContrId(t),{src:o.data[0].images.imgBig},undefined,!0),window.loginInfo.usedImageData=o.imageDataMsg.usedImageData,window.loginInfo.maxImageData=o.imageDataMsg.maxImageData,E["default"].addHistoryImage(o.data[0]),p["default"].setAutoSaveChangePages(r+"__pageContrs"),_e.emitChange()):"用户未登录"!=o.msg&&x["default"].show(o.msg)})}}function X(){var e=_e.getSelectContr(),t=g["default"].getMergeBoxShow(),n=$.getSeveralElPosition(e),r=t?g["default"].getThisContr():null,i=b["default"].getSymbolMask(),o=t?g["default"].getContrs():i.isShow?F.contrs:V,a=t?r.hierarchy:i.isShow?_e.getThisSymbolHierarchy():p["default"].getActivePage(!0).hierarchy,s={},l=[];a.forEach(function(e){-1!=H.indexOf(e)&&l.push(e)}),_e.changeNums({wrapboxContr:R.wrapboxContr+1});var c=R.wrapboxContr,u=$.getNumKey(c);return e.forEach(function(e){var r=$.getContrId(e),l=_e.getContrAllParent(e,!0,!0)||[];if(e.left-=n.left,e.top-=n.top,e.isOpt=!1,e.mergeName="wrapbox_"+u,e.states)for(var c in e.states){var d=e.states[c].contrs[r];d&&($.isUndefined(d.left)||(d.left-=n.left),$.isUndefined(d.top)||(d.top-=n.top))}s[r]=$.extend({},e),t||i.isShow?a.remove(r):p["default"].pageRemoveContr(e.interfaceId,r),i.isShow||l.forEach(function(t){t.states&&$.removeStatesThisContrAll(t.states,r,e)}),delete o[r]}),H=[],{contrs:s,id:u,name:"集合 "+c,type:"wrapbox",width:n.width,height:n.height,left:n.left,top:n.top,filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0,isOpen:!1,isStructOpen:!1,hierarchy:l}}function Y(e,t,n){var r=$.query(".textLabel.active"),o=g["default"].getContrList(),a=o.map(function(e){return $.getContrId(e)}),s=g["default"].getThisContr(),l=function(e){_e.changeNums((0,i["default"])({},e.type+"Contr",Math.max(R[e.type+"Contr"],$.getContrKeyByUserKey(e))));var l=e.type+"_"+e.id;if("wrapbox"==e.type){var c=a.indexOf($.getContrId(e));if(-1!=c)o[c].isOpen&&(e.isOpen=!0);s&&$.getContrId(s)==l&&g["default"].changeThisContr(e),Y(e.contrs,t,n)}-1!=n.indexOf(l)&&(e.isOpt=!0,r&&"text"==e.type&&(e.isEdit=!0,window.textEditingContent&&(e.content=window.textEditingContent,e.lastContent=window.textEditingContent))),e.interfaceId=t};if($.isArray(e))e.forEach(function(e){var n=e.type+"_"+e.id;l(e),V[n]=e,p["default"].pageAddContr(t,n)});else for(var c in e)l(e[c])}function J(e,t,n){var r=t||e.type,o=n||e.id;if(e.type){if(_e.changeNums((0,i["default"])({},r+"Contr",Math.max(R[r+"Contr"],$.getContrKeyByUserKey(e,o)))),"wrapbox"==r)for(var a in e.contrs)J(e.contrs[a])}else _e.changeNums((0,i["default"])({},""+r,Math.max(R[""+r],$.getContrKeyByUserKey(e,o))))}function Z(e,t){"symbol"==e.type&&t["symbolKey_"+e.symbolKey]&&(e.symbolKey=t["symbolKey_"+e.symbolKey])}function Q(e,t){for(var n in e){if("symbolKey"==n.split("_")[0]){var r=F.symbols[e[n]];if(t)for(var i in t)if(t[i].uniqueKey==r.uniqueKey){F.symbols[e[n]]=t[i],r=t[i];break}r.hierarchy=r.hierarchy.map(function(t){return 0==t.indexOf("changed_")?t.replace("changed_",""):e[t]||t})}}}function ee(e){var t=e.contrArr,r=e.isImport,o=e._pageId,a=e._fromProject,s=e._isInProject,l=e._copyPageId,c=e._pagesKey,u=[],d=e.changeKeyObj||{},f=g["default"].getMergeBoxShow()&&!a,h=b["default"].getSymbolMask(),m=!f&&h.isShow,_=f?g["default"].getThisContr():null,v=f?g["default"].getContrs():m?F.contrs:V,y=o||p["default"].getActivePage(),w=r&&!a,C=r&&a,S={},x=!1,E=!0;if(e.symbol)for(var P in e.symbol.contrs){var T=e.symbol.contrs[P];T.inSymbolObj=!0,t.unshift(T)}if(t.forEach(function(t){var n=void 0,r=$.getContrId(t);if(C)n=v[t.type+"_"+t.id]=t,_e.changeNums((0,i["default"])({},t.type+"Contr",Math.max(R[t.type+"Contr"],$.getContrKeyByUserKey(t))));else{E=!1,_e.changeNums((0,i["default"])({},t.type+"Contr",R[t.type+"Contr"]+1));var s=R[t.type+"Contr"],l=$.getNumKey(s);t.inSymbolObj?n=F.contrs[t.type+"_"+l]=t:(x||(Q(d,e.symbol&&e.symbol.symbols),x=!0),n=v[t.type+"_"+l]=t),e.symbol&&Z(n,d),window.userKey&&(n.userKey=window.userKey),$.changeContrName(n,t,R,s),n.id=l,$.addUserKeyToContr(n)}m||t.inSymbolObj||(n.interfaceId=y);var c=$.getContrId(n);(n.mergeName=m?null:f?$.getContrId(_):null,te(n,r,y,d,E,S,e.symbol,t.inSymbolObj),o||a||t.inSymbolObj||u.push(c),t.inSymbolObj)?delete t.inSymbolObj:m?_e.getThisSymbolHierarchy().unshift(c):f?(g["default"].hierarchyAddContr(c),$.isUsedState(n)&&-1!=n.state.endState&&_e.selectState(n.state.endState,n,n.state.startState)):p["default"].pageAddContr(n.interfaceId,c)}),!E||0!==$.objLength(S)){if(t.forEach(function(e){r||n(51)["default"].correctPasteContrEvents(e,{type:"pasteContr",isInProject:s,pasteContrsKey:E?S:d})}),c)n(51)["default"].deletePageActions({type:"pastePage",pageContrs:t,pageEvents:p["default"].getPageByKey(o).events||{},pagesKey:c});if(w){var j=o||p["default"].getActivePage();$.isUndefined(p["default"].getPageByKey(j))&&console.log("error4",o,p["default"].getActivePage()),ne(p["default"].getPageByKey(j),E?S:d,{importPage:w,pageId:o,copyPageId:l,pagesKey:c})}t.forEach(function(e){ne(e,E?S:d,{importPage:w,pageId:o,copyPageId:l,pagesKey:c})})}return o||a||oe(u),{newNamesKeyObj:d}}function te(e,t,n,r,o,a,s,l){var c=r||{};if(c[t]=$.getContrId(e),"wrapbox"==e.type){var u=o,d={},p=[];e.hierarchy.forEach(function(t){var f=e.contrs[t];if(!f)return!1;o&&c[$.getContrId(f)]&&(u=!1);var h=$.getContrId(f),g=void 0,m=void 0;u?(m=g=f.id,_e.changeNums((0,i["default"])({},f.type+"Contr",Math.max(R[f.type+"Contr"],$.getContrKeyByUserKey(f))))):(_e.changeNums((0,i["default"])({},f.type+"Contr",R[f.type+"Contr"]+1)),m=R[f.type+"Contr"],g=$.getNumKey(m)),o&&!u&&a&&(a[h]=f.type+"_"+g),c[h]=f.type+"_"+g;var _=d[f.type+"_"+g]=f;_.id=g,l||(_.interfaceId=n),s&&Z(_,r),o||$.addUserKeyToContr(_),$.changeContrName(_,f,R,m),_.mergeName=$.getContrId(e),p.push(f.type+"_"+g),te(f,h,n,c,o,a,s,l)}),e.contrs=d,e.hierarchy=p}}function ne(e,t,n){if(e&&($.changeEventsContrName(e,t,n),$.changeTransitionContrName(e,t),e.states))for(var r in e.states){var i=e.states[r],o={};for(var a in i.contrs)t[a]&&($.changeEventsContrName(i.contrs[a],t,n),o[t[a]]=i.contrs[a]);i.contrs=o,$.changeTransitionContrName(i,t)}if(e&&"wrapbox"==e.type)e.hierarchy.forEach(function(r){ne(e.contrs[r],t,n)});else if(e&&"symbol"==e.type&&e.children){var s={};for(var l in e.children)s[t[l]||l]=e.children[l];e.children=s}}function re(e,t,r){_e.initAllContrs();var o=t||[],a=[],s=e||_e.getFirstSelectContr(),l=s.mergeName,c=g["default"].getMergeBoxShow(),u=b["default"].getSymbolMask().isShow,d=c?g["default"].getContrs():u?F.contrs:V,f=$.getContrId(s),h=$.hasStates(s);if(s.hierarchy.forEach(function(e){var t=void 0,n=s.contrs[e];if(d[n.type+"_"+n.id]){_e.changeNums((0,i["default"])({},n.type+"Contr",R[n.type+"Contr"]+1));var r=R[n.type+"Contr"],c=$.getNumKey(r);t=d[n.type+"_"+c]=n,u||(t.interfaceId=p["default"].getActivePage()),t.id=c,$.addUserKeyToContr(t),t.name=t.name.split(" ")[0]+" "+r}else t=d[n.type+"_"+n.id]=n;t.left+=+s.left,t.top+=+s.top,u?delete t.mergeName:t.mergeName=l;var f=$.getContrId(t);if(t.states)for(var h in t.states)$.isUndefined(t.states[h].contrs[f])?console.log("warning，不应该出现没有这个子级数据的情况，需要排查"):($.isUndefined(t.states[h].contrs[f].left)||(t.states[h].contrs[f].left+=+s.left),$.isUndefined(t.states[h].contrs[f].top)||(t.states[h].contrs[f].top+=+s.top));t.isShow&&o.push(f),a.push(f)}),c)g["default"].insertContr(f,a);else if(u){var m=_e.getThisSymbolHierarchy(),_=[m.indexOf(f),1].concat(a);Array.prototype.splice.apply(m,_)}else p["default"].pageInsertContr(f,a);(r||oe(o),l&&"null"!=s.mergeName&&!$.query(".info-box.state-info"))&&(_e.getContrAllParent(s)||[]).forEach(function(e){ie(_e.getContrByAll(e),f)});(delete d[f],h)&&n(51)["default"].deleteRelativedActions({type:"deleteContr",targetId:f})}function ie(e,t){if(e.states)for(var n in e.states)e.states[n].contrs[t]&&delete e.states[n].contrs[t]}function oe(e,t,r){var i=n(5)["default"],o=void 0,a=g["default"].getMergeBoxShow()?g["default"].getContrs():V;if(H.forEach(function(t){o=a[t]?a[t]:_e.getContrByAll(t),-1==e.indexOf(t)&&o&&(o.isEdit&&(o.isEdit=!1),o.isOpen&&-1==g["default"].getContrListKey().indexOf($.getContrId(o))&&(o.isOpen=!1),o.isOpt=!1)}),e.forEach(function(e){(o=a[e]?a[e]:_e.getContrByAll(e))&&(o.isOpt=!0)}),g["default"].getIsWrapEdit()){var s=e[0]&&b["default"].getSymbolMaskShow()&&b["default"].getIsEditSymbolChild(e[0]);1!==e.length||a[e[0]]||V[e[0]]||s?(1===e.length&&"spotDrag"!=window.mouseDownTarget.name&&!a[e[0]]||0===e.length)&&g["default"].wrapBoxEditOut():g["default"].wrapBoxEdit(_e.getContrByAll(e[0]))}if(H=e,window.copySelectChange=!0,1===e.length&&-1!==e[0].indexOf("table")){var l=i.getTableSelectContr();if(l)$.getContrId(l)!=e[0]&&i.tableDataInit(!0);else i.tableDataInit(!0)}else i.tableDataInit(!0);_e.initCache(),$.query(".mainBox.active .isEditing-layer")&&j["default"].choosePageSocket(),r||(0,A["default"])(e,t)}function ae(e){var t=[];for(var n in V)V[n].interfaceId==e&&t.push(V[n]);return t}function se(e,t){_e.contrUpdate(e,{left:t[0],top:t[1]},!1,!0)}function le(e,t){var n=_e.getSelectContr(),r=1==n.length;if(n.length>0){var i=f["default"].getZoom()/100,o=void 0,a=void 0;switch(r&&(o=$.offset($.query("#"+$.getContrId(n[0])+" .rotateBox"),!0)),e){case"up":n.forEach(function(e){a=e=_e.getAllValsContr({contrKey:e}),_e.contrUpdate($.getContrId(e),{top:e.top-t},!1,!0)});break;case"down":n.forEach(function(e){a=e=_e.getAllValsContr({contrKey:e}),_e.contrUpdate($.getContrId(e),{top:e.top+t},!1,!0)});break;case"left":n.forEach(function(e){a=e=_e.getAllValsContr({contrKey:e}),_e.contrUpdate($.getContrId(e),{left:e.left-t},!1,!0)});break;case"right":n.forEach(function(e){a=e=_e.getAllValsContr({contrKey:e}),_e.contrUpdate($.getContrId(e),{left:e.left+t},!1,!0)})}if(r){var s=$.getContrPosi(a,!0);d["default"].moveTipUpdate({left:Math.round(o.left+o.width*i/2),top:Math.round(o.top+o.height*i+10*(i-1)),text:"x:"+Math.round(s.left)+" y:"+Math.round(s.top)})}g["default"].getMergeBoxShow()?(g["default"].emitChange(),_e.emitChange()):_e.emitChange()}}function ce(e,t){if(t&&t.mergeName){var n=_e.getContrByAll(t.mergeName);e.push(n),ce(e,n)}}function ue(e){var t=g["default"].getMergeBoxIn()?g["default"].getContrs():V,n=void 0,r=t[e.key]?t[e.key]:_e.getContrByAll(e.key);if($.isEditState(r)&&(n=r,r=_e.getThisStateContr(r,e.key),n.left!=e.left&&r.cancelObj&&r.cancelObj.left&&(r.cancelObj.left=!1),n.top!=e.top&&r.cancelObj&&r.cancelObj.top&&(r.cancelObj.top=!1),n.width!=e.height&&r.cancelObj&&r.cancelObj.width&&(r.cancelObj.width=!1),n.height!=e.height&&r.cancelObj&&r.cancelObj.height&&(r.cancelObj.height=!1)),"image"==(r=_e.getAllValsContr({contrKey:n||r,changeThisContr:!0})).type){var i=r.cutVals||_e.initImageCutVals(r);if(r.WHrelation)pe(r,i,e.width/r.width);else{var o=e.width/r.width,a=e.height/r.height;_e.contrUpdate($.getContrId(r),{cutVals:{width:i.width*o,boxWidth:i.boxWidth*o,boxLeft:i.boxLeft*o,height:i.height*a,boxHeight:i.boxHeight*a,boxTop:i.boxTop*a}},!1,!0)}}else"wrapbox"==r.type&&r.isOpt&&!r.isOpen&&de($.extend(!0,{},r.contrs),e.width/r.width);var s={width:e.width,height:e.height,left:e.left,top:e.top};if("table"===r.type){var l=r,c=l.width,u=l.height,d=l.columnPosi,p=l.linePosi,f=l.left,h=l.top,m=s.width-c,_=s.height-u;if(0!==m){var v=$.getChangePosiArr(m,d);s.columnPosi=v}if(0!==_){var y=$.getChangePosiArr(_,p);s.linePosi=y}s.width<20*d.length&&(s.left=f),s.height<20*p.length&&(s.top=h)}else if("text"==r.type){var w=window.mouseDownTarget&&"eightSpotDrag"==window.mouseDownTarget.name,b=!1;if($.isUndefined(s.width)||r.width==s.width||(s.autoW=!1),!$.isUndefined(s.height)&&r.height!=s.height){if(w){var C=window.mouseDownTarget.target;($.hasClass(C,"mr")||$.hasClass(C,"ml"))&&(b=!0)}b||(s.autoH=!1)}}_e.contrUpdate($.getContrId(r),s,!1,!0)}function de(e,t){for(var n in e){var r=e[n];"wrapbox"==(r=_e.getAllValsContr({contrKey:r,changeThisContr:!0})).type&&de(r.contrs,t);var i=$.getOtherSizeChangeObj(r,t);"symbol"==r.type&&(i.scale=r.scale*i.width/r.width,delete i.width,delete i.height),_e.contrUpdate(n,i,!1,!0)}}function pe(e,t,n){_e.contrUpdate($.getContrId(e),{cutVals:{left:t.left*n,top:t.top*n,width:t.width*n,height:t.height*n,boxLeft:t.boxLeft*n,boxTop:t.boxTop*n,boxWidth:t.boxWidth*n,boxHeight:t.boxHeight*n}},!1,!0)}function fe(){var e=void 0,t=void 0,n=void 0,r=_e.getFirstSelectContr(),i=$.getContrId(r);"image"==r.type?(e=r.oriWidth/r.oriHeight,r.cutVals||ge({src:r.src,name:r.oriName,width:r.oriWidth,height:r.oriHeight},r),n=r.cutVals.boxTop>r.cutVals.height/2?1:r.cutVals.boxTop>r.cutVals.boxHeight>r.cutVals.height/2?-1:2*((r.cutVals.boxHeight-r.cutVals.height)/2+r.cutVals.boxTop)/r.cutVals.boxHeight,_e.contrUpdate(i,{cutVals:{boxHeight:r.cutVals.boxWidth/e,boxTop:r.cutVals.boxTop+(r.cutVals.boxHeight-r.cutVals.boxWidth/e)*(1-n)/2}},!1,!0),t="图片"):(_e.contrUpdate(i,{height:r.width},!1,!0),t="图标"),_["default"].getCutImageShow()&&_["default"].emitChange(),m["default"].createData({type:"reWHprop",name:"["+r.name+"] "+t+"比例恢复",handleObjType:r.type,autoSaveType:"pageContrs"})}function he(e){var t=g["default"].getContrList(),n=t[t.length-1],r=1==t.length?V:t[t.length-2].contrs;e&&(r[n.type+"_"+n.id]=n),1==t.length?g["default"].cancelMergeBoxShow():(g["default"].setThisContr(t[t.length-2]),t.pop()),H=[],oe([n.type+"_"+n.id])}function ge(e,t){var n=t||_e.getFirstSelectContr();return n=_e.getAllValsContr({contrKey:n}),_e.contrUpdate($.getContrId(n),{multiple:$.getTwoDecimal($.getMultiple(U,[e.width,e.height])),src:e.src,oriName:e.name,oriWidth:e.width,oriHeight:e.height,cutVals:$.getCutValsChangeObj(e,n)},undefined,!0),n}function me(){var e=g["default"].getMergeBoxShow(),t=e?g["default"].getThisContr():null,n=e?$.isInState(t,!0):null,r=void 0,i=void 0;t&&$.isEditState(t)?(r=t,i=_e.getContrState(r).endState):t&&n&&(r=n,i=_e.getContrState(r).endState),r&&_e.getSelect().forEach(function(e){var n=_e.getContrByAll($.getContrId(r)).states[i].contrs,o=t.contrs[e];o.isDelete=!0,n[e]?n[e].isDelete=!1:n[e]={isDelete:!1},o.state&&(n[e].state=$.extend({},o.state))})}$.changeWrapChildPosi=de;var _e=(0,o["default"])({},N.prototype,{getInterface:function(e){return ae(e)},getActivePageByHierarchy:function(e){return _e.getPageByHierarchy(p["default"].getActivePage(),e)},getPageByHierarchy:function(e,t){var n=[];return p["default"].getPageHierarchy(e).forEach(function(e){n.push(t?$.extend(!0,{},V[e]):V[e])}),n.reverse(),n},deletePageContrByHierarchy:function(e){p["default"].getPageHierarchy(e).forEach(function(e){V[e]&&delete V[e]})},getActiveInterface:function(){return ae(p["default"].getActivePage())},changeImageCut:function(e,t,n){pe(e,t,n)},setSelectContr:function(e){H=e},addSymbolContr:function(e){var t=$.getContrId(e),n=_e.getThisOneSymbol().hierarchy;F.contrs[t]=e,-1==n.indexOf(n)&&n.unshift(t)},setSymbolContr:function(e){var t=[],n=[];if(e.contrs)for(var r in e.contrs)t.push(e.contrs[r]);P["default"].addInitVal(t);var i={};if(t.forEach(function(e){i[$.getContrId(e)]=e}),e.contrs=i,e.symbols)for(var o in e.symbols)n.push(e.symbols[o]);if(P["default"].addInitVal(n),e.contrs)for(var a in e.contrs)J(e.contrs[a]);if(e.symbols)for(var s in e.symbols)J(e.symbols[s],"symbol",s);F=e},initSymbolContrs:function(){F={contrs:{},symbols:{}}},getSymbolContr:function(){return F},getSymbolContrsChange:function(){var e=p["default"].getSymbolSaveData(),t=$.extend(!0,{},_e.getSymbolContr()),n=[],r=[];for(var i in t.contrs)n.push(t.contrs[i]);for(var o in P["default"].removeInitVal(n),t.symbols)r.push(t.symbols[o]);return P["default"].removeInitVal(r),L.diff(e,t)},setSaveDateSymbolContr:function(e,t){var n=$.extend(!0,{},_e.getSymbolContr()),r=[];for(var i in n.contrs)r.push(n.contrs[i]);P["default"].removeInitVal(r);var o=[];for(var a in n.symbols)o.push(n.symbols[a]);P["default"].removeInitVal(o);try{n=L[t?"unpatch":"patch"](n,e)}catch(c){log(c)}for(var s in n||(n={contrs:{},symbols:{}}),r=[],n.contrs)r.push(n.contrs[s]);for(var l in P["default"].addInitVal(r),o=[],n.symbols)o.push(n.symbols[l]);P["default"].addInitVal(o),F=n},getThisOneSymbol:function(){return F.symbols[b["default"].getSymbolMaskContr().symbolKey]},getSymbolPosi:function(e){var t=F.symbols[e];return{width:t.width,height:t.height}},getCopyContrBySymbolHierarchy:function(e){var t=$.extend(!0,{},e);if(["id","interfaceId","name","symbolKey","mergeName","events","states","isEdit","lastContent","isStructOpen","thisSelf","hoverState","copyKey","transition","isOpen","isOpt","cutVals","width","height","dependType","isDepend","userKey","isS"].forEach(function(e){$.isUndefined(t[e])||delete t[e]}),"wrapbox"==t.type)t.hierarchy=t.hierarchy.map(function(e){return _e.getCopyContrBySymbolHierarchy(t.contrs[e])}),$.isUndefined(t.contrs)||delete t.contrs;else if("symbol"==t.type){var n=[];for(var r in t.children)n.push(t.children[r]);t.children=n}return t},importSymbol:function(e,t,n,r,i){var o=!1,a=!1,s=!1,l=void 0;for(var c in F.symbols)if(!o){var u=F.symbols[c];if(u.uniqueKey==e.uniqueKey){a=!0;var d=u.hierarchy.map(function(e){return _e.getCopyContrBySymbolHierarchy(F.contrs[e])}),p=e.hierarchy.map(function(e){return _e.getCopyContrBySymbolHierarchy(n.contrs[e])}),f=L.diff(d,p);f&&!$.changePatchRemoveDeviation(f)||(o=!0,e.hierarchy.some(function(e){return!!$.isChangeSymbolChild(e,r,n.contrs[e])&&(s=!0,!0)})),s||($.changeAllSymbolKey(e.hierarchy,u.hierarchy,n.contrs,F.contrs,r),l=$.extend(!0,[],u.hierarchy),r["_symbolKey_"+t]=c);break}}if(!a||a&&!o||s){var h=k["default"].createSymbolFromImport(e,R,F,!a);r["symbolKey_"+t]=h,i.push(h)}else e.hierarchy.forEach(function(e){delete n.contrs[e]}),e.hierarchy=l.map(function(e){return"changed_"+e})},getSymbolByCopy:function(e,t){var n={contrs:{},symbols:{}};if(e.forEach(function(e){!n.symbols[e]&&F.symbols[e]&&(n.symbols[e]=$.extend(!0,{},F.symbols[e]),_e.addSymbolInCopyObj(n.symbols[e],n))}),t){for(var r in n.contrs)P["default"].removeInitVal(n.contrs[r]);for(var i in n.symbols)P["default"].removeInitVal(n.symbols[i])}return n},addSymbolInCopyObj:function(e,t){e.hierarchy&&e.hierarchy.forEach(function(e){t.contrs[e]||(t.contrs[e]=$.extend(!0,{},F.contrs[e]),_e.getChildSymbolInContr(t.contrs[e],t))})},getChildSymbolInContr:function(e,t){if("symbol"!=e.type||t.symbols[e.symbolKey]){if("wrapbox"==e.type){var n=$.getContrId(e);!t.contrs[n]&&F.contrs[n]&&(t.contrs[n]=$.extend(!0,{},F.contrs[n])),e.hierarchy.forEach(function(n){_e.getChildSymbolInContr(e.contrs[n],t)})}}else t.symbols[e.symbolKey]=$.extend(!0,{},F.symbols[e.symbolKey]),_e.addSymbolInCopyObj(t.symbols[e.symbolKey],t)},getSymbolList:function(){},getSymbolChildContr:function(e,t){if(t&&F.symbols[e]){var n=[];return F.symbols[e].hierarchy.forEach(function(e){F.contrs[e]&&n.push(F.contrs[e])}),n}var r={},i=[];return F.symbols[e]&&(F.symbols[e].hierarchy.forEach(function(e){F.contrs[e]&&(r[e]=F.contrs[e],i.push(e))}),F.symbols[e].hierarchy=i),r},getThisSymbolChildContr:function(e){return _e.getSymbolChildContr(b["default"].getSymbolMaskContr().symbolKey,e)},getThisSymbolHierarchy:function(){return _e.getThisOneSymbol().hierarchy},hasEditSymbol:function(e){if(!window.renderSymbol)return!1;if("symbol"==e.type){if(e.symbolKey==window.renderSymbol)return!0;for(var t=_e.getSymbolChildContr(e.symbolKey,!0),n=0;n<t.length;n++){if(_e.hasEditSymbol(t[n]))return!0}}else if("wrapbox"==e.type)for(var r in e.contrs){if(_e.hasEditSymbol(e.contrs[r]))return!0}},contrToSymbol:function(e,t){var n=[],r=e.length>1,i=[],o=void 0;e.forEach(function(e){var a=_e.getContrByAll(e),s=$.extend(!0,{},a),l=_e.getAllValsContr({contrKey:e});if(n.push(s),_e.deleteContr(undefined,[e]),r)i.push(l);else{if("0"!=(o=l).rotate){var c=$.getRotateBoxPosi(!1,l);o.width=c.width,o.height=c.height,o.top=c.top,o.left=c.left}o.name=t,k["default"].contrToSymbolClearVal(s,l)}}),_e.changeNums({symbolContr:R.symbolContr+1});var a=$.getNumKey(R.symbolContr);if(r){var s=$.getSeveralElPosition(i,undefined,!0);o={name:t,left:s.left,top:s.top,width:s.width,height:s.height},n.forEach(function(e){k["default"].contrToSymbolClearVal(e,s)})}var l=k["default"].createSymbol({Nums:R,contrArr:n,symbolContrs:F,widthHeight:[o.width,o.height],name:t}),c=k["default"].createSymbolContr({symbolKey:l,contr:o,contrKey:a});c&&_e.createContr(c),_e.initCache()},deleteSymbol:function(e){var t=F.symbols[e]&&F.symbols[e].hierarchy;t&&t.forEach(function(e){F.contrs[e]&&delete F.contrs[e]}),_e.deleteAllSymbolKey(e),F.symbols[e]&&delete F.symbols[e]},deleteAllSymbolKey:function(e){for(var t in F.contrs)F.contrs[t].symbolKey==e?(delete F.contrs[t],_e.deleteSymbolKeyInSymbols(t)):"wrapbox"==F.contrs[t].type&&_e.deleteSymbolKeyInWrapbox(e,F.contrs[t].contrs,F.contrs[t])},deleteSymbolKeyInSymbols:function(e){for(var t in F.symbols)-1!=F.symbols[t].hierarchy.indexOf(e)&&F.symbols[t].hierarchy.remove(e)},deleteSymbolKeyInWrapbox:function(e,t,n){for(var r in t)"symbol"==t[r].type&&t[r].symbolKey==e?(delete t[r],n.hierarchy.remove(r)):"wrapbox"==t[r].type&&_e.deleteSymbolKeyInWrapbox(e,t[r].contrs,t[r])},changeSymbolChild:function(e,t,n,r,i){var o=t||C["default"].getChildKey(),a=n?_e.getContrByAll(n):_e.getFirstSelectContr();a.children?log("thisSymbolContr.children, undefined"):a.children={},a.children[o]||(a.children[o]={}),$.extend(!0,a.children[o],e),_e.initCache(),r||(_e.emitChange(),i||m["default"].createData({type:"changeSymbolChild",name:"["+a.name+"] 修改子集属性",handleObjType:"symbol",autoSaveType:"pageContrs"}))},removeSymbolChildVal:function(e,t,n,r){var i=t||C["default"].getChildKey(),o=n?_e.getContrByAll(n):_e.getFirstSelectContr();o.children[i]&&!$.isUndefined(o.children[i][e])&&delete o.children[i][e],_e.initCache(),r||(_e.emitChange(),m["default"].createData({type:"removeSymbolChildVal",name:"["+o.name+"] 去掉子集属性",handleObjType:"symbol",autoSaveType:"pageContrs"}))},symbolToContr:function(e,t){var n=void 0;e.forEach(function(e){var t=_e.getContrByAll(e);if(!t)return!1;n||(n=t);var r=$.extend(!0,[],_e.getSymbolChildContr(t.symbolKey,!0)).reverse(),i=t.scale,o=[];r.forEach(function(e){if("table"==e.type)return e.left+=t.left,void(e.top+=t.top);var n=$.getContrId(e);if("symbol"==e.type&&o.push(e),$.otherSizeChangeContr(e,i/10,!0),e.left+=t.left,e.top+=t.top,e.states)for(var r in e.states)$.isUndefined(e.states[r].contrs[n])||($.isUndefined(e.states[r].contrs[n].left)||(e.states[r].contrs[n].left+=t.left),$.isUndefined(e.states[r].contrs[n].top)||(e.states[r].contrs[n].top+=t.top))});var a={};o.forEach(function(e){_e.getAllSymbolChildContrKey(e.symbolKey,a,$.getContrId(e))});var s=ee({contrArr:r,_isInProject:!0}).newNamesKeyObj;for(var l in t.children)if(a[l]){var c=s[a[l]]||a[l],u=_e.getContrByAll(c);u.children[l]?$.extend(!0,u.children[l],t.children[l]):u.children[l]=t.children[l]}else _e.contrUpdate(s[l]||l,t.children[l],undefined,!0)}),_e.deleteContr(undefined,e),t||(p["default"].setAutoSaveChangePages("changeSymbol",undefined,!0),_e.emitChange(),m["default"].createData({type:"symbolToContr",name:"["+(e.length>1?"多个组件":n.name)+"] 取消引用",handleObjType:n.type,autoSaveType:"pageContrs"}),_e.initCache())},getAllSymbolChildContrKey:function(e,t,n){var r=F.symbols[e];r&&r.hierarchy&&r.hierarchy.forEach(function(r){var i=F.contrs[r];"symbol"==i.type?_e.getAllSymbolChildContrKey(i.symbolKey,t,n):"wrapbox"==i.type?_e.getAllChildByWarpbox(i,e,t,n):t[$.getContrId(i)]=n})},getAllChildByWarpbox:function(e,t,n,r){for(var i in e.contrs){var o=e.contrs[i];"symbol"==o.type?_e.getAllSymbolChildContrKey(o.symbolKey,n,r):"wrapbox"==o.type?_e.getAllChildByWarpbox(o,t,n,r):n[$.getContrId(o)]=r}},getOneSymbolByLib:function(e){var t=$.extend(!0,{key:e,id:e,type:"symbolLib",bgColor:"rgba(255, 255, 255, 1)",isLock:!1,isShow:!0,isOpt:!0,scale:10,rotate:0,opacity:100,children:{}},F.symbols[e]);return t.contrs={},t.hierarchy.forEach(function(e){t.contrs[e]=F.contrs[e]}),t},selectAllContr:function(e){var t=g["default"].getMergeBoxShow()?g["default"].getContrsArr():b["default"].getSymbolMaskShow()?_e.getThisSymbolChildContr(!0):_e.getActiveInterface(),n=[];t.forEach(function(t){t.isLock&&!e||(t=_e.getAllValsContr({contrKey:t})).isShow&&n.push(t.type+"_"+t.id)}),oe(n)},contrUpdateByAll:function(e,t,n,r){for(var i in r=r||V){var o=r[i];if(e==i)return $.extend(r[e],t),!1;"wrapbox"==o.type&&_e.contrUpdateByAll(e,t,n,o.contrs)}},getHierarchyContr:function(e,t){var n=[],r=t||V;return e.forEach(function(e){n.push(r[e])}),n},getNowHierarchy:function(){return g["default"].getMergeBoxShow()?g["default"].getThisContr().hierarchy:b["default"].getSymbolMaskShow()?_e.getThisSymbolHierarchy():p["default"].getActivePage(!0).hierarchy},getAllValsChildContr:function(e){if("wrapbox"==e.type&&e.contrs)for(var t in e.contrs)e.contrs[t]=$.extend(!0,{},_e.getAllValsContr({contrKey:$.getContrId(e.contrs[t])})),_e.getAllValsChildContr(e.contrs[t])},getSelectContrByHierarchy:function(e,t){var n=_e.getSelectContr(t),r=_e.getNowHierarchy().concat().reverse(),i=[],o=[];return n.length>0&&((n=n.map(function(t){var n=$.extend(!0,{},t);return e||!n.mergeName||n.states&&$.objLength(n.states)>0||_e.getAllValsChildContr(n),n})).forEach(function(e){i.push($.getContrId(e))}),r.forEach(function(t){var r=i.indexOf(t);-1!=r&&o.push(e?_e.getContrValsAllChilds($.extend(!0,{},n[r]),!0):n[r])})),o},symbolPosiChange:function(e,t){var n=b["default"].getSymbolMaskContr(),r=$.getContrId(n),i=F.symbols[n.symbolKey];$.isUndefined(e.width)||(i.width=e.width),$.isUndefined(e.height)||(i.height=e.height),t||(K[r+"-end"]&&delete K[r+"-end"],_e.emitChange())},contrUpdate:function(e,t,r,i,o,a){var s=n(5)["default"],l=g["default"].getMergeBoxShow()?g["default"].getContrs():V,c=l[e]&&!b["default"].getSymbolMaskShow()?l[e]:_e.getContrByAll(e);if(!c)return!1;var u=$.isInState(c),d="table"==c.type,p=!a&&$.isTableByKey(e)&&$.isChangeStaticVal(t,"S_tableCellTextStatic")&&s.isEdting(),f=!a&&$.isTableByKey(e)&&$.isChangeStaticVal(t,"S_tableCellStatic")&&s.getTableSelectCell(),h=void 0;if(p){var m={};m.text=t,s.updateCellData(m,undefined,i)}else if(f)s.updateCellData(t,undefined,i);else if(r||!u||u&&d)t.events&&$.handleEventsData(c,t.events),$.extend(!o,c,t),$.fixTableWidthHeight(c);else if(u&&!d){var _=_e.getContrState(c);if($.isEditState(c,_))h=_e.getThisStateContr(c,e,_),$.deleteCancel(h,t),t.events&&$.handleEventsData(h,t.events),$.extend(!o,h,t);else{var v=_e.getAllValsContr({contrKey:$.getContrId(u)}),y=u.states[v.state.endState].contrs;y[e]||(y[e]={}),t.events&&$.handleEventsData(y[e],t.events),$.extend(!o,y[e],t)}}K[e+"-end"]&&(K[e+"-start"]&&delete K[e+"-start"],$.extend(!0,K[e+"-end"],t)),i||(g["default"].getMergeBoxIn()&&g["default"].emitChange(),_e.emitChange())},filterChange:function(e,t,n){1===H.length?_e.contrUpdate(e,{filter:t},!1,!0):H.forEach(function(e){_e.contrUpdate(e,{filter:t},!1,!0)}),_["default"].getCutImageShow()&&!n&&_["default"].emitChange()},selectChange:function(e,t,n,r){oe(e,t,r),n||(g["default"].getMergeBoxIn()&&g["default"].emitChange(),_e.emitChange())},backMergeBox:function(){he(),_e.emitChange(),g["default"].emitChange()},getContr:function(e){var t=g["default"].getMergeBoxShow()?g["default"].getContrs():V;return(t&&t[e]?t[e]:_e.getContrByAll(e))||{}},getContrByAll:function(e,t,n,r,i){var o=e&&-1!=e.indexOf("symbol_");if(!i&&q[e])return q[e];if(F.contrs[e])return F.contrs[e];if(r=r||p["default"].getActivePage(),(t=t||V)[e]&&(o||n||$.isNull(r)||t[e].interfaceId==r))return i||(q[e]=t[e]),t[e];for(var a in t){var s=t[a];if(!s||i||q[a]||(q[a]=s),"wrapbox"==s.type&&(o||n||$.isNull(r)||s.interfaceId==r)){var l=_e.getContrByAll(e,s.contrs,n,r);if(l)return i||(q[e]=l),l}else if("symbol"==s.type&&(o||n||$.isNull(r)||s.interfaceId==r)){var c=_e.getSymbolChildContr(s.symbolKey),u=_e.getContrByAll(e,c,!0,r);if(u)return i||(q[e]=u),u}}},getContrName:function(e){var t=_e.getContrByAll(e);return t?t.name:"null"},getSelect:function(e){return e?H:H.concat()},resetSelect:function(){var e=!1;H=H.filter(function(t){var n=_e.getContrByAll(t);return e||n||(e=!0),n}),e&&(0,A["default"])(H)},getSelectContr:function(e){var t=[];return(e||_e.getSelect()).forEach(function(e){t.push(_e.getContr(e))}),t},getFirstSelectContr:function(e,t){var n=_e.getContr(H[0]);return e&&(n=_e.getStateToContr(n,t)),n},getStateToContr:function(e,t){var n=_e.getContrState(e,t);return $.isEditState(e,n,t)?$.getStateEndContr(e,t):$.getInStateContr($.extend(!0,{},e),t)},getStateInParent:function(e,t,n){var r=t||$.isInState(e,!0),i=$.getContrId(e),o=e.state,a=void 0,s=void 0;return r&&-1!=(a=$.getThisStateIndex(r,n))&&r.states[a]&&(r.states[a].contrs[i]||(r.states[a].contrs[i]={}),(s=r.states[a].contrs[i]).state||(s.state={}),o=s.state),o},getContrState:function(e,t){return _e.getAllValsContr({contrKey:e,getLastState:!0,type:t?"start":"end"})},getSymbol:function(e,t){try{var n=F.symbols[e];if(t||!n)return n;var r=n.hierarchy||[],i={};return r.forEach(function(e){i[e]=F.contrs[e]}),{contrs:i,hierarchy:r,width:n.width,height:n.height}}catch(o){log(o)}},getSymbolContrVals:function(e){var t=$.isObject(e)?$.getContrId(e):e,n=_e.getContrByAll(t,undefined,undefined,undefined,!0);if(n){var r=$.extend(!0,{},n);return $.extend(!0,r,_e.getSymbol(n.symbolKey)),r}return e},getAllValsContr:function(e){if(e.contrKey&&$.isEmptyObj(e.contrKey)||$.isObject(e.contrKey)&&$.isUndefined(e.contrKey.isOpt))return e.contrKey;var t={contrKey:undefined,notCopy:undefined,type:"end",contrastContr:undefined,hoverContr:undefined,breakContrKey:undefined,thisContrs:undefined,stateIndex:undefined,changeThisContr:!1,parentSaveContrVals:undefined,parentSaveContrId:undefined,getLastState:!1,symbolChild:undefined},n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=e.hoverContr,c=e.contrastContr,u=!1,d=!1,p=!1,f=!1,h={};if(u=(t=$.extend(t,e)).parentSaveContrVals||t.notCache||t.changeThisContr&&t.contrKey.id,t.notCopy&&(t.changeThisContr=!0),t.changeThisContr&&t.contrKey.isDragContr){var g=v["default"].getDragContr();g.contr&&g.contr.contrs&&(t.thisContrs={},t.thisContrs[$.getContrId(g.contr)]=g.contr)}if("start"==t.type?c=t.contrastContr||_e.getContrastContr():"hover"==t.type&&(l=t.hoverContr||_e.getFirstSelectContr()),t.contrKey.id){var m=$.isUndefined(t.contrKey.interfaceId)?F.contrs:undefined;n=$.getContrId(t.contrKey),i=r="symbol"==t.contrKey.type?_e.getSymbolContrVals(n):t.changeThisContr?t.contrKey:_e.getContrByAll(n,t.thisContrs||m,undefined,t.contrKey.interfaceId,u)||t.contrKey}else n=t.contrKey,i=r=n.split&&"symbol"==n.split("_")[0]?_e.getSymbolContrVals(n):_e.getContrByAll(n,t.thisContrs,undefined,undefined,u);if(r&&!$.isUndefined(t.symbolChild)&&(u=!0),!u){if(t.getLastState&&"hover"!=t.type&&K[n+"-"+t.type+"State"])return K[n+"-"+t.type+"State"];if(!t.getLastState&&"hover"!=t.type&&K[n+"-"+t.type])return K[n+"-"+t.type];if("hover"==t.type&&r.hoverState&&r.hoverState.isEndHover&&K[n+"-"+t.type+r.hoverState.hoverEndIndex])return K[n+"-"+t.type+r.hoverState.hoverEndIndex]}o=t.notCopy?r:$.extend(!0,{},r);var _=_e.getContrAllParent(r,!0,!1,t.thisContrs)||[];if(_&&_.every(function(e){var i=$.getContrId(e);if(t.breakContrKey&&t.breakContrKey==i)return!1;if($.hasStates(e)){var s=h[i],u=void 0,g=void 0;if(t.symbolChild&&t.symbolChild[i]&&!$.isUndefined(t.symbolChild[i].endState)&&(g=+t.symbolChild[i].endState),$.isUndefined(g))if(c&&i==$.getContrId(c))if($.isUndefined(s)){var m=$.isUndefined(t.stateIndex)?$.getStateIndex(e,c,l):t.stateIndex;!$.isUndefined(m)&&e.states[m]&&(p||(p=!0),u=e.states[m])}else u=e.states[$.isUndefined(t.stateIndex)?s.startState:t.stateIndex];else if(l&&i==$.getContrId(l))if($.isUndefined(s)){var _=$.isUndefined(t.stateIndex)?$.getStateIndex(e,c,l):t.stateIndex;!$.isUndefined(_)&&e.states[_]&&(p||(p=!0),u=e.states[_])}else u=e.states[$.isUndefined(t.stateIndex)?s.hoverEndIndex:t.stateIndex];else if($.isUndefined(s)){if(!p){var v=$.getStateIndex(e,c,l);!$.isUndefined(v)&&e.states[v]&&(p=!0,u=e.states[v])}}else u=e.states[s.isEndHover?s.hoverEndIndex:s.endState];else u=e.states[g];if(u){if(u.contrs[n]){if(t.parentSaveContrId)if(f)for(var y in u.contrs[n])$.isUndefined(t.parentSaveContrVals[y])||delete t.parentSaveContrVals[y];else i==t.parentSaveContrId&&(f=!0);t.getLastState?u.contrs[n].state?a=u.contrs[n].state:(u.contrs[n].state={},a=u.contrs[n].state):(d=!0,$.handleEventsData(o,u.contrs[n].events),o=$.extend(!0,o,u.contrs[n]))}for(var w in u.contrs){var b=u.contrs[w];w!=n&&"wrapbox"==w.split("_")[0]&&(l&&w==$.getContrId(l)?h[w]=l.hoverState:h[w]=$.isUsedState(b)?b.state:_e.getContrByAll(w,undefined,undefined,r.interfaceId)?_e.getContrByAll(w,undefined,undefined,r.interfaceId).state:{})}}}return!0}),t.symbolChild&&t.symbolChild[n]&&!$.isUndefined(t.symbolChild[n].endState)&&(s=+t.symbolChild[n].endState),$.isUndefined(s)){if(!t.getLastState&&n!=t.breakContrKey&&$.hasStates(i))if(t.parentSaveContrId&&t.parentSaveContrId!=n){var y=$.getStateIndex(i,c,l);if(i.states[y])for(var w in i.states[y].contrs[n])$.isUndefined(t.parentSaveContrVals[w])||delete t.parentSaveContrVals[w]}else{var b=t.stateIndex||$.getStateIndex(o,c,l);if(!$.isUndefined(b)&&i.states[b]&&i.states[b].contrs[n]){var C=$.extend(!0,{},o.state);d=!0,$.handleEventsData(o,i.states[b].contrs[n].events),(o=$.extend(!0,o,i.states[b].contrs[n])).state=C}}}else{var S=s;if(!$.isUndefined(S)&&i.states[S]&&i.states[S].contrs[n]){var x=$.extend(!0,{},o.state);d=!0,$.handleEventsData(o,i.states[S].contrs[n].events),(o=$.extend(!0,o,i.states[S].contrs[n])).state=x}}if(t.getLastState){var E=a||r.state;return u||(K[n+"-"+t.type+"State"]=E),E}return u||("hover"!=t.type?K[n+"-"+t.type]=o:"hover"==t.type&&r.hoverState&&r.hoverState.isEndHover&&(K[n+"-"+t.type+r.hoverState.hoverEndIndex]=o)),d&&(o.getAllvals=!0),d?o:r},getContrValsAllChilds:function(e,t,n){var r=$.getContrId(e),i=_e.getAllValsContr({contrKey:e,breakContrKey:t?r:undefined,changeThisContr:!0,thisContrs:n});return i.thisSelf&&delete i.thisSelf,i},getContrAllParent:function(e,t,n,r,i){if(r=r||(e&&$.isUndefined(e.interfaceId)?F.contrs:V),e&&r[$.getContrId(e)])return i;for(var o in r){var a=i?[].concat(i):[],s=r[o];if("wrapbox"==s.type&&e&&(s.interfaceId==e.interfaceId||$.isUndefined(s.interfaceId)&&$.isUndefined(e.interfaceId))){n&&!$.hasStates(s)||a.push(t?s:$.getContrId(s));var l=_e.getContrAllParent(e,t,n,s.contrs,a);if(l)return l}}},getContrastContr:function(e){if(1==H.length){if("table"==(e=e||_e.getFirstSelectContr()).type)return;var t=_e.getAllValsContr({contrKey:e}).state;if(e.isStateContrast&&t&&!$.isUndefined(t.endState))return e;if(e.mergeName){var n=_e.getContrByAll(e.mergeName);if(n){var r=_e.getContrastContr(n);if(r)return r}}}},getStartEndContrs:function(e){return{start:_e.getAllValsContr({contrKey:e,type:"start"}),end:_e.getAllValsContr({contrKey:e})}},changeContr:function(e,t,n,r){var o=e.box&&e.box.length>1,a=e.box&&e.box.length>1?e.boxObj.contrs:V;if(g["default"].setIsWrapEdit(e.mergeEdit),o);else{for(var s in a)e.box&&a[s].interfaceId==e.box[0]&&delete a[s];e.contrs.forEach(function(e){var t=a[$.getContrId(e)]=$.extend(!0,{},e);_e.changeNums((0,i["default"])({},t.type+"Contr",Math.max(R[t.type+"Contr"],$.getContrKeyByUserKey(t)))),g["default"].changeMergeContr(a[$.getContrId(e)])}),p["default"].setPage(e.box[0],$.extend(!0,{},e.boxObj),t)}n||r?n&&!r&&setTimeout(function(){_e.selectContr(e.selectContr,!0)},0):_e.selectContr(e.selectContr,!0),t||(o?g["default"].emitChange():_e.emitMustChange())},importPage:function(e,t,n,r,i,o,a){$.isUndefined(t)&&console.log("errorqewrew ",t);var s=t||p["default"].getActivePage();!t&&p["default"].getPageHierarchy(s).length>0&&(_e.selectAllContr(!0),_e.deleteSelectContr()),n&&h["default"].pageAddGuideAllLine(n,s),r&&w["default"].pageAddNote(r,s,!0);var l=e,c=$.getSymbolObjFunc(e,undefined,t);c=$.extend(!0,{},c),P["default"].addInitVal(e,t,undefined,undefined,o),ee({contrArr:l,isImport:!0,_pageId:t,_copyPageId:i,_pagesKey:a,symbol:c.symbol,changeKeyObj:c.changeKeyObj}),t||oe([])},importPageFormProject:function(e){var t=+e.key;$.isUndefined(e.pageContrs)&&(e.pageContrs=[],log("页面数据有问题")),P["default"].addInitVal(e.pageContrs,t,undefined,undefined,e.isLandscape),h["default"].pageAddGuideAllLine(e.guideLine,t),w["default"].pageAddNote(e.note,t),ee({contrArr:e.pageContrs,isImport:!0,_pageId:t,_fromProject:!0})},otherChangePage:function(e,t,n,r,i){var o=_e.getSelect();P["default"].addInitVal(e,t,undefined,undefined,i),n&&h["default"].pageAddGuideAllLine(n,t,!0),r&&w["default"].otherChangeNote(r,t,!0),Y(e,t,o),_e.initCache()},deleteContr:function(e,t,r){var i=g["default"].getMergeBoxShow(),o=b["default"].getSymbolMask(),a=r||(i?g["default"].getContrs():o.isShow?F.contrs:V),s=t||H,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0;if((i||r)&&(l=$.query(".wrapBox.openNow:not(.isStartState)"))&&(c=l.getAttribute("data-id"),d=_e.getContrByAll(c),(f=$.isEditState(d))&&(h=$.getThisStateIndex(d))),s.forEach(function(t){var s=$.hasStates(a[t]),l=void 0;if(f&&(l=$.getIsNotOnlyExistInState(d,t,h))&&_e.contrUpdate(t,{isDelete:!0},undefined,!0),!f||f&&!l){if(i||r){var c=a[t]||_e.getContrByAll(t),u=_e.getContrAllParent(c,!0,!0)||[];(d=d||g["default"].getThisContr()).hierarchy.remove(t),u.forEach(function(e){e.states&&$.removeStatesThisContrAll(e.states,t,c)})}else if(o.isShow){var m=F.symbols[b["default"].getSymbolMaskContr().symbolKey].hierarchy;m&&m.remove(t)}else p["default"].pageRemoveContr(a[t].interfaceId,a[t].type+"_"+a[t].id);if(delete q[t],K={},delete a[t],s&&!e)n(51)["default"].deleteRelativedActions({type:"deleteContr",targetId:t})}}),!t)if(g["default"].getIsWrapEdit()){var m=$.getContrId(g["default"].getThisContr());H=[m],(0,A["default"])([m]),u["default"].change([{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0},{tabType:"event"},{tabType:"struct"},{tabType:"note"}])}else H=[],(0,A["default"])([])},deleteSelectContr:function(e){_e.deleteContr(e)},changeStateName:function(e,t){_e.getFirstSelectContr().states[e].name=t,_e.initCache(),_e.emitChange(),y["default"].emitMustChange()},createState:function(e,t){var n=_e.getFirstSelectContr(),r=-1==e?{contrs:{}}:$.extend(!0,{},n.states[e]),i=-1==e&&$.isInState(n,!0),o=$.getContrId(n),a=_e.getContrState(n);r.name=t,n.isOpenState=!0,r.contrs[o]||(r.contrs[o]={rotate:n.rotate}),$.isUndefined(n.stateNum)?(n.states={},n.state={},n.hoverState={},n.stateNum=1,n.isStateContrast=!0,a?(a.endState=0,a.startState=e):a=n.state={endState:0,startState:e}):(n.stateNum++,a.endState=n.stateNum-1,a.startState=e,n.isStateContrast=!0),n.hoverState&&n.hoverState.isEndHover&&(n.hoverState.isEndHover=!1,n.hoverState.hoverEndIndex=-1),"wrapbox"==n.type&&-1==e&&function s(e,t,n){if("table"==e.type)return;var r=t[$.getContrId(e)]={left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate};e.type;!n&&e.state&&(r.state=$.extend(!0,{},e.state));if("wrapbox"==e.type)for(var i in e.contrs){var o=e.contrs[i];"symbol"==o.type&&(o=$.extend(!0,$.extend(!0,{},o),_e.getSymbolPosi(o.symbolKey))),s(o,t)}}(n,r.contrs,!0),i&&-1==e&&function l(e,t,n){var r=$.getContrId(e);n[r]&&($.extend(!0,t[r],n[r]),t[r].state&&delete t[r].state,t[r].events&&delete t[r].events);if("wrapbox"==e.type)for(var i in e.contrs)l(e.contrs[i],t,n)}(n,r.contrs,i.states[_e.getContrState(i).endState].contrs),n.states[a.endState]=r,_e.initCache(),_e.emitChange()},contrDragToWrap:function(e){var t=g["default"].getMergeBoxShow(),n=t?g["default"].getThisContr():null,r=t?g["default"].getContrs():V,i=$.getContrId(e);r[i]=e,e.mergeName=t?$.getContrId(n):null,t?g["default"].hierarchyAddContr(i):p["default"].pageAddContr(e.interfaceId,i)},selectState:function(e,t,n){var r=t||_e.getFirstSelectContr(),i=_e.getAllValsContr({contrKey:r}).state,o=_e.getContrState(r);r.isOpenState?-1==e?(r.isOpenState=!1,o.startState=i.endState,o.endState=-1):"undefined"!=typeof o.endState?(o.startState==e&&(o.startState=n||i.endState),o.endState=e):(o.endState=e,o.startState=n||-1):(r.isOpenState=!0,o.endState=e,o.startState=n||-1),r.hoverState&&r.hoverState.isEndHover&&(r.hoverState.isEndHover=!1,r.hoverState.hoverEndIndex=null),_e.initAllValsContrs(),_e.emitChange()},selectStartState:function(e,t){var n=_e.getFirstSelectContr(),r=_e.getContrState(n);r.startState=e,$.isUndefined(r.endState)&&(r.endState="-1"),n.hoverState.isStartHover=!1,_e.initAllValsContrs(),t||_e.emitChange()},editState:function(e){var t=_e.getFirstSelectContr();B.isShow=!0,B.isHover=!1,B.contr=t,B.startState=e,B.endState=e+1,_e.emitChange()},hoverStartStateIn:function(e){_e.initCache();var t=_e.getFirstSelectContr(),n=_e.getContrState(t);$.isUndefined(t.hoverState)&&(t.hoverState={}),t.hoverState.startOldState=n.startState,t.hoverState.isStartHover=!0,n.startState=e,_e.emitChange()},hoverStartStateOut:function(){_e.initCache();var e=_e.getFirstSelectContr();_e.getContrState(e).startState=e.hoverState.startOldState,e.hoverState.isStartHover=!1,_e.emitChange()},hoverEndStateIn:function(e,t){_e.initCache();var n=t?_e.getContrByAll(t):_e.getFirstSelectContr();n.hoverState&&(n.hoverState.isEndHover=!0,n.hoverState.hoverEndIndex=e),_e.emitMustChange()},hoverEndStateOut:function(e){_e.initCache();var t=e?_e.getContrByAll(e):_e.getFirstSelectContr();t.hoverState&&(t.hoverState.isEndHover=!1,t.hoverState.hoverEndIndex=null),_e.emitMustChange()},changeRightLabel:function(e,t){(0,A["default"])(e,t)},deleteState:function(e){var t=_e.getFirstSelectContr(),i=_e.getContrState(t),o=$.getContrId(t),a=i==t.state,s=n(51)["default"],l=n(75)["default"],c=void 0;i&&i.endState==e?(delete t.states[e],0===(c=(0,r["default"])(t.states)).length?i.endState=-1:t.isStateContrast?i.endState=i.startState:i.endState=c[0],t.isStateContrast=!1,i.startState=-1):i&&i.startState==e?(t.isStateContrast=!1,i.startState=-1,delete t.states[e]):delete t.states[e],[t].concat(_e.getContrAllParent(t,!0,!0)||[]).forEach(function(t,n){if(0!=n||a||$.deleteChangeOtherState(t,e,i),t.states)for(var r in t.states)$.deleteChangeOtherState(t.states[r].contrs[o],e,i)}),s.deleteRelativedActions({type:"deleteState",targetId:$.getContrId(t),stateId:e}),l.deleteRelativedTr(t,e),_e.initAllValsContrs(),_e.emitChange()},stateOpen:function(){var e=_e.getFirstSelectContr(),t=$.getContrId(e),n=_e.getContrState(e),i=$.getIsOpenState(e,n),o=(0,r["default"])(e.states);i||!n||$.isUndefined(n.endState)?i&&n&&!$.isUndefined(n.endState)?(n.startState=n.endState,n.endState=-1):!i&&n&&$.isUndefined(n.endState)&&(n.endState=o[0],n.startState=-1):(n.endState=n.startState,n.startState=-1),n||e.state||(n=e.state={endState:o[0],startState:"-1"}),_e.contrUpdate(t,{isOpenState:!i},!0)},openStateContrast:function(){var e=_e.getFirstSelectContr(),t=$.getContrId(e),n=_e.getContrState(e),i=(0,r["default"])(e.states);n||e.state||(n=e.state={endState:"-1",startState:i[0]}),n&&n.startState==n.endState?"-1"!=n.endState&&e.isOpenState?n.startState="-1":n.startState=i[0]:e.isStateContrast||$.isUndefined(n.startState)||(-1===i.indexOf(n.startState)?(i.splice(i.indexOf(n.endState),1),0===i.length?n.startState="-1":n.startState=i[0]):"-1"!=n.startState||e.isOpenState||(n.startState=i[0])),$.isUndefined(n.endState)&&(n.endState="-1"),_e.contrUpdate(t,{isStateContrast:!e.isStateContrast},!0)},exitState:function(){var e=B.contr;oe([]),B.isShow=!1,B.isHover=!1,B.contr=null,B.startState=null,B.endState=null,oe([$.getContrId(e)]),_e.emitChange()},getState:function(){return B},getThisStateContr:function(e,t,n){var r=n||_e.getContrState(e);return e.states[r.endState].contrs[t]||(e.states[r.endState].contrs[t]={}),e.states[r.endState].contrs[t]},getSpotPosi:function(e,t,n){if(t?(t.left+=e.left,t.top+=e.top,t.rotate+=e.rotate):t={left:-2,top:-2,width:e.width,height:e.height,rotate:0},e.mergeName&&"null"!=e.mergeName){n&&"0"!=e.rotate&&(t.isRotate=!0);var r=_e.getContrByAll(e.mergeName);return r=_e.getAllValsContr({contrKey:r}),this.getSpotPosi(r,t,n)}return t},getParentRotateVals:function(e,t,n){var r={left:e?0:-2,top:e?0:-2,rotate:0},i=void 0;t||(i=s["default"].translate(r.left,r.top).rotate(r)),g["default"].getIsWrapEdit()&&g["default"].getContrList().forEach(function(e){return _e.getSelect()[0]!=$.getContrId(e)&&(e=_e.getAllValsContr({contrKey:e}),r.left+=e.left,r.top+=e.top,r.rotate+=e.rotate,t||(i=n?n(i,e):i.translate(e.left,e.top).rotate($.rotateToAngle(e.rotate))),!0)}),b["default"].getSymbolMaskShow()&&b["default"].getParentArr().forEach(function(e){r.left+=e.posi.left,r.top+=e.posi.top});var o={left:r.left,top:r.top,rotate:r.rotate};return t||(o.matrix=i),o},createContr:function(e,t){var n=g["default"].getMergeBoxShow(),r=n?g["default"].getThisContr():null,i=b["default"].getSymbolMask();!r&&i.isShow?_e.addSymbolContr(e):((n?g["default"].getContrs():V)[$.getContrId(e)]=e,e.interfaceId=p["default"].getActivePage(),e.mergeName=r?r.type+"_"+r.id:null);oe([e.type+"_"+e.id]),window.userKey&&$.addUserKeyToContr(e),g["default"].getMergeBoxShow()?g["default"].hierarchyAddContr(e.type+"_"+e.id):p["default"].pageAddContr(e.interfaceId,e.type+"_"+e.id),me(),_e.initCache(),_e.emitChange(),t||(m["default"].createData({type:"createContr",name:"["+e.name+"] 创建",handleObjType:e.type,autoSaveType:"pageContrs",isSymbolChange:"symbol"==e.type}),"symbol"==e.type&&p["default"].setAutoSaveChangePages("changeSymbol",undefined,!0))},createBaseContr:function(e,t){return z(e,t)},getContrEvents:function(e){var t=_e.getAllValsContr({contrKey:e});return{events:t.events,tags:t.eventsTag}},getStateContrs:function(){var e={};return _e.getActiveInterface().forEach(function(t){"symbol"==t.type&&(t=_e.getAllValsContr({contrKey:t})),t.states&&$.objLength(t.states)>0&&(e[t.type+"_"+t.id]=t.name),t.contrs&&function n(t){for(var r in t){var i=t[r];"symbol"==i.type&&(i=_e.getAllValsContr({contrKey:i})),i.states&&$.objLength(i.states)>0&&(e[i.type+"_"+i.id]=t[r].name),i.contrs&&n(i.contrs)}}(t.contrs)}),e},getContrStates:function(e,t,n){var r={names:[],keys:[]},i=_e.getAllValsContr({contrKey:e}),o=0;if(t&&(!n||n&&-1!=i.state.endState)&&(r.names.push("原始态"),r.keys.push("-1"),o++),i.states&&$.objLength(i.states)>0)for(var a in i.states)(!n||n&&a!=i.state.endState)&&(r.names[o]=i.states[a].name,r.keys[o]=a,o++);return r},getSelectStateInfo:function(e){var t=e||$.isInState(_e.getFirstSelectContr(),undefined,!0),r=_e.getAllValsContr({contrKey:t}).state,i=n(65)["default"].getReverse();return{start:i?r.endState:r.startState,end:i?r.startState:r.endState,reverse:i}},getTransition:function(e,t){var n=e,r=void 0;return $.objLength(n.states)>0&&(-1!=t.start?(n.states[t.start].transition||(n.states[t.start].transition={}),r=n.states[t.start].transition):(n.transition||(n.transition={}),r=n.transition)),r},setContrData:function(e,t){V[e]=t},getContrs:function(){return V},setContrs:function(e){V=e},selectContr:function(e,t,n,r,i){_e.initCache();var o=void 0;if(!e)return!1;$.isArray(e)&&(o=e,e=e[0]);var a=e?_e.getContrByAll(e):undefined;if(i){var s=i||[];_e.selectChange([],!1,!0),g["default"].wrapBoxEditOut();var l=!1;s.reverse().forEach(function(e){e&&"wrapbox"==e.type?g["default"].wrapBoxEdit(e):e&&"symbol"==e.type&&(l=!0,b["default"].init($.getContrId(e),!0))}),t||(l&&m["default"].createData({type:"changeToSymbolMask",name:"["+a.name+"] 进入引用编辑",handleObjType:a.type,autoSaveType:"none"}),S["default"].emitChange(),b["default"].emitChange())}else{if(a&&a.mergeName||r&&r.length>0){var c=r||[];_e.selectChange([],!1,!0),g["default"].wrapBoxEditOut(),r&&r.length>0||ce(c,a),c.reverse().forEach(function(e){g["default"].wrapBoxEdit(e)})}if(n){var u=!1;n.forEach(function(e){u=!0,b["default"].init(e,!0)}),t||(u&&m["default"].createData({type:"changeToSymbolMask",name:"["+a.name+"] 进入引用编辑",handleObjType:a.type,autoSaveType:"none"}),S["default"].emitChange(),b["default"].emitChange())}}_e.selectChange(o||[e],!1,t)},setContrastState:function(e,t,n){e.isStateContrast||_e.openStateContrast(),_e.selectStartState(t),m["default"].createData({type:"selectStartState",name:"["+e.name+"] 对比状态切换为"+n,handleObjType:e.type,autoSaveType:"pageContrs"})},updateImageOneContr:function(e,t,n){var r=new window.Image,i=t&&t.split&&t.split("|"),o=i&&i.length>1;r.src=window.staticUrl+e.images.imgBig,r.onload=function(){if(o){var a=i[i.length-1],s=_e.getAllValsContr({contrKey:a});_e.changeSymbolChild({src:e.images.imgBig,cutVals:$.getCutValsChangeObj(r,s)},a,i[0],!0,!0)}else ge({name:e.name,width:r.width,height:r.height,src:e.images.imgBig},t);n&&n()}},updateImageContr:function(e,t){var n=new window.Image;n.src=window.staticUrl+e.images.imgBig,n.onload=function(){H.length>1?_e.getSelectContr().forEach(function(t){ge({name:e.name,width:n.width,height:n.height,src:e.images.imgBig},t)}):ge({name:e.name,width:n.width,height:n.height,src:e.images.imgBig}),t&&t(),_e.emitChange()}},updateImageContrData:function(e){if(H.length>1)_e.getSelectContr().forEach(function(t){ge(e,t)}),G(e.fd,null,function(e){_e.getSelectContr().forEach(function(t){t.src=e})});else{var t=ge(e);G(e.fd,t)}_e.emitChange()},cutUseImageSize:function(){var e=_e.getAllValsContr({contrKey:_e.getFirstSelectContr()}),t=e.cutVals,n={width:t.boxWidth,height:t.boxHeight,left:t.boxLeft,top:t.boxTop};_e.contrUpdate($.getContrId(e),{cutVals:n}),_["default"].emitChange(),m["default"].createData({type:"cutUseImageSize",name:"["+e.name+"] 图片裁剪框宽高改为图片尺寸",handleObjType:e.type,autoSaveType:"pageContrs"})},initImageCutVals:function(e){var t={oriLeft:e.left,oriTop:e.top,oriWidth:e.width,oriHeight:e.height,width:e.width,height:e.height,left:0,top:0,boxWidth:e.width,boxHeight:e.height,boxLeft:0,boxTop:0};return _e.contrUpdate($.getContrId(e),{cutVals:t},!1,!0),t},changeImgByFd:function(e,t,n){G(e,t,n)},contrPosi:function(e,t){ue(e),t||_e.emitChange()},changeNums:function(e){$.extend(!0,R,e)},initNums:function(){R={textContr:0,imageContr:0,wrapboxContr:0,iconContr:0,hotspotContr:0,tableContr:0,symbolContr:0,symbol:0}},initCache:function(){K={},q={}},initAllValsContrs:function(){K={}},getAllValsContrs:function(){return K},initAllContrs:function(){q={}},getAllContrs:function(){return q},getNums:function(){return R},pasteContr:function(e){ee(e),_e.initCache(),e.noEmit&&_e.emitChange()},importContrFromSketch:function(e,t){ee({contrArr:e,isImport:!0,_pageId:t,_fromProject:!0}),_e.initCache(),_e.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitMustChange:function(){this.emit("mustChange")},addMustChangeListener:function(e){this.on("mustChange",e)},removeMustChangeListener:function(e){this.removeListener("mustChange",e)}});l["default"].register(function(e){var t=void 0,n=void 0,r=void 0,i=void 0;switch(e.actionType){case c["default"].CONTR_CREATEBASE:(n=z(e.option))&&_e.createContr(n);break;case c["default"].CONTR_CREATEIMAGE:(n=W(e.option))&&_e.createContr(n);break;case c["default"].CONTR_CREATEWRAP:(n=X())&&_e.createContr(n);break;case c["default"].CONTR_RESOLVE:if((t=_e.getSelectContr()).length>0){if(t.length>1){var o=[];t.forEach(function(e,a){r=(n=e).name,i=n.type,re(e,o,a!=t.length-1)})}else n=t[0],r=n.name,i=n.type,re();_e.emitChange(),m["default"].createData({type:"wrapResolve",name:"["+r+"] 集合分解",handleObjType:i,autoSaveType:"pageContrs"})}break;case c["default"].CONTR_PASTE:ee({contrArr:e.option,_isInProject:e.isInProject,symbol:e.symbol,changeKeyObj:e.changeKeyObj}),me(),_e.initCache(),_e.emitChange(),setTimeout(function(){t=_e.getSelectContr(),M(undefined,$.query("#middlePanel .eigthSpotBox")),t.length>0&&(r=t.length>1?"多元素":t[0].name,i=t.length>1?"mutiContr":t[0].type,e.noSave||(e.symbol&&p["default"].setAutoSaveChangePages("changeSymbol",undefined,!0),m["default"].createData({type:"pasteContr",name:"["+r+"] 粘贴创建",handleObjType:i,autoSaveType:"pageContrs"})))},0);break;case c["default"].CONTR_KEYMOVE:le(e.type,e.value);break;case c["default"].CONTR_MOVE:se(e.key,e.posi),e.noEmit||_e.emitChange();break;case c["default"].CONTR_POSI:ue(e),e.noEmit||_e.emitChange();break;case c["default"].CONTR_SELECTALL:_e.selectAllContr(),_e.emitChange();break;case c["default"].CONTR_DELETESELECT:var a=!1;t=_e.getSelectContr(),r=t.length>1?"多元素":t[0].name,i=t.length>1?"mutiContr":t[0].type,t.some(function(e){return"symbol"==e.type&&(a=!0,!0)}),_e.deleteSelectContr(),_e.emitChange(),m["default"].createData({type:"contrDeleteSelect",name:"["+r+"] 删除",handleObjType:i,autoSaveType:"pageContrs",isSymbolChange:a});break;case c["default"].CONTR_SELECTCHANGE:oe(e.selectArr,e.tab),_e.emitChange();break;case c["default"].CONTR_UPDATE:_e.contrUpdate(e.key,e.option,e.isOriginal,e.noEmit);break;case c["default"].CONTR_FILTERCHANGE:_e.filterChange(e.key,e.option),_e.emitChange();break;case c["default"].CONTR_UPDATEBYALL:_e.contrUpdateByAll(e.key,e.option,e.isOriginal),_e.emitChange();break;case c["default"].CONTR_SAVEMERGE:he(!0),_e.emitChange();break;case c["default"].CONTR_BACKMERGE:he(),_e.emitChange();break;case c["default"].CONTR_IMPORTPAGE:_e.importPage(e.contrs,e.pageId,e.guideLine,e.note,undefined,e.isLandscape),_e.emitChange();break;case c["default"].CONTR_CREATESTATE:_e.createState(e.index,e.name);break;case c["default"].CONTR_SELECTSTATE:_e.selectState(e.index);break;case c["default"].CONTR_EDITSTATE:_e.editState(e.index);break;case c["default"].CONTR_REWHPROP:fe(),_e.emitChange()}});var ve=_e;t["default"]=ve,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(M,"moveWindowToCenterByContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(L,"jsondiffpatch","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(N,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register("mustChange","MUST_CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(U,"MULTIPLE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(R,"__Nums","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(B,"State","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(H,"selectContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(V,"__contrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(F,"__symbolContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(q,"__allContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(K,"__allValsContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(z,"createBaseContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(W,"createImageContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(G,"changeImgByFd","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(X,"createWrapboxContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(Y,"addPageKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(J,"contrChangeMaxNum","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(Z,"changeSymbolKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(Q,"changeSymbolKeyInHierarchy","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ee,"pasteContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(te,"getNewContrKeyObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ne,"changeNameKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(re,"wrapboxResolve","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ie,"removeStateContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(oe,"selectChange","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ae,"getInterfaceContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(se,"moveContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(le,"contrKeyMove","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ce,"getParentContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ue,"contrPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(de,"changeWrapChildPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(pe,"changeImageCut","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(fe,"reWHprop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(he,"saveMergeBox","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ge,"updateImageContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(me,"createInStateWrap","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(_e,"ContrStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),t.register(ve,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ContrStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(117),i=new r.Dispatcher;t["default"]=i},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(3),o=n.n(i),a=n(15),s=n.n(a),l=n(46),c=n(11),u=n(80),d=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p={selectContr:null,selectCell:null,isDraging:!1,isEditing:!1},f={contr:null,selectCell:null,direction:""},h=null,g=window.$,m=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getTableData=function(){return p},t.prototype.setCopySaveCellData=function(e){h=e},t.prototype.getCopySaveCellData=function(){return h},t.prototype.isSelectTableCell=function(){return!!(p&&p.selectContr&&p.selectCell)},t.prototype.setCopySpotData=function(e){f=e},t.prototype.getCopySpotData=function(){return f},t.prototype.findTableCell=function(e,t){var n={},r=p.selectContr,i=p.selectCell;if(t&&e||r&&i){var a=g.getContrId(t||r);r=o.a.getContrByAll(a);var s=e||i[0],l=s.columnIndex,c=s.lineIndex,u=(t||r).child;u&&u[l+"_"+c]&&(n=u[l+"_"+c])}return g.extend(!0,{},n)},t.prototype.getOneCellData=function(e,t){var n=this.findTableCell(e,t),r=g.getStatic("S_tableCellStatic");return r.text=g.getStatic("S_tableCellTextStatic"),g.extend(!0,r,n)},t.prototype.isSelectOneCell=function(){var e=p.selectContr,t=p.selectCell;if(e&&t){var n=t[0],r=n.columnIndex,i=n.lineIndex,o=t[1],a=o.columnIndex,s=o.lineIndex;if(r===a&&i===s)return!0}return!1},t.prototype.isEditingTableCell=function(e){var t=p.selectContr,n=p.selectCell;if(p.isEditing&&t&&n){var r=n[0],i=r.columnIndex,o=r.lineIndex;if(e.columnIndex===i&&e.lineIndex===o)return!0}return!1},t.prototype.isEdting=function(){return p.isEditing},t.prototype.updateCellData=function(e,t,n){var r=p.selectContr,i=p.selectCell;if(r&&i){var a=g.getContrId(r);r=o.a.getContrByAll(a);for(var s=g.getMinMaxColumnLine(i,r),l=s.minColumn,c=s.maxColumn,u=s.minLine,d=s.maxLine,f=r.child,h=l;h<=c;h++)for(var m=u;m<=d;m++){var _=this.findTableCell({columnIndex:h,lineIndex:m});g.isFunc(e)?f[h+"_"+m]=g.extend(!0,_,e()):f[h+"_"+m]=g.extend(!0,_,e)}o.a.contrUpdate(a,{child:f},!0,n,!0),this.emitChange()}},t.prototype.selectTableCellByPosi=function(e){var t=p.selectContr;if(t){var n=g.getContrId(t);t=o.a.getContrByAll(n);for(var r=e.x,i=e.y,a=t.linePosi,s=t.columnPosi,l={columnIndex:0,lineIndex:0},c=!1,d=0,f=0;d<s.length;d++){for(var h=0,m=0;h<a.length&&(r>=f&&r<f+s[d]&&i>=m&&i<m+a[h]&&(c=!0,l.columnIndex=d,l.lineIndex=h),m+=a[h],!c);h++);if(f+=s[d],c)break}var _=this.getOneCellData(l,t);if(_.mergeKey){var v=_.mergeKey.split("_");l.columnIndex=parseInt(v[0]),l.lineIndex=parseInt(v[1])}c&&(this.setTableSelectCell([l,g.extend(!0,{},l)]),Object(u["default"])([n]),o.a.emitMustChange())}},t.prototype.MouseKeyChangeSelect=function(e,t,n){if(p&&p.selectContr&&p.selectCell){var r=p.selectContr,i=p.selectCell,a=g.getContrId(r),s=r=o.a.getContrByAll(a),l=s.columnPosi,c=s.linePosi,u=i[0],d=u.columnIndex,f=u.lineIndex,h=i[1],m=h.columnIndex,_=h.lineIndex;"up"===e?_=t?n?0:_-1:f=n?0:f-1:"down"===e?_=t?n?c.length-1:_+1:f=n?c.length-1:f+1:"left"===e?m=t?n?0:m-1:d=n?0:d-1:"right"===e&&(m=t?n?l.length-1:m+1:d=n?l.length-1:d+1),f=g.setRegion(f,0,c.length-1),d=g.setRegion(d,0,l.length-1),_=g.setRegion(_,0,c.length-1),(m=g.setRegion(m,0,l.length-1))==i[1].columnIndex&&_==i[1].lineIndex&&d==i[0].columnIndex&&f==i[0].lineIndex||this.setTableSelectCell([{columnIndex:d,lineIndex:f},{columnIndex:m,lineIndex:_}])}},t.prototype.getStartCellPosi=function(){var e={left:0,top:0,width:0,height:0};if(p&&p.selectContr&&p.selectCell){var t=o.a.getFirstSelectContr(),n=t.columnPosi,r=t.linePosi,i=p.selectCell[0],a=i.columnIndex,s=i.lineIndex,l=p.selectCell[1],c=l.columnIndex,u=l.lineIndex,d=g.getSortNumber([a,c]),f=g.getSortNumber([s,u]),h=this.getOneCellData(p.selectCell[0]);if(e.width+=n[a],e.height+=r[s],h&&h.mergeColumn)for(var m=a+1;m<=a+h.mergeColumn;m++)e.width+=n[m];if(h&&h.mergeLine)for(m=s+1;m<=s+h.mergeLine;m++)e.height+=r[m];for(var _=d[0];_<a;_++)e.left+=n[_];for(_=f[0];_<s;_++)e.top+=r[_]}return e},t.prototype.getSelectCellPosi=function(){var e={left:0,top:0,width:0,height:0};if(p&&p.selectContr&&p.selectCell){for(var t=o.a.getFirstSelectContr(),n=t.columnPosi,r=t.linePosi,i=g.getMinMaxColumnLine(p.selectCell,t),a=i.minColumn,s=i.maxColumn,l=i.minLine,c=i.maxLine,u=0;u<a;u++)e.left+=n[u];for(u=0;u<l;u++)e.top+=r[u];for(u=a;u<=s;u++)e.width+=n[u];for(u=l;u<=c;u++)e.height+=r[u]}return e},t.prototype.getTableSelectCell=function(){return p.selectCell},t.prototype.initTableSelectCell=function(e,t,n){var r=o.a.getContrByAll(e);p={selectContr:r,selectCell:g.extend(!0,[],t),isDraging:!1,isEditing:n}},t.prototype.getTableSelectContr=function(){return p.selectContr?o.a.getContrByAll(g.getContrId(p.selectContr)):p.selectContr},t.prototype.tableDataInit=function(e){var t=p.selectContr,n=p.selectCell,r=p.isDraging,i=e?o.a.getFirstSelectContr():null;!e&&g.isNull(t)&&g.isNull(n)&&r||(p={selectContr:i,selectCell:null,isDraging:!1},this.emitChange())},t.prototype.setTableSelectCell=function(e,t){p.selectCell=e,p.isEditing&&(p.isEditing=!1,o.a.emitMustChange()),t||this.emitChange()},t.prototype.selectAllCell=function(){var e=p.selectContr,t=p.selectCell;if(e&&t){var n=(e=o.a.getContrByAll(g.getContrId(e))).columnPosi,r=e.linePosi;p.selectCell=[{columnIndex:0,lineIndex:0},{columnIndex:n.length-1,lineIndex:r.length-1}],p.isEditing&&(p.isEditing=!1,o.a.emitMustChange()),this.emitChange()}},t.prototype.setTableCellEdit=function(e,t){p.isEditing=e,t||(o.a.emitMustChange(),this.emitChange())},t.prototype.setTableSelectCellEnd=function(e){p.isDraging&&p.selectCell&&(p.selectCell=[p.selectCell[0],e],this.emitChange())},t.prototype.setDraging=function(e){var t=g.query(".isOnlyOpt");e?g.hasClass(t,"table-cell-draging")||g.addClass(t,"table-cell-draging"):g.hasClass(t,"table-cell-draging")&&g.removeClass(t,"table-cell-draging"),p.isDraging=e},t.prototype.getDraging=function(){return p.isDraging},t.prototype.changeTableContr=function(e){var t=o.a.getFirstSelectContr();if(t){var n=g.getContrId(t);o.a.contrUpdate(n,e,!0)}},t.prototype.pasteCell=function(e){var t=p.selectContr,n=p.selectCell,r=h[0].length,i=h.length;if(t&&n){var a=g.getContrId(t);t=o.a.getContrByAll(a);for(var l=g.getMinMaxColumnLine(n,t),c=l.minColumn,u=l.maxColumn,d=l.minLine,f=l.maxLine,m=t.child,_=g.extend(!0,{},m),v=c;v<=u;v++)for(var y=d;y<=f;y++){var w=h[(v-c)%i][(y-d)%r];g.isEmptyObj(w)?_[v+"_"+y]&&delete _[v+"_"+y]:_[v+"_"+y]=g.extend(!0,{},w)}o.a.contrUpdate(a,{child:_},!0,e,!0),e||(this.emitChange(),s.a.createData({type:"tablePasteCell",name:"["+t.name+"] 粘贴单元格内容",handleObjType:t.type,autoSaveType:"pageContrs"}))}},t.prototype.changeTableCellWH=function(e,t){var n=p.selectContr,r=p.selectCell;if(n&&r){var i={},a=g.getContrId(n),l=(n=o.a.getContrByAll(a)).columnPosi,c=n.linePosi,u=g.getMinMaxColumnLine(r,n),d=u.minColumn,f=u.maxColumn,h=u.minLine,m=u.maxLine;if("width"==e){i.width=n.width;for(var _=d;_<=f;_++){var v=l[_];l[_]=t,i.width+=t-v}i.columnPosi=l}else if("height"==e){i.height=n.height;for(_=h;_<=m;_++){var y=c[_];c[_]=t,i.height+=t-y}i.linePosi=c}o.a.contrUpdate(a,i,!0),s.a.createData({type:"changeTableCellWH",name:"["+n.name+"] 改变单元格"+("width"==e?"宽":"高"),handleObjType:n.type,autoSaveType:"pageContrs"}),this.emitChange()}},t.prototype.addLine=function(e,t){var n=p.selectContr;if(n){var r=g.getContrId(n),i=(n=o.a.getContrByAll(r)).height,a=n.linePosi,l=n.columnPosi,c=n.child,u=t||{columnIndex:l.length-1,lineIndex:a.length-1},d=g.extend(!0,{},c),f=a[u.lineIndex],h=[].concat(a);h.splice(u.lineIndex+(e?0:1),0,f);var m={height:i+f,linePosi:h},_={};for(var v in d){var y=v.split("_"),w=parseInt(y[0]),b=parseInt(y[1]);b>=u.lineIndex+(e?0:1)&&c[v]?_[w+"_"+(b+1)]=d[v]:_[v]=d[v]}m.child=_,e&&p&&p.selectCell&&(p.selectCell[0].lineIndex=p.selectCell[0].lineIndex+1,p.selectCell[1].lineIndex=p.selectCell[1].lineIndex+1,this.emitChange()),o.a.contrUpdate(r,m,!0,undefined,!0),s.a.createData({type:"changeAddLine",name:"["+n.name+"] 表格添加行",handleObjType:n.type,autoSaveType:"pageContrs"})}},t.prototype.removeColumnOrLineChild=function(e,t,n){for(var r in e){var i=r.split("_"),o=parseInt(i[0]),a=parseInt(i[1]);(n&&o===t-1||!n&&a===t-1)&&delete e[r]}},t.prototype.changeColumnByNum=function(e){var t=o.a.getFirstSelectContr();if(t){var n=g.getContrId(t),r=t.width,i=t.columnPosi,a=e-i.length,l=[].concat(i),c=void 0;if(a>0){for(var u=i[i.length-1],d=0;d<a;d++)l.push(u);c={columnPosi:l,width:r+u*a}}else if(a<0){var p=0,f=g.extend(!0,{},t.child||{});for(d=i.length;d>e;d--)p+=i[d-1],this.removeColumnOrLineChild(f,d,!0);l.splice(e),c={columnPosi:l,width:r-p,child:f}}c&&(o.a.contrUpdate(n,c,!0,undefined,!0),s.a.createData({type:"changeColumnByNum",name:"["+t.name+"] 修改表格行数",handleObjType:t.type,autoSaveType:"pageContrs"}))}},t.prototype.changeLineByNum=function(e){var t=o.a.getFirstSelectContr();if(t){var n=g.getContrId(t),r=t.height,i=t.linePosi,a=e-i.length,l=[].concat(i),c=void 0;if(a>0){for(var u=i[i.length-1],d=0;d<a;d++)l.push(u);c={linePosi:l,height:r+u*a}}else if(a<0){var p=0,f=g.extend(!0,{},t.child||{});for(d=i.length;d>e;d--)p+=i[d-1],this.removeColumnOrLineChild(f,d,!1);l.splice(e),c={linePosi:l,height:r-p,child:f}}c&&(o.a.contrUpdate(n,c,!0,undefined,!0),s.a.createData({type:"changeLineByNum",name:"["+t.name+"] 修改表格列数",handleObjType:t.type,autoSaveType:"pageContrs"}))}},t.prototype.addColumn=function(e,t){var n=o.a.getFirstSelectContr();if(n){var r=g.getContrId(n),i=n.width,a=n.columnPosi,l=n.linePosi,c=n.child,u=t||{columnIndex:a.length-1,lineIndex:l.length-1},d=g.extend(!0,{},c),f=a[u.columnIndex],h=[].concat(a);h.splice(u.columnIndex+(e?0:1),0,f);var m={columnPosi:h,width:i+f},_={};for(var v in d){var y=v.split("_"),w=parseInt(y[0]),b=parseInt(y[1]);w>=u.columnIndex+(e?0:1)&&c[v]?_[w+1+"_"+b]=d[v]:_[v]=d[v]}m.child=_,e&&p&&p.selectCell&&(p.selectCell[0].columnIndex=p.selectCell[0].columnIndex+1,p.selectCell[1].columnIndex=p.selectCell[1].columnIndex+1,this.emitChange()),o.a.contrUpdate(r,m,!0,undefined,!0),s.a.createData({type:"changeAddColumn",name:"["+n.name+"] 表格添加列",handleObjType:n.type,autoSaveType:"pageContrs"})}},t.prototype.deleteLine=function(e,t){var n=p.selectContr,r=p.selectCell;if(n&&r){var i=g.getContrId(n),a=(n=o.a.getContrByAll(i)).height,s=n.linePosi,l=n.child,c=r[0],u=c.columnIndex,d=c.lineIndex,f=e===s.length-1,h=s[e],m=[].concat(s);m.splice(e,1);var _={};for(var v in l){var y=v.split("_"),w=parseInt(y[0]),b=parseInt(y[1]);b==e?delete _[v]:b>e?_[w+"_"+(b-1)]=l[v]:_[v]=l[v]}var C={height:a-h,linePosi:m,child:_};o.a.contrUpdate(i,C,!0,t,!0),this.setTableSelectCell([{columnIndex:u,lineIndex:f?C.linePosi.length-1:d},{columnIndex:u,lineIndex:f?C.linePosi.length-1:d}],t)}},t.prototype.deleteColumn=function(e,t){var n=p.selectContr,r=p.selectCell;if(n&&r){var i=g.getContrId(n),a=(n=o.a.getContrByAll(i)).width,s=n.columnPosi,l=n.child,c=r[0],u=c.columnIndex,d=c.lineIndex,f=e===s.length-1,h=s[e],m=[].concat(s);m.splice(e,1);var _={};for(var v in l){var y=v.split("_"),w=parseInt(y[0]),b=parseInt(y[1]);w==e?delete _[v]:w>e?_[w-1+"_"+b]=l[v]:_[v]=l[v]}var C={width:a-h,columnPosi:m,child:_};o.a.contrUpdate(i,C,!0,t,!0),this.setTableSelectCell([{columnIndex:f?C.columnPosi.length-1:u,lineIndex:d},{columnIndex:f?C.columnPosi.length-1:u,lineIndex:d}],t)}},t.prototype.mergeCell=function(e){var t=p.selectContr,n=p.selectCell;if(t&&n){var r=g.getContrId(t);t=o.a.getContrByAll(r);for(var i=g.getMinMaxColumnLine(n,t),a=i.minColumn,l=i.maxColumn,c=i.minLine,u=i.maxLine,d=t.child,f=g.extend(!0,{},d),h=a;h<=l;h++)for(var m=c;m<=u;m++)if(h===a&&m===c){f[h+"_"+m]=f[h+"_"+m]||{};var _=f[h+"_"+m];_.mergeColumn=l-a,_.mergeLine=u-c}else f[h+"_"+m]={mergeKey:a+"_"+c};o.a.contrUpdate(r,{child:f},!0,e,!0),this.setTableSelectCell([{columnIndex:a,lineIndex:c},{columnIndex:a,lineIndex:c}],e),s.a.createData({type:"tableMergeCell",name:"["+t.name+"] 表格合并单元格",handleObjType:t.type,autoSaveType:"pageContrs"}),e||this.emitChange()}},t.prototype.resolveCell=function(e){var t=p.selectContr,n=p.selectCell;if(t&&n){var r=g.getContrId(t);t=o.a.getContrByAll(r);for(var i=this.getOneCellData(n[0]),a=n[0].columnIndex,l=n[0].lineIndex,c=a+(i.mergeColumn||0),u=l+(i.mergeLine||0),d=t.child,f=g.extend(!0,{},d),h=a;h<=c;h++)for(var m=l;m<=u;m++)if(h===a&&m===l){var _=f[h+"_"+m];_.mergeColumn=0,_.mergeLine=0}else f[h+"_"+m]&&delete f[h+"_"+m];o.a.contrUpdate(r,{child:f},!0,e,!0),this.setTableSelectCell([{columnIndex:a,lineIndex:l},{columnIndex:c,lineIndex:u}],e),e||(s.a.createData({type:"tableResolveCell",name:"["+t.name+"] 表格分解单元格",handleObjType:t.type,autoSaveType:"pageContrs"}),this.emitChange())}},t.prototype.emitChange=function(){this.emit("change"),g.query(".fill-panel-page")&&l.a.emitChange()},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(c.EventEmitter));r["default"].register(function(e){}),t["default"]=m},,function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(48),o=new(function(){function e(){this.ToastActionID=i.a}return e.prototype.show=function(e,t,n){r["default"].dispatch({actionType:i.a.TOAST_SHOW,text:e,callback:t,time:n})},e}());t["default"]=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(337)),i=C(n(85)),o=C(n(12)),a=C(n(4)),s=C(n(107)),l=C(n(28)),c=C(n(65)),u=C(n(74)),d=C(n(33)),p=C(n(38)),f=C(n(66)),h=C(n(154)),g=C(n(72)),m=C(n(26)),_=C(n(93)),v=C(n(94)),y=C(n(7)),w=C(n(96)),b=C(n(5));function C(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var S=n(282).create(),x=n(10).EventEmitter,E=n(42),P={num:0,total:0,folderTotal:0,zoom:.5,type:"mainBox",prevMode:"normal",mode:"normal",pageIndexKey:-1,leftUnFold:!1,isGrid:!1,isRule:!0,isGuide:!0,isHideHotspot:!1,isHideOtherPage:!1,isHideNote:!1,isHideEventTag:!1,isHideAnimTag:!1,isShowName:!0,isShowPageNo:!0,isShowPageGuide:!0,stateFold:!1,addNote:!1,proid:null,name:"",isInit:!1,isLoaded:!0,multiViewType:window.isPc?"free-view":"fixed-view",pageToolFold:!1,structHierarchy:[],isShowPageStruct:!1,isAutoSaving:!1,autoSaveDate:null,oldChangeNum:0,noStructHierarchy:!1,versionSet:{desc:"",title:"初始版本",isDelete:!1,activeKey:""},versionIndexKey:"",isOffLine:!1,iconImg:""},T={},j={},I=[],k=void 0,A=null,D={},O=[],M={},L=void 0,N=void 0,U=[],R=[],B=void 0,H=[],V=0,F=void 0,q={date:null,content:null,selectStructArr:null};function K(){F={data:null,sendDate:null,lastSaveKey:null}}function z(){A=Se.getActivePage(),$.setPhoneConBoxTrans(),Se.switchMode("multi-view",!0),T[A]&&(T[A].active=!1),w["default"].choosePageSocket(-1,P.proid)}function W(e){var t=n(3)["default"],r="fixed-view"==P.multiViewType,i=Se.getActivePage(!0),o=i&&i.isLandscape;if(t.initCache(),!window.isPc)if(Se.isMultiView()&&P.isShowPageStruct&&(P.isShowPageStruct=!1,d["default"].reset()),"multi-view"==P.mode)$.setPhoneConBoxTrans(),Se.switchMode("normal",!0);else if(!e.noPosiChange)if(e.noAnim||$.setPhoneConBoxTrans(),r){var a=$.getElById(i.id),s=$.getElById(T[e.index].id);a&&s&&l["default"].changePrevPos({left:0,top:a.offsetTop-s.offsetTop})}else l["default"].changePrevPos({left:i.left-T[e.index].left,top:i.top-T[e.index].top});var c=Se.getActivePage();c&&(T[c].active=!1),T[e.index].active=!0,e.noEmit||e.isNotSendSocket||w["default"].choosePageSocket(e.index,P.proid),Se.selectChange([],!e.noAnim),window.isPc||(r&&(T[e.index].isLandscape||o)?(l["default"].emitChange(),setTimeout(function(){l["default"].setCenter({activePage:T[e.index],isFixedView:r,noEmit:e.noEmit})},0)):l["default"].setCenter({activePage:T[e.index],isFixedView:r,noEmit:e.noEmit}))}function G(e){var t=n(51)["default"],r=Se.findStructFolder(e,"page");delete T[e],P.num--,r.hierarchy.splice(r.index,1),t.deleteRelativedActions({type:"deletePage",pageId:e})}function X(e,t){T[e]&&(T[e]=$.extend(!0,T[e],t),t.events&&(T[e].events=$.extend(!0,{},t.events)))}function Y(e,t,n){for(var r in D={},L=e.lastSaveKey,f["default"].initUpdateTime(e.updateTime),e)if("content"==r)for(var i in D.content={},e[r])D.content[i]=$.extend(!0,{},e[r][i]),t&&t(i);else D[r]=e[r];n||(P.initStructHierarchy=$.extend(!0,[],P.structHierarchy))}function J(e){Se.setViewProp({name:e.name,pageIndexKey:e.pageIndexKey,isGrid:e.isGrid,isRule:e.isRule,isGuide:e.isGuide,isHideHotspot:e.isHideHotspot,isHideOtherPage:e.isHideOtherPage,isHideNote:e.isHideNote,isShowName:e.isShowName,isShowPageNo:e.isShowPageNo,isShowPageGuide:e.isShowPageGuide,isHideEventTag:e.isHideEventTag,isHideAnimTag:e.isHideAnimTag,proid:$.getUrlParam("proid"),multiViewType:e.multiViewType,versionSet:e.versionSet,versionIndexKey:e.versionIndexKey,iconImg:e.iconImg},!0)}function Z(e){e&&e.length>0&&h["default"].initVersion(e.map(function(e){return{key:e._id,desc:e.desc,title:e.title,time:E(e.update_date).format("YYYY/MM/DD HH:mm")}}))}function Q(e){$.isUndefined(window.versionKey)&&(window.versionKey=""),window.versionIndexKey||(window.versionIndexKey=""),e.versionSet||(e.versionSet={});var t=$.getUrlParam("versionKey");window.versionKey?e.versionSet.activeKey=window.versionKey:"true"==$.getUrlParam("baseversion")?e.versionSet.activeKey="":e.versionSet.activeKey=t||window.versionKey,window.isDeleteVersion&&(e.versionSet.isDelete=!0),P.versionIndexKey=e.versionIndexKey=window.versionIndexKey,P.versionSet.activeKey=e.versionSet.activeKey}function ee(e){var t=n(3)["default"];Se.create({key:+e.key,name:e.name,left:window.isPc?0:e.left,top:window.isPc?0:e.top,backColor:e.backColor,pageHeight:e.pageHeight?e.pageHeight*window.ss:e.pageHeight,events:e.events,serverKey:e.serverKey,isShow:e.isShow,isLandscape:e.isLandscape},!0),t.importPageFormProject(e)}function te(e,t,n,r){$.fixedHierarchy(e,t,n,r),P.structHierarchy=e,t.forEach(function(e){n&&n(),P.structHierarchy.push({key:e,type:"page"})}),P.folderTotal=le(P.structHierarchy,P.folderTotal)}function ne(e,t){var r="object"==(0,i["default"])(e.content)?e.content:$.stringToObj(e.content),o=n(3)["default"],a=$.getElById("middlePanel"),s=r&&r.projectSet&&r.projectSet.structHierarchy,l=void 0,c=void 0,d=void 0,p=void 0,h=$.getUrlParam("proid");if($.removeClass(a,"noZoom"),Z(e.versionList),g["default"].setCooperationUserNum(e.cooperationUserLength,undefined,function(){_["default"].emitCooperationChange()}),t&&t[h]){var m=t[h].data;m&&(d=!0,c||(c=$.extend(!0,{},r)),Se.setProjectData(),r=S.patch(r,m)),delete t[h],window.localStorage.offLineData=$.objToString(t)}Y(e,function(t){"projectSet"!=t&&"symbolContrs"!=t&&(parseInt(t)==t&&r[t].backColor?(l||r&&r[e.pageIndexKey]||(e.pageIndexKey=t,l=r[t]),H.push(""+t),s||P.structHierarchy.push({key:t,type:"page"})):(c||(c=$.extend(!0,{},r)),delete r[t],d=!0))},!0),s&&(te(r.projectSet.structHierarchy,H,function(){c||(c=$.extend(!0,{},r)),d=!0},[]),r.projectSet.structHierarchy=$.extend(!0,[],P.structHierarchy)),d&&!p&&(p=S.diff(c,r)),r&&r.projectSet&&(window.isPc&&(r.projectSet.multiViewType="free-view"),J($.extend({name:e.name,pageIndexKey:e.pageIndexKey,iconImg:e.iconImg},r.projectSet)),Q(r.projectSet)),D.content.projectSet.structHierarchy||(P.noStructHierarchy=!0,D.content.projectSet.structHierarchy=$.extend(!0,[],P.structHierarchy)),P.initStructHierarchy=$.extend(!0,[],P.structHierarchy),r.symbolContrs&&o.setSymbolContr(r.symbolContrs),r&&r[P.pageIndexKey]&&ee(r[P.pageIndexKey]),e.pageIndexKey&&W({index:e.pageIndexKey,noEmit:!0,noPosiChange:!0}),o.emitChange(),Se.emitViewChange(),window.windowNums=o.getNums(),log&&(log(window.windowNums,"getNums"),log(o.getContrs(),"getContrsInit"),log(o.getSymbolContr(),"getSymbolContrInit")),setTimeout(function(){for(var t in r){var n=r[t];"projectSet"!=t&&"symbolContrs"!=t&&P.pageIndexKey!=n.key&&ee(n)}j=$.extend(!0,{},T),P.isInit=!0,o.emitChange(),f["default"].emitChange(),u["default"].emitMustChange(),setTimeout(function(){Se.setLoad(!0),Se.emitViewChange();var t=$.getUrlParam("activePage");t&&T[t]||(t=e.pageIndexKey),t&&W({index:t,noEmit:!1,noPosiChange:!0}),v["default"].emitChange(),$.addClass(a,"noZoom"),p&&w["default"].post({proid:P.proid,lastSaveKey:L,data:$.objToString(p),name:P.name,pageIndexKey:Se.getPageIndexKey(),callback:function(e){0==e.code?L=e.lastSaveKey:y["default"].show(e.msg)}})},0)},500)}function re(){M={}}function ie(){clearTimeout(N),N=setTimeout(function(){Se.saveFunc(!0)},V)}function oe(e,t,n){ae(e.oldPages,t),ae(e.newPages,n),se(e)}function ae(e,t,n){return t.forEach(function(t){"folder"==t.type?ae(e,t.folderHierarchy,n):e.push(""+t.key)}),t}function se(e){e.oldPages.forEach(function(t){-1==e.newPages.indexOf(t)&&e.remove.push(t)}),e.newPages.forEach(function(t){-1==e.oldPages.indexOf(t)&&e.add.push(t)})}function le(e,t){return e.forEach(function(e){"folder"==e.type&&(t=Math.max(parseInt(e.key),t),t=Math.max(t,le(e.folderHierarchy,t)))}),t}function ce(e){P.zoom=e/100}function ue(e,t){T[e].backColor=t}function de(e,t){T[e].isLandscape=t}function pe(){"normal"==P.mode&&"fixed-view"==P.multiViewType&&setTimeout(function(){var e=Se.getActivePage();e&&W({index:e})},0)}function fe(){var e=$.extend(!0,{},P.versionSet);return delete e.activeKey,{isGrid:P.isGrid,isRule:P.isRule,isGuide:P.isGuide,isHideHotspot:P.isHideHotspot,isHideOtherPage:P.isHideOtherPage,isHideNote:P.isHideNote,isShowName:P.isShowName,isShowPageNo:P.isShowPageNo,isShowPageGuide:P.isShowPageGuide,isHideEventTag:P.isHideEventTag,isHideAnimTag:P.isHideAnimTag,structHierarchy:$.extend(!0,[],P.structHierarchy),multiViewType:P.multiViewType,versionSet:e}}function he(){var e=Se.getPageIndexKey();if($.isUndefined(e))y["default"].show("当前项目没有页面，不能保存！");else{var t=void 0;P.isOffLine=!0;var n=P.proid,r=function(e){P.lastAutoSaveData?e[n]={data:P.lastAutoSaveData,startDate:P.autoSaveDate,lastSaveKey:L,num:1}:e[n]={data:P.lastAutoSaveData,startDate:new Date,lastSaveKey:L,num:1}};window.localStorage.offLineData?(t=$.stringToObj(window.localStorage.offLineData))[n]?(t[n].data=$.extend(!0,{},M),t[n].endDate=new Date,t[n].num++):r(t):r(t={}),window.localStorage.offLineData=$.objToString(t),window.navigator.onLine&&ge()}}function ge(e){if(!P.isOffLine)return!1;w["default"].isOffLine({callback:function(t){if(0==t.code){var n=P.proid,r=window.localStorage.offLineData&&$.stringToObj(window.localStorage.offLineData);if(r&&r[n]&&r[n].data){var i=r[n].data;Se.setProjectData();var o=$.extend(!0,{},D.content);o=S.unpatch(o,i);var a=S.diff(o,D.content);a&&(M=a,delete r[n],window.localStorage.offLineData=$.objToString(r),P.isAutoSaving=!0,P.isOffLine=!1,me(!0))}else e&&(P.isOffLine=!1)}}})}function me(e,t){var n=Se.getPageIndexKey();f["default"].setSaving(),window.isDevelop||window.navigator.onLine||y["default"].show("您处于无网环境中，请检测网络是否正常"),$.isUndefined(n)?(e||t||y["default"].show("当前项目没有页面，不能保存！"),t&&$.isFunc(t)&&y["default"].show("当前项目没有页面，不能预览！"),f["default"].setNotSaving(),P.isAutoSaving=!1):(P.oldChangeNum=Se.getAutoSaveChangePages().length,P.autoSaveDate=new Date,P.lastAutoSaveData=$.extend(!0,{},M),F={data:P.lastAutoSaveData,sendDate:P.autoSaveDate,lastSaveKey:L},w["default"].post({proid:P.proid,lastSaveKey:L,data:$.objToString(P.lastAutoSaveData),name:P.name,pageIndexKey:n,callback:function(n){0==n.code?(re(),f["default"].saveToCloud(P.oldChangeNum),Se.initAutoSaveChangePages(P.oldChangeNum),L=n.lastSaveKey,P.isAutoSaving=!1,P.autoSaveDate=null,P.lastAutoSaveData=null,e||t||y["default"].show("保存成功"),t&&$.isFunc(t)&&t()):y["default"].show(n.msg)}}))}function _e(){var e=void 0;P.isOffLine=!0;var t=P.proid,n=function(e){F&&F.data&&(e[t]={data:F.data,startDate:F.sendDate,lastSaveKey:F.lastSaveKey,num:1},K())};window.localStorage.offLineData?(e=$.stringToObj(window.localStorage.offLineData))[t]||n(e):n(e={}),window.localStorage.offLineData=$.objToString(e)}function ve(e,t){var r=n(3)["default"],i=n(41)["default"],o=n(37)["default"],a=n(30)["default"],s=e.split("__"),l=s[0],c=T[l],u=void 0,d=$.extend(!0,{},D.content[l]);if("pageContrs"==s[1])$.isArray(M[l])&&1===M[l].length&&(d=M[l][0]),d.pageContrs=r.getPageByHierarchy(l,!0),i.removeInitVal(d.pageContrs,undefined,c&&c.isLandscape),(u=$.isArray(M[l])&&1===M[l].length?M[l]:M[l]?S.diff(S.unpatch(D.content[l],M[l]),d):S.diff(D.content[l],d))&&(t&&t(),D.content[l]=d,M[l]=u);else if("pageVals"==s[1])try{$.isArray(M[l])&&1===M[l].length&&(d=M[l][0]),d.top=c.top,d.left=c.left,d.name=c.name,d.key=c.key,d.serverKey=c.serverKey,d.isShow=c.isShow,d.guideLine=o.getPageLineArr(c.key),d.note=a.getNoteArr(c.key,!0),d.backColor=c.backColor,d.pageHeight=c.pageHeight?c.pageHeight/window.ss:c.pageHeight,d.isLandscape=c.isLandscape,c.events?d.events=$.extend(!0,{},c.events):d.events={},(u=$.isArray(M[l])&&1===M[l].length?M[l]:M[l]?S.diff(S.unpatch(D.content[l],M[l]),d):S.diff(D.content[l],d))&&(t&&t(),D.content[l]=d,M[l]=u)}catch(p){log(p)}}function ye(e){var t=n(37)["default"],r=n(30)["default"],i=n(3)["default"],o=n(41)["default"],a=void 0,s=fe(),l={remove:[],add:[],oldPages:[],newPages:[]};oe(l,D.content.projectSet.structHierarchy,P.structHierarchy),M.projectSet?a=S.diff(S.unpatch(D.content.projectSet,M.projectSet),s):(P.noStructHierarchy&&delete D.content.projectSet.structHierarchy,a=S.diff(D.content.projectSet,s)),a&&(e&&e(),D.content.projectSet=s,M.projectSet=a,P.noStructHierarchy=!1),0!==l.remove.length&&(e&&e(),l.remove.forEach(function(e){var t=void 0;t=M[e]?S.unpatch(D.content[e],M[e]):D.content[e],M[e]=[$.extend(!0,{},t),0,0],delete D.content[e]})),0!==l.add.length&&(e&&e(),l.add.forEach(function(e){var n=$.extend(!0,{},D.content[e]),a=T[e];n.top=a.top,n.left=a.left,n.name=a.name,n.key=a.key,n.serverKey=a.serverKey,n.isShow=a.isShow,n.guideLine=t.getPageLineArr(a.key),n.note=r.getNoteArr(a.key,!0),n.backColor=a.backColor,n.isLandscape=a.isLandscape,n.pageHeight=a.pageHeight,a.events?n.events=$.extend(!0,{},a.events):n.events={},n.pageContrs=i.getPageByHierarchy(e,!0),o.removeInitVal(n.pageContrs,undefined,a.isLandscape),D.content[e]=n,M[e]=[$.extend(!0,{},n)]}))}function we(e){var t=void 0,n=fe();M.projectSet?t=S.diff(S.unpatch(D.content.projectSet,M.projectSet),n):(P.noStructHierarchy&&delete D.content.projectSet.structHierarchy,t=S.diff(D.content.projectSet,n)),t&&(e&&e(),D.content.projectSet=n,M.projectSet=t,P.noStructHierarchy=!1)}function be(e){var t=void 0,r=n(3)["default"],i=n(41)["default"],o=$.extend(!0,{},r.getSymbolContr()),a=[],s=[];for(var l in o.contrs)a.push(o.contrs[l]);for(var c in i.removeInitVal(a),o.symbols)s.push(o.symbols[c]);i.removeInitVal(s),(t=M.symbolContrs?S.diff(S.unpatch(D.content.symbolContrs,M.symbolContrs),o):S.diff(D.content.symbolContrs,o))&&(e&&e(),D.content.symbolContrs=o,M.symbolContrs=t)}function Ce(e){var t=[];ae(t,P.structHierarchy),t.forEach(function(t){var n=D.content[t],r=T[t];r.top==n.top&&r.left==n.left||(r.top!=n.top&&(e&&e(),D.content[t].top=r.top,M[t]?M[t].top=[n.top,r.top]:M[t]={top:[n.top,r.top]}),r.left!=n.left&&(e&&e(),D.content[t].left=r.left,M[t]?M[t].left=[n.left,r.left]:M[t]={left:[n.left,r.left]}))})}var Se=(0,o["default"])({},x.prototype,{getProjectData:function(e){var t=n(37)["default"],r=n(30)["default"],i=n(3)["default"],o=n(41)["default"],a=Se.getStructAll(),s=$.extend(!0,{},i.getSymbolContr()),l={};a.forEach(function(n){if("page"===n.type){var a=n.key;l[a]={};var s=l[a],c=T[a];if(!c)return!1;s.top=c.top,s.left=c.left,s.name=c.name,s.guideLine=t.getPageLineArr(c.key),s.note=r.getNoteArr(c.key,!0),s.backColor=c.backColor,s.pageHeight=c.pageHeight,s.isLandscape=c.isLandscape,s.key=a,s.serverKey=c.serverKey,s.isShow=c.isShow,c.events&&(s.events=c.events),e&&e(n,a),s.pageContrs=i.getPageByHierarchy(a,!0),o.removeInitVal(s.pageContrs,undefined,c.isLandscape)}});var c=$.extend(!0,{},P.versionSet);delete c.activeKey,l.projectSet={isGrid:P.isGrid,isRule:P.isRule,isGuide:P.isGuide,isHideHotspot:P.isHideHotspot,isHideOtherPage:P.isHideOtherPage,isHideNote:P.isHideNote,isShowName:P.isShowName,isShowPageGuide:P.isShowPageGuide,isShowPageNo:P.isShowPageNo,isHideEventTag:P.isHideEventTag,isHideAnimTag:P.isHideAnimTag,structHierarchy:P.structHierarchy,multiViewType:P.multiViewType,versionSet:c};var u=[],d=[];for(var p in s.contrs)u.push(s.contrs[p]);for(var f in o.removeInitVal(u),s.symbols)d.push(s.symbols[f]);return o.removeInitVal(d),l.symbolContrs=s,l},setProjectData:function(){var e=Se.getProjectData();for(var t in D.content={},e)D.content[t]=$.extend(!0,{},e[t])},saveFunc:function(e,t){var r=Se.getAutoSaveChangePages();if(N&&clearTimeout(N),window.noLogin)y["default"].show("登录后才能保存哟");else if(P.isOffLine||window.isDevelop||window.navigator.onLine)if(e)if(!P.isAutoSaving||P.isOffLine){if(r.length>0){var i=n(3)["default"],o=n(25)["default"],a=!1,s=!1,l=Se.getOtherAutoSaveDataLength();if(P.isAutoSaving=!0,!$.isUndefined(B)&&B!=l){var c=$.extend(!0,{},D.content);Se.setProjectData();for(var u=B;u<l;u++){var d=U[u];Se.otherChangeProject(d.data,undefined,d.user,R)}var p=S.diff(c,D.content);p&&(M=p,a=!0)}else r.forEach(function(e){console.log(e,"y"),-1!=e.indexOf("__")?ve(e,function(){a=!0}):"changePages"==e?ye(function(){a=!0}):"changeStruct"==e?we(function(){a=!0}):"changeSymbol"==e?be(function(){a=!0}):"changePagesPosi"==e?s=!0:"changeProject"==e&&(a=!0)});a&&(-1!=R.indexOf("ContrStore.emitMustChange")&&i.emitMustChange(),-1!=R.indexOf("ViewStore.emitViewChange")&&Se.emitViewChange(),-1!=R.indexOf("MergeBoxStore.emitChange")&&o.emitChange(),-1!=R.indexOf("")&&b["default"].emitChange()),R=[],B=undefined,s&&Ce(function(){a=!0}),a?P.isOffLine?he():me(e,t):(P.isOffLine||(P.isAutoSaving=!1),re(),f["default"].saveToCloud(),Se.initAutoSaveChangePages())}}else P.autoSaveDate&&(new Date).getTime()-P.autoSaveDate>1e4&&r.length>0&&_e();else P.isOffLine?y["default"].show("数据已离线保存"):window.isDevelop||window.navigator.onLine?P.isAutoSaving?y["default"].show("正在上传数据中，请稍等"):y["default"].show("已实时保存你的操作"):y["default"].show("您处于无网环境中，请检测网络是否正常");else _e()},saveOtherAutoSaveDataArr:function(e){U.push(e)},getOtherAutoSaveDataLength:function(){return U.length},getInitPagesKeyArr:function(){return H},isInInitPagesKeyArr:function(e){return H.indexOf(e)},otherChangeProject:function(e,t,r,i){var o=n(3)["default"],a=$.stringToObj(e.data),s=Se.getActivePage(),u=[],p=P.multiViewType,f=!1,h=!1,g=!1,_=!1,v=!1,b=!1;$.isUndefined(t)||(L=t),Se.setViewProp({name:e.name,pageIndexKey:e.pageIndexKey,pageNum:e.pageNum},!0);try{D.content=S.patch(D.content,a)}catch(R){log(R)}if(a&&a.symbolContrs&&D.content&&D.content.symbolContrs){var C=$.extend(!0,{},D.content.symbolContrs);if(a.symbolContrs.contrs)for(var x in a.symbolContrs.contrs)!f&&$.query(".mainBox.active #"+x)&&(window.renderActivePage=!0,f=!0);o.setSymbolContr(C),v=!0}if(v){var E=m["default"].getSymbolMask();E.isShow&&(o.getSymbol(E.thisSymbolKey,!0)||(b=!0,m["default"].exit(!0,!0),setTimeout(function(){y["default"].show("正在编辑的引用组件被["+r.nickName+"]删除")},0)))}for(var j in a){var I=D.content[j]?$.extend(!0,{},D.content[j]):undefined;if("projectSet"==j){for(var k in D.content)"projectSet"!=k&&"symbolContrs"!=k&&u.push(k);J($.extend({name:e.name,pageIndexKey:e.pageIndexKey,iconImg:e.iconImg},I)),te(I.structHierarchy,u,undefined,[]),p!=D.content.projectSet.multiViewType&&(h=!0,_=!0),f=!0}else if(I&&"symbolContrs"!=j){var A=void 0;if(j==s){var O=Se.getPage(j,!0);O&&(A=[O.left,O.top])}if(o.deletePageContrByHierarchy(+I.key),Se.create({key:+I.key,name:I.name,left:I.left,top:I.top,backColor:I.backColor,pageHeight:I.pageHeight?I.pageHeight*window.ss:I.pageHeight,events:I.events,serverKey:I.serverKey,isShow:I.isShow,isLandscape:I.isLandscape},!0),o.otherChangePage(I.pageContrs,+I.key,I.guideLine,a[j].note?I.note:undefined,I.isLandscape),j==s){if(!b){var M=m["default"].getSymbolMask();M.isShow&&(o.getContrByAll(M.thisContrKey)||(b=!0,m["default"].exit(!0,!0),setTimeout(function(){o.selectContr([]),y["default"].show("["+r.nickName+"] 删除了你正在编辑的引用组件")},0)))}!A||A[0]==I.left&&A[1]==I.top||(h=!0),o.resetSelect(),T[j].active=!0,i?i.push("ContrStore.emitMustChange"):o.emitMustChange()}f=!0}else j==s&&(g=!0)}if(window.renderActivePage&&setTimeout(function(){window.renderActivePage=!1},0),g&&!i&&w["default"].otherDeleteActivePage(r),f||b||v){if(i)i.push("ViewStore.emitViewChange"),(b||v&&m["default"].getSymbolMaskShow())&&(i.push("PhoneConBoxStore.emitChange"),i.push("SymbolMaskStore.emitChange"),i.push("ContrStore.emitMustChange"));else{Se.emitViewChange(),(b||v&&m["default"].getSymbolMaskShow())&&(l["default"].emitChange(),m["default"].emitChange(),o.emitMustChange());try{var N=$.query("#rightPanel .tabLabel.active");if(N){var U=N.id;if("pageSetLabel"==U?Se.emitPagesChange():"structLabel"==U?d["default"].emitChange():"boxLabel"!=U&&"textLabel"!=U||o.emitChange(),!c["default"].getFold())n(75)["default"].emitChange()}}catch(B){log(B)}}o.initCache()}"fixed-view"==D.content.projectSet.multiViewType&&a.projectSet&&a.projectSet.structHierarchy&&(h=!0),!g&&h&&s&&W({index:s,noEmit:!1,noPosiChange:!0,isNotSendSocket:_})},socketConnect:function(){P.isOffLine&&ge(!0)},socketDisconnect:function(){_e()},setRedoUndoIndex:function(e){B=e},addRedoUndoEmitArr:function(e){R.push(e)},getView:function(){return P},getIsInit:function(){return P.isInit},getPages:function(){return T},resetPagePos:function(){pe()},getOnePagesKey:function(){if(T[P.pageIndexKey])return P.pageIndexKey;for(var e in T)return e},getPagesKey:function(e){var t={};for(var n in T)e&&Se.getActivePage(),t[n]=T[n].name;return t},backOutPageIndex:function(){T[A]?Se.choosePage(A):Se.choosePage(Se.getPageIndexKey())},backColorChange:function(e,t,n){ue(e,t),n||Se.emitPagesChange()},isLandscapeToggle:function(e,t,n){de(e,t),n||(Se.emitViewChange(),Se.emitPagesChange())},getPageName:function(e){return T[e].name},getSymbolSaveData:function(){return D.content&&D.content.symbolContrs},getViewMode:function(){return P.mode},getViewPrevMode:function(){return P.prevMode},getViewTotal:function(){return P.total},getPageByKey:function(e){return T[e]},choosePage:function(e,t,n,r){if(T[e]&&T[e].active&&!r)return!1;W({index:e,noAnim:n}),t||(Se.emitViewChange(),Se.emitPagesChange())},changePages:function(e){T=$.extend(!0,{},e),P.num=(0,r["default"])(e).length,Se.emitPagesChange()},pageInsertContr:function(e,t){var n=Se.getActivePage(),r=[T[n].hierarchy.indexOf(e),1].concat(t);Array.prototype.splice.apply(T[n].hierarchy,r)},pageAddContr:function(e,t){T[e]&&-1==T[e].hierarchy.indexOf(t)&&T[e].hierarchy.splice(0,0,t)},pageRemoveContr:function(e,t){T[e].hierarchy.remove(t)},getActivePage:function(e){for(var t in T)if(T[t].active)return e?T[t]:t;return null},getPage:function(e,t){return t?T[e]:null},setPage:function(e,t,n){T[e]=t,n||Se.emitPagesChange()},changePcPageHeight:function(e,t,n){(t||Se.getActivePage(!0)).pageHeight=e,n||Se.emitPagesChange()},changeMultiViewType:function(e){"free-view"==e?l["default"].resetFreeViewPos():"fixed-view"==e&&l["default"].resetFixedViewPos(),Se.setViewProp({multiViewType:e})},setViewProp:function(e,t){P=$.extend(P,e),!t&&e.changePages&&Se.emitPagesChange(),t||Se.emitViewChange()},zoomOut:function(){z(),$(".plugIn-panel .panel-close-btn").click(),Se.emitViewChange(),Se.emitPagesChange(),n(31)["default"].emitChange()},inEditView:function(e){(Se.switchMode("edit-view",!0),e)||(Se.emitViewChange(),Se.emitPagesChange(),n(74)["default"].emitMustChange())},getZoom:function(){return P.zoom},create:function(e,t,n){var r=t?+e.key:++P.total;T[r]=$.extend({active:!!(t&&T[r]&&T[r].active)&&T[r].active,key:r,id:P.type+r,name:"页面 "+r,backColor:"rgba(255, 255, 255, 1)",left:0,top:0,isShow:!0,grid:!0,hierarchy:[],canvasDom:null,isSelect:!1,type:"page"},e),P.num++,t?P.total=Math.max(P.total,+e.key):(pe(),n||P.structHierarchy.push({key:r,type:"page"}))},getPagesMaxPosi:function(){var e={};for(var t in T)e[t]=[T[t].left,T[t].top];return $.pagesMaxPosi(e)},getNewPagePosi:function(){if(window.isPc)return{left:0,top:0};var e=Se.getPagesMaxPosi();return{left:e.left+window.phoneSize.width+90,top:e.top}},isShowPageStruct:function(){return P.isShowPageStruct},getProjectName:function(){return P.name},setProjectName:function(e){P.name=e},setPageIndexKey:function(e,t){P.pageIndexKey=e,"multi-view"!=P.mode||t||Se.emitViewChange()},getPageIndexKey:function(){var e=P.pageIndexKey;if(T[e])return e;for(var t in T)return t},getPageHierarchy:function(e){return T[e]?T[e].hierarchy:[]},getActivePageHierarchy:function(){return T[Se.getActivePage()].hierarchy},switchMode:function(e,t){if("multi-view"==P.mode&&"normal"==e){var n=$("#allPanel");l["default"].savePrevPos(),n.on("webkitTransitionEnd",function(){n.removeClass("bottomUnfold"),n.off("webkitTransitionEnd")})}else"multi-view"==e?(l["default"].replacePrevPos(),P.bottomUnfold=!c["default"].getPanel().fold):"edit-view"==e&&"multi-view"!=P.mode&&(P.bottomUnfold=!c["default"].getPanel().fold);P.prevMode=P.mode,P.mode=e,t||Se.emitViewChange()},switchToPrevMode:function(){P.mode=P.prevMode,Se.emitViewChange()},updateProp:function(e,t){X(e,t)},getPageSelect:function(e){return e?I:I.concat()},structCopyPage:function(e,t,r){var i=n(3)["default"],o=n(41)["default"],a=n(30)["default"],s=n(37)["default"],l=Se.getNewPagePosi(),c=T[e];Se.create(l,!1,r);var u=Se.getViewTotal();Se.updateProp(u,{serverKey:c.serverKey,backColor:c.backColor,pageHeight:c.pageHeight,isLandscape:c.isLandscape,events:c.events,name:c.name});var d=i.getPageByHierarchy(parseInt(e),!0);o.removeInitVal(d,undefined,c.isLandscape);var p=a.getNoteArr(parseInt(c.key),!0);i.importPage(d,u,undefined,p,c.key,c.isLandscape);var f=s.getPageLineArr(c.key);s.pageAddGuideAllLine(f,u),r||Se.addStructPageAfter([e,"page"],u),t||(Se.emitViewChange(),Se.emitPagesChange(),i.emitChange())},structCopyFolder:function(e,t){var r=n(3)["default"],i=Se.findStructFolder(""+e,"folder");i.hierarchy.splice(i.index+1,0,Se.copyFolder(i.val)),t||(Se.emitViewChange(),Se.emitPagesChange(),r.emitChange())},copyFolder:function(e){var t=[],n={key:++P.folderTotal,type:"folder",name:"分组"+P.folderTotal,folderHierarchy:t,fold:e.fold,isShow:e.isShow};return e.folderHierarchy.forEach(function(e){"page"==e.type?(Se.structCopyPage(e.key,!0,!0),t.push({key:P.total,type:"page"})):"folder"==e.type&&t.push(Se.copyFolder(e))}),n},copyPage:function(e){var t=n(3)["default"],r=n(15)["default"],i=n(41)["default"],o=n(37)["default"],a=void 0,s=Se.getZoom(),l=$.getSelectPageList().reverse(),c=$.offset($.query(".phoneConBox")),u=[],d=Se.isMultiFixed();l.length>0&&(l.length>1&&Se.setLoad(!1),setTimeout(function(){if(l.forEach(function(e){var n=void 0,r=T[e];if(d)n=Se.getNewPagePosi();else{var l=$.offset($.getElById("mainBox"+e));n={left:(l.left-c.left)/s+window.phoneSize.width/3,top:(l.top-c.top)/s+window.phoneSize.height/3}}Se.create(n),a=Se.getViewTotal(),Se.updateProp(a,{serverKey:r.serverKey,backColor:r.backColor,pageHeight:r.pageHeight,isLandscape:r.isLandscape,events:r.events});var p=t.getPageByHierarchy(parseInt(e),!0);i.removeInitVal(p,undefined,r.isLandscape),t.importPage(p,a,undefined,undefined,r.key,r.isLandscape);var f=o.getPageLineArr(r.key);o.pageAddGuideAllLine(f,a),u.push(""+a)}),d){if(1==u.length)Se.addStructPageAfter([l[0],"page"],u[0]);else{var n=Se.findStructFolder($("#phoneConBox .mainBox.select")[0].id.replace("mainBox",""),"page").parentKey;u.forEach(function(e){Se.addStructPageInFolder(n,e)})}setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+u[0]),Se.getZoom())},0)}if(Se.selectChange(u,!0),e||(Se.emitViewChange(),Se.emitPagesChange(),t.emitChange(),l.length>1&&Se.setLoad(!0)),r.createData({type:"createSelectCopyPage",name:"["+(l.length>1?"多页面":"页面"+l[0])+"] 复制",handleObjType:"page",autoSaveType:"changePages"}),d){var p=$.getElById("mainBox"+u[0]);p?$.scrollPhoneConBoxPage(p,Se.getZoom()):setTimeout(function(){p=$.getElById("mainBox"+u[0]),$.scrollPhoneConBoxPage(p,Se.getZoom())},0)}},0))},getPageNum:function(){return $.objLength(T)},deletePages:function(e,t,n){var r=e||Se.getPageSelect(),i=$.getWinSize(),o=window.phoneSize.width,a=window.phoneSize.height,s=$.getElById("trashBox"),l=Se.isMultiView(),c=!1,u=void 0;if(w["default"].isOtherEditing(r))return!1;t&&(u=$.getElById("allPanel"),$.addClass(u,"multi-fixed-remove")),$.addClass(s,"active"),r.forEach(function(e,n){if(l){var r=t?$.getElById("dragContr"):$.getElById("mainBox"+e),s=T[e],u=$.offset(r),d=void 0;s&&((!t||t&&0===n)&&(d={left:(i.width-25-u.left-o*P.zoom)/P.zoom,top:(i.height-25-u.top-a*P.zoom)/P.zoom},r&&($.removeClass(r,"shiver"),$.addClass(r,"multi-remove")),setTimeout(function(){r&&(t&&$.addClass(r,"remove"),r.style.transform=" translate("+d.left+"px, "+d.top+"px) scale(0.01)")},10)),G(parseInt(e)),c=!0)}else T[e]&&(G(parseInt(e)),c=!0)}),c&&(Se.selectChange([],!0),l?setTimeout(function(){$.removeClass(s,"active"),t&&($.removeClass(u,"multi-fixed-drag"),$.removeClass(u,"multi-fixed-remove"),p["default"].hide()),n||(Se.emitPageStructChange(),0==Se.getPageNum()&&y["default"].show("页面数不能为0，请创建新页面"))},300):n||(Se.emitPageStructChange(),0==Se.getPageNum()&&y["default"].show("页面数不能为0，请创建新页面")))},deletePage:function(e,t){if(w["default"].isOtherEditing([e]))return!1;G(parseInt(e)),t||(Se.emitPageStructChange(),0==Se.getPageNum()&&y["default"].show("页面数不能为0，请创建新页面"))},selectChange:function(e,t){if(!$.checkArrayEqual(I,e)){for(var n in I=e.concat(),T){var r=T[n];-1!=I.indexOf(""+n)?r.isSelect=!0:r.isSelect=!1}t||Se.emitPagesChange()}},selectAll:function(e){var t=[];$(".mainBox.inactive:not(.hide)").forEach(function(e){t.push(e.id.replace("mainBox",""))}),t.length>0&&Se.selectChange(t,e)},setActiveMainbox:function(e){k=e},getActiveMainbox:function(){return k},getIsHideNote:function(){return P.isHideNote},changePageHide:function(e,t){T[e].isShow=!T[e].isShow,t||(Se.emitPageStructChange(),pe())},getAddNote:function(){return P.addNote},toggleEditing:function(){P.editing=!P.editing&&Se.getActivePage()},setStateFold:function(e){P.stateFold=e},getStateFold:function(){return P.stateFold},removeIsNew:function(e){delete T[e].isNew},updatePageEvents:function(e,t,n){$.handleEventsData(T[e],t,!0),n||Se.emitPagesChange()},isMultiFixed:function(){return"fixed-view"==P.multiViewType&&"multi-view"==P.mode},isMultiView:function(){return"multi-view"==P.mode},isFreeView:function(){return"free-view"==P.multiViewType},isFixedView:function(){return"fixed-view"==P.multiViewType},addStructFolder:function(e,t,n){var r=[];e&&e.forEach(function(e){var t=Se.findStructFolder(e.key,e.type);r.push(t.val),t.hierarchy.splice(t.index,1)}),(n||P.structHierarchy).push({key:++P.folderTotal,type:"folder",name:"分组"+P.folderTotal,folderHierarchy:r,fold:!e,isShow:!0}),t&&Se.emitPageStructChange()},addStructFolderAfter:function(e,t){var n=Se.findStructFolder(e[0],e[1]);n.hierarchy.splice(n.index+1,0,{key:++P.folderTotal,type:"folder",name:"分组"+P.folderTotal,folderHierarchy:[],fold:!0,isShow:!0}),t&&Se.emitPageStructChange()},addStructPageBefore:function(e,t,n){var r=void 0,i=Se.findStructFolder(e[0],e[1]);if(t){var o=Se.findStructFolder(t,n?"folder":"page");r=o.val,o.hierarchy.splice(o.index,1)}i.hierarchy.splice(parseInt(i.index),0,n?r:{key:t?parseInt(t):P.total,type:"page"})},addStructPageAfter:function(e,t,n){var r=void 0,i=Se.findStructFolder(e[0],e[1]);if(t){var o=Se.findStructFolder(t,n?"folder":"page");r=o.val,o.hierarchy.splice(o.index,1)}i.hierarchy.splice(i.index+1,0,n?r:{key:t?parseInt(t):P.total,type:"page"})},addStructPageInFolderBefore:function(e,t,n){var r=void 0;if(t){var i=Se.findStructFolder(t,n?"folder":"page");r=i.val,i.hierarchy.splice(i.index,1)}var o=Se.findStructFolder(e,"folder");o.hierarchy.splice(parseInt(o.index),0,n?r:{key:t?parseInt(t):P.total,type:"page"})},addStructPageInFolder:function(e,t,n,r){var i=void 0;if(t){var o=Se.findStructFolder(t,r?"folder":"page");i=o.val,o.hierarchy.splice(o.index,1)}if($.isUndefined(e))P.structHierarchy[n?"unshift":"push"](r?i:{key:t?parseInt(t):P.total,type:"page"});else{var a=Se.findStructFolder(e,"folder");a&&a.val.folderHierarchy[n?"unshift":"push"](r?i:{key:t?parseInt(t):P.total,type:"page"})}},addStructPageInFolderIndex:function(e,t,n){if(t){var r=Se.findStructFolder(t,"page");r.hierarchy.splice(r.index,1)}-1==n?e.unshift({key:t?parseInt(t):P.total,type:"page"}):e.splice(n+1,0,{key:t?parseInt(t):P.total,type:"page"})},getInitStructHierarchy:function(){return P.initStructHierarchy},getInitPages:function(){return j},getStructHierarchy:function(e,t){return e?(t||P.structHierarchy).map(function(e){if("page"==e.type)return T[e.key];if("folder"==e.type){var t=$.extend(!0,{},e);return t.folderHierarchy=Se.getStructHierarchy(!0,e.folderHierarchy),t}return undefined}):P.structHierarchy},setStructHierarchy:function(e,t){P.structHierarchy=e,t&&Se.emitPageStructChange()},getStructTree:function(e,t,n,r){var i=0;return t||(t={folderNum:0,pageLine:0,children:[],layers:0},n=P.structHierarchy,r=[t]),n.forEach(function(n){if("folder"==n.type&&n.isShow){var o=Se.findStructFolder(n.key,"folder"),a=r.concat(),s={key:n.key,folderNum:0,pageLine:0,children:[],before:{folderNum:t.folderNum,pageLine:t.pageLine+Math.ceil(i/e)}};t.children.push(s),r.forEach(function(t){t.folderNum++,t.pageLine+=Math.ceil(i/e)}),i=0,a.push(s),Se.getStructTree(e,s,o.val.folderHierarchy,a)}else"page"==n.type&&T[n.key].isShow&&i++}),r[0].layers=Math.max(r[0].layers,r.length-1),r.forEach(function(t){t.pageLine+=Math.ceil(i/e)}),t},getFolderAllVal:function(e,t){if(e)return e.map(function(e){if("page"==e.type)return t.push(e.key),e;if("folder"==e.type){var n=Se.findStructFolder(e.key,"folder");return Se.getFolderAllVal(n.val.folderHierarchy,t),$.extend(!0,{},n.val)}})},getFolderAllPage:function(e,t){e&&e.forEach(function(e){"page"==e.type?t.push(e.key):"folder"==e.type&&Se.getFolderAllPage(e.folderHierarchy,t)})},deleteFolder:function(e){var t=Se.findStructFolder(e.key,"folder"),n=[];if(Se.getFolderAllPage(t.val.folderHierarchy,n),w["default"].isOtherEditing(n))return!1;$.extend(!0,[],t.val.folderHierarchy).forEach(function(e){"page"==e.type?G(e.key):"folder"==e.type&&Se.deleteFolder(e,!0)}),t.hierarchy.splice(t.index,1)},findStructFolder:function(e,t,n,r,i){var o=n||P.structHierarchy;return r||(r={}),o.forEach(function(n,a){n.key==e&&n.type==t&&(r.hierarchy=o,r.val=n,r.index=a,r.parentKey=i),"folder"!=n.type||r.val||Se.findStructFolder(e,t,n.folderHierarchy,r,n.key)}),r},changeStructFolderFold:function(e){var t=Se.findStructFolder(e,"folder").val;t.fold=!t.fold},changeStructFolderName:function(e,t){Se.findStructFolder(e,"folder").val.name=t},changeStructFolderHide:function(e,t){var n=Se.findStructFolder(e,"folder").val;n.isShow=!n.isShow,t||Se.emitPageStructChange(),pe()},changeStructFolderDrag:function(e,t){Se.findStructFolder(e,"folder").val.isDrag=t,Se.emitPageStructChange()},getStructAll:function(e,t,n,r){var i=e||[];return r=r||1,(t||P.structHierarchy).forEach(function(e){(e=$.extend(!0,{},e)).parentHide=n,i.push(e),"folder"==e.type&&(e.index=r,Se.getStructAll(i,e.folderHierarchy,!e.isShow||n,r+1),i.push({type:"endLine",key:e.key,name:e.name,isShow:e.isShow,parentHide:n}))}),i},changeStructHierarchy:function(e,t,n){("bottom"==n?e.reverse():e).forEach(function(e){var r=$.structDragKeyArr(e),i=Se.findStructFolder(r[0],r[1]),o=Se.findStructFolder(t[0],t[1]),a=i.index,s=o.index;"folder"==t[1]?"middle"==n&&o.val?o.val.folderHierarchy.push(i.val):"bottom"==n&&o.val?o.val.fold?(a>s&&i.hierarchy==o.hierarchy&&a++,o.hierarchy&&o.hierarchy.splice(s+1,0,i.val)):o.val.folderHierarchy.unshift(i.val):(a>s&&i.hierarchy==o.hierarchy&&a++,o.hierarchy&&o.hierarchy.splice(s,0,i.val)):("bottom"==n&&s++,a>s&&i.hierarchy==o.hierarchy&&a++,o.hierarchy&&o.hierarchy.splice(s,0,i.val)),i.hierarchy&&i.hierarchy.splice(a,1)}),Se.emitPageStructChange(),pe()},initAutoSaveChangePages:function(e){e?O.splice(0,e):O=[]},setAutoSaveChangePages:function(e,t,n){if(!Se.getProid()||!window.window.noNew)return!1;var r=(t?n||Se.getActivePage():"")+e,i=$.extend(!0,[],O);P.isAutoSaving&&i.splice(0,P.oldChangeNum),m["default"].getSymbolMaskShow()&&"__pageContrs"==e&&-1==i.indexOf("changeSymbol")&&O.push("changeSymbol"),"changeStruct"==r&&-1!=i.indexOf("changePages")&&P.isInit||("changePages"==r&&-1!=i.indexOf("changeStruct")&&P.isInit?(O.remove("changeStruct"),-1==i.indexOf(r)&&O.push(r)):-1==i.indexOf(r)&&P.isInit&&O.push(r)),n||(ie(),f["default"].addSaveNum())},removeAutoSaveChangePages:function(e){O.remove(e)},getAutoSaveChangePages:function(){return O},getTouchIcon:function(){return P.iconImg},setTouchIcon:function(e,t){P.iconImg=e,t||Se.emitViewChange()},getLoad:function(){return P.isLoaded},setLoad:function(e,t){(P.isLoaded=e,!t&&e)&&n(113)["default"].setLoaded()},getProid:function(){return P.proid},addProjectInit:function(e){Y(e)},getStructPagesLength:function(){var e=0;return Se.getStructAll().forEach(function(t){"page"==t.type&&e++}),e},setLocalPageClipboard:function(e,t,n){q.date=t,q.content=e,q.selectStructArr=n},getLocalPageClipboard:function(){return q},changeVersion:function(e){P.versionSet.title=e.title,P.versionSet.desc=e.desc},getVersionSet:function(){return P.versionSet},getVersionIndexKey:function(){return P.versionIndexKey},getIsOffLine:function(){return P.isOffLine},setVersionKey:function(e){var t=P.versionSet.activeKey==P.versionIndexKey;return P.versionSet.activeKey=e,t&&(window.versionIndexKey=e,P.versionIndexKey=e),t},setVersionIndexKey:function(e,t){P.versionIndexKey=e,t&&(window.versionIndexKey=e)},getUpdateTime:function(){return D.updateTime},emitViewChange:function(){this.emit("viewChange")},addViewChangeListener:function(e){this.on("viewChange",e)},removeViewChangeListener:function(e){this.removeListener("viewChange",e)},emitLoadingChange:function(){this.emit("loadingChange")},addLoadingChangeListener:function(e){this.on("loadingChange",e)},removeLoadingChangeListener:function(e){this.removeListener("loadingChange",e)},emitPagesChange:function(){this.emit("pagesChange")},addPagesChangeListener:function(e){this.on("pagesChange",e)},removePagesChangeListener:function(e){this.removeListener("pagesChange",e)},emitPageStructChange:function(){this.emit("pageStructChange")},addPageStructChangeListener:function(e){this.on("pageStructChange",e)},removePageStructChangeListener:function(e){this.removeListener("pageStructChange",e)}});a["default"].register(function(e){switch(e.actionType){case s["default"].VIEW_PROJECTWEBINIT:ne(e.option,e.addOffLineData);break;case s["default"].VIEW_CHOOSEPAGE:W({index:e.index}),f["default"].initSymbolSizeData(),Se.emitViewChange(),Se.emitPagesChange();break;case s["default"].VIEW_ZOOMOUT:z(),Se.emitViewChange(),Se.emitPagesChange();break;case s["default"].VIEW_CREATE:Se.create(e.options),Se.emitViewChange(),Se.emitPagesChange();break;case s["default"].VIEW_UPDATEPROP:X(e.index,e.prop),Se.emitPagesChange();break;case s["default"].VIEW_UPDATEACTIVEPROP:X(Se.getActivePage(),e.prop),Se.emitPagesChange();break;case s["default"].VIEW_SWITCHMODE:Se.switchMode(e.mode);break;case s["default"].VIEW_SWITCHTOPREVMODE:Se.switchToPrevMode();break;case s["default"].VIEW_CHANGEZOOM:ce(e.zoom),Se.emitViewChange();break;case s["default"].VIEW_BACKCOLOR:ue(e.pageId,e.backColor),Se.emitPagesChange();break;case s["default"].VIEW_SETVIEWPROP:Se.setViewProp(e.obj);break;case s["default"].VIEW_SELECTCHANGE:Se.selectChange(e.selectArr);break;case s["default"].VIEW_SELECTALL:Se.selectAll();break;case s["default"].VIEW_COPYPAGE:Se.copyPage();break;case s["default"].VIEW_DELETEPAGES:Se.deletePages()}});var xe=Se;t["default"]=xe,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(S,"jsondiffpatch","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(x,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register("viewChange","VIEWCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register("pagesChange","PAGESCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register("pageStructChange","PAGESTRUCTCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register("loadingChange","LOADINGCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(P,"view","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(T,"pages","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(j,"initPages","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(I,"pageSelect","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(k,"activeMainbox","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(A,"outLastPageIndex","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(D,"__projectData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(O,"__changePagesArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(M,"__autoSaveDataContent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(L,"__lastSaveKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(N,"__autoRunFuncTime","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(U,"__otherAutoSaveDataArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(R,"__redoUndoEmitArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(B,"__redoUndoIndex","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(H,"__initPagesKeyArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(V,"SaveTime","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(F,"__autoSaveSendData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(q,"__localPageClipboard","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(K,"autoSeveSendDataInit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(z,"_zoomOut","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(W,"choosePage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(G,"deletePage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(X,"updateProp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(Y,"addProjectInit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(J,"setViewPropInit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(Z,"versionSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(Q,"initVersionSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ee,"importOnePage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(te,"structHierarchyInit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ne,"projectWebInit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(re,"loadAutoSaveData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ie,"autoSaveRun","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(oe,"getChangePages","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ae,"getAllPageFromStruct","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(se,"getPagesAddAndRmove","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(le,"getFolderTotal","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ce,"changeZoom","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ue,"backColorChange","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(de,"isLandscapeToggle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(pe,"resetPagePos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(fe,"copyProjectSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(he,"autoSaveToLocalStorage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ge,"offLineSend","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(me,"autoSaveToServer","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(_e,"changeOffLineMode","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ve,"pageChangePatch","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(ye,"pagesChangePatch","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(we,"structChangePatch","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(be,"symbolChangePatch","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(Ce,"pagesPosiChange","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(Se,"ViewStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),t.register(xe,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),r(e))}()}).call(this,n(2)(e))},,,,,function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(36),o=new(function(){function e(){this.PopupActionID=i.a}return e.prototype.init=function(e){r["default"].dispatch({actionType:i.a.POPUP_INIT,option:e})},e.prototype.hide=function(){r["default"].dispatch({actionType:i.a.POPUP_HIDE})},e}());t["default"]=o},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.DISCUSS_ADD="DISCUSS_ADD",e.DISCUSS_DELETE="DISCUSS_DELETE",e.DISCUSS_DONE="DISCUSS_DONE",e.DISCUSS_DONESHOW="DISCUSS_DONESHOW",e.DISCUSS_REPLYHIDE="DISCUSS_REPLYHIDE",e.DISCUSS_CHANGEPOINT="DISCUSS_CHANGEPOINT",e.DISCUSS_CHANGECONTENT="DISCUSS_CHANGECONTENT",e.DISCUSS_INITEDITSTATE="DISCUSS_INITEDITSTATE",e.DISCUSS_DOTCREATESTATE="DISCUSS_DOTCREATESTATE",e.DISCUSS_SCROLLTOP="DISCUSS_SCROLLTOP",e.DISCUSS_SETDISCUSSLIST="DISCUSS_SETDISCUSSLIST",e.DISCUSS_SETENDPOS="DISCUSS_SETENDPOS",e.DISCUSS_SETREPLYNAME="DISCUSS_SETREPLYNAME",e.DISCUSS_SETPAGEID="DISCUSS_SETPAGEID",e.DISCUSS_SETSOLVEDNICK="DISCUSS_SETSOLVEDNICK",e.DISCUSS_EDITSTATE="DISCUSS_EDITSTATE",e.DISCUSS_EDITNUM="DISCUSS_EDITNUM",e.DISCUSS_BOTTOM="DISCUSS_BOTTOM",e.DISCUSS_EDITCONTENT="DISCUSS_EDITCONTENT",e.DISCUSS_LASTID="DISCUSS_LASTID",e.DISCUSS_CHANGE_REPLYHIDE="DISCUSS_CHANGE_REPLYHIDE"}(r||(r={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(12)),i=d(n(4)),o=d(n(289)),a=d(n(33)),s=d(n(40)),l=d(n(65)),c=d(n(26)),u=d(n(5));function d(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var p=n(10).EventEmitter,f=0,h=[],g=["changeToMultiView","createCopyPage","createSelectCopyPage","createPage","pageMove","interfaceAlign","deletePage","deleteFolder","createFolder","fixedMovePage","fixedMoveFolder","changeFolder"],m=["useOriginEvent","saveAddEventChange","saveEditEventChange","deleteEventOneAction"],_=["trTime","trDelay","trDelayOneContr","trTimeOneContr","trDelayTimeOneContr","bottomSelectState","bottomSelectStartState","bottomReverse"],v=["pageBackColorChange"],y=["projectInit"];function w(e){var t=n(8)["default"],r=n(3)["default"],i=n(25)["default"],o=$.midMainboxPosi(),l=(0!=--f||window.noNew||$.getUrlParam("type")&&$.getUrlParam("id"))&&h[f-1]?h[f-1]:{type:"createContr",contrs:[],box:[1],boxObj:{active:!0,key:1,id:"mainBox1",left:o.left,top:o.top+20,name:"页面 1",backColor:"rgba(255, 255, 255, 1)",isShow:!0,"new":!1,grid:!0,events:["enter","exit"],hierarchy:[]},selectContr:[]},d=h[f];if($.isUndefined(d)&&log(f,h),"deletePageNotMutiview"==d.type){var p=$.query(".struct-tab.page-tab");t.setStructHierarchy($.extend(!0,[],d.structHierarchy)),t.changePages($.extend(!0,{},d.pages)),t.resetPagePos(),r.selectChange([]),t.emitPageStructChange(),p&&$.hasClass(p,"active")&&a["default"].emitChange()}else if("changeFolderNotMutiview"==d.type){var m=$.query(".struct-tab.page-tab");t.setStructHierarchy($.extend(!0,[],d.oldStructHierarchy)),t.resetPagePos(),t.emitPageStructChange(),m&&$.hasClass(m,"active")&&a["default"].emitChange()}else if("deleteFolderNotMutiview"==d.type){var _=$.query(".struct-tab.page-tab");t.setStructHierarchy($.extend(!0,[],d.oldStructHierarchy)),t.changePages($.extend(!0,{},d.oldPages)),d.activePage&&t.choosePage(+d.activePage),t.resetPagePos(),t.emitPageStructChange(),_&&$.hasClass(_,"active")&&a["default"].emitChange()}else if("createNotMutiviewPage"==d.type){var y=$.extend(!0,{},d.pages),w=$.extend(!0,[],d.structHierarchy),b=$.query(".struct-tab.page-tab");delete y[d.addPage],t.choosePage(+d.lastPage),y[d.lastPage].active=!0,t.setStructHierarchy(w);var S=t.findStructFolder(d.addPage,"page");S.hierarchy.splice(S.index,1),t.changePages(y),t.resetPagePos(),t.emitPageStructChange(),b&&$.hasClass(b,"active")&&a["default"].emitChange()}else if(-1!=g.indexOf(l.type)){var x=$.getElById("structSetting");"multi-view"!=t.getViewMode()&&t.zoomOut(),t.setStructHierarchy($.extend(!0,[],l.structHierarchy)),t.changePages($.extend(!0,{},l.pages)),x&&a["default"].emitChange()}else"multi-view"==t.getViewMode()&&l.box&&1==l.box.length||l.box&&1==l.box.length&&t.getActivePage()!=l.box[0]?t.choosePage(l.box[0]):"changeToMergeBox"==h[f].type?r.backMergeBox():"backMergeBox"==h[f].type||"saveMergeBox"==h[f].type?i.init(r.getContrByAll(l.box[l.box.length-1])):"changeToCutImage"==h[f].type?s["default"].exit():"backFromCutImage"==h[f].type&&s["default"].init(l.selectContr[0]),d.symbolContrsChange&&r.setSaveDateSymbolContr(d.symbolContrsChange,!0),l.contrs&&r.changeContr(l,!0,!0,e),l.symbolMask&&c["default"].setSymbolMaskData(l.symbolMask,!0),l.tableData&&(u["default"].initTableSelectCell(l.selectContr[0],l.tableData.selectCell,l.tableData.isEditing),setTimeout(function(){u["default"].emitChange()},0)),l.contrs&&(-1!=v.indexOf(d.type)&&t.emitPagesChange(),"pageLandscapeChange"==d.type&&t.choosePage(l.boxObj.key),t.addRedoUndoEmitArr("ContrStore.emitMustChange"));C(l,d)}function b(e){var t=h[f],r=n(8)["default"],i=n(3)["default"],o=n(25)["default"];if(t){if("deletePageNotMutiview"==t.type){var l=$.extend(!0,{},t.pages),d=$.extend(!0,[],t.structHierarchy),p=$.query(".struct-tab.page-tab");delete l[t.deletePage],r.setStructHierarchy(d);var m=r.findStructFolder(t.deletePage,"page");m.hierarchy.splice(m.index,1),r.changePages(l),r.resetPagePos(),r.emitPageStructChange(),p&&$.hasClass(p,"active")&&a["default"].emitChange()}else if("changeFolderNotMutiview"==t.type){var _=$.query(".struct-tab.page-tab");r.setStructHierarchy($.extend(!0,[],t.structHierarchy)),r.resetPagePos(),r.emitPageStructChange(),_&&$.hasClass(_,"active")&&a["default"].emitChange()}else if("deleteFolderNotMutiview"==t.type){var y=$.query(".struct-tab.page-tab");r.setStructHierarchy($.extend(!0,[],t.structHierarchy)),r.changePages($.extend(!0,{},t.pages)),r.resetPagePos(),r.emitPageStructChange(),y&&$.hasClass(y,"active")&&a["default"].emitChange()}else if("createNotMutiviewPage"==t.type)r.setStructHierarchy($.extend(!0,[],t.structHierarchy)),r.changePages($.extend(!0,{},t.pages)),r.choosePage(+t.addPage),r.resetPagePos(),i.selectChange([]),r.emitPageStructChange();else if(-1!=g.indexOf(t.type)){var w=$.getElById("structSetting");"multi-view"!=r.getViewMode()&&r.zoomOut(),r.setStructHierarchy($.extend(!0,[],t.structHierarchy)),r.changePages($.extend(!0,{},t.pages)),r.emitPagesChange(),w&&a["default"].emitChange()}else"multi-view"==r.getViewMode()&&1==t.box.length||1==t.box.length&&r.getActivePage()!=t.box[0]?r.choosePage(t.box[0]):t&&"changeToMergeBox"==t.type?o.init(i.getContrByAll(t.box[t.box.length-1])):!t||"backMergeBox"!=t.type&&"saveMergeBox"!=t.type?t&&"changeToCutImage"==t.type?s["default"].init(t.selectContr[0]):t&&"backFromCutImage"==t.type&&s["default"].exit():i.backMergeBox(),t.symbolContrsChange&&i.setSaveDateSymbolContr(t.symbolContrsChange),t.contrs&&i.changeContr(t,!0,!0,e),t.symbolMask&&c["default"].setSymbolMaskData(t.symbolMask,!0),t.tableData&&(u["default"].initTableSelectCell(t.selectContr[0],t.tableData.selectCell,t.tableData.isEditing),setTimeout(function(){u["default"].emitChange()},0)),t.contrs&&(-1!=v.indexOf(t.type)&&r.emitPagesChange(),"pageLandscapeChange"==t.type&&r.choosePage(t.boxObj.key),r.addRedoUndoEmitArr("ContrStore.emitMustChange"));C(t,undefined),f++}}function C(e,t){var r=n(8)["default"],i=n(3)["default"],o=n(89)["default"],s=r.getActivePage(),c=t||e;i.initCache(),-1!=m.indexOf(e.type)?a["default"].change([{tabType:"box"},{tabType:"wrapBox"},{tabType:"event",isFold:!0}]):-1!=_.indexOf(e.type)&&(l["default"].getFold()&&l["default"].toggleFold(!0),"bottomReverse"==e.type&&l["default"].reverse(),"preview"==e.viewMode&&o.setPreviewData(!0)),"normal"!=e.viewMode&&e.viewMode||"preview"!=r.getViewMode()||o.exit(),r.setRedoUndoIndex(e.otherAutoSaveIndex),c.isSymbolChange&&r.setAutoSaveChangePages("changeSymbol",undefined,!0),s&&"pageLandscapeChange"==c.type?(r.setAutoSaveChangePages("__pageContrs",!0),r.setAutoSaveChangePages("__pageVals",!0)):"changePages"==c.autoSaveType?r.setAutoSaveChangePages("changePages"):s&&"pageContrs"==c.autoSaveType?r.setAutoSaveChangePages("__pageContrs",!0):s&&"pageVals"==c.autoSaveType?r.setAutoSaveChangePages("__pageVals",!0):"changeStruct"==c.autoSaveType?r.setAutoSaveChangePages("changeStruct"):"changePagesPosi"==c.autoSaveType&&r.setAutoSaveChangePages("changePagesPosi")}var S=(0,r["default"])({},p.prototype,{createData:function(e){window.isDevelop&&log("saveData: "+e.type,e.name),h.length!=f&&(h.length=f);var t=n(3)["default"],r=n(25)["default"],i=n(8)["default"],o=r.getMergeBoxIn(),a=i.getActivePage();if("deletePageNotMutiview"==e.type);else if("changeFolderNotMutiview"==e.type)$.extend(!0,e,{structHierarchy:i.getStructHierarchy()});else if("deleteFolderNotMutiview"==e.type)$.extend(!0,e,{pages:i.getPages(),structHierarchy:i.getStructHierarchy()});else if("createNotMutiviewPage"==e.type)$.extend(!0,e,{addPage:i.getViewTotal(),pages:i.getPages(),structHierarchy:i.getStructHierarchy()});else if("changeToMultiView"==e.type)$.extend(!0,e,{activePageKey:a,pages:i.getPages(),structHierarchy:i.getStructHierarchy()});else if(-1!=g.indexOf(e.type))$.extend(!0,e,{pages:i.getPages(),structHierarchy:i.getStructHierarchy()});else{switch(e.type){case"changeToCutImage":case"backFromCutImage":e.cutImage=$.extend(!0,{},s["default"].getCutImage())}-1!=_.indexOf(e.type)&&(e.viewMode=i.getViewMode()),$.extend(e,{contrs:(o?[]:t.getActiveInterface()).map(function(e){return $.extend(!0,{},e)}),mergeEdit:r.getIsWrapEdit(),selectContr:t.getSelect()})}$.extend(e,{symbolContrsChange:t.getSymbolContrsChange()}),-1==y.indexOf(e.type)&&(e.isSymbolChange&&i.setAutoSaveChangePages("changeSymbol",undefined,!0),"changePages"==e.autoSaveType?i.setAutoSaveChangePages("changePages"):a&&"pageContrs"==e.autoSaveType?i.setAutoSaveChangePages("__pageContrs",!0):a&&"pageVals"==e.autoSaveType?i.setAutoSaveChangePages("__pageVals",!0):"changeStruct"==e.autoSaveType?i.setAutoSaveChangePages("changeStruct"):"changePagesPosi"==e.autoSaveType&&i.setAutoSaveChangePages("changePagesPosi"));var l=o?r.getThisContr():i.getActivePage(!0);if($.extend(e,{box:o?$.getNewContrBox([a],$.getContrId(l)):[a],boxObj:$.extend(!0,{},l),otherAutoSaveIndex:i.getOtherAutoSaveDataLength()}),e.symbolMask=$.extend(!0,{},c["default"].getSymbolMaskData()),e.selectContr&&1==e.selectContr.length&&-1!==e.selectContr[0].indexOf("table")){var d=u["default"].getTableSelectCell();d&&(e.tableData={selectCell:$.extend(!0,[],d),isEditing:u["default"].isEdting()})}h.push(e),f++,S.emitChange()},getSaveData:function(){return h},getSaveDataLength:function(){return h.length},getSaveDataIndex:function(){return f},historyClick:function(e){var t=n(25)["default"],r=n(8)["default"],i=h.length-f-e,o=void 0;if(i<0)for(o=0;o<Math.abs(i);o++)w(!0);else if(i>0)for(o=0;o<Math.abs(i);o++)b(!0);S.emitChange(),t.getMergeBoxShow()&&r.addRedoUndoEmitArr("MergeBoxStore.emitChange"),a["default"].change([{tabType:"history",isFold:!0}])},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});i["default"].register(function(e){switch(e.actionType){case o["default"].SAVEDATA_CREATE:break;case o["default"].SAVEDATA_UNDO:w(),S.emitChange();break;case o["default"].SAVEDATA_REDO:b(),S.emitChange()}});var x=S;t["default"]=x,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(p,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(f,"saveIndex","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(h,"saveData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(g,"PAGE_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(m,"EVENT_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(_,"ANIM_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(v,"PAGES_EMIT_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(y,"NOT_AUTOSAVE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(w,"undo","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(b,"redo","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(C,"changeOtherSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(S,"SaveDataStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),t.register(x,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),r(e))}()}).call(this,n(2)(e))},,,,,,,,function(e,t,n){"use strict";var r,i=n(46),o=n(42),a=window.$,s=!1,l=[],c=0,u=20;function d(e,t){for(;-1!=l.indexOf(e)&&c<u;){var n=(++c==u&&(l=[],c=0),t());if(n)return n}return c==u&&(l=[],c=0),l.push(e),c==u&&(l=[]),e}function p(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function f(e){var t=n(3)["default"],o=n(5)["default"],u=n(15)["default"];l=[],c=0;var d=i.a.getSelectKey(),p=a.getElById("fillDataSelect"),f=!1,h=t.getSelectContr();if(d){var g=d.split("|");g=g[g.length-1],0==a(".isC.opt #"+g+", .isC.opt#"+g).length&&(d=undefined)}if(p||d){var m=p&&p.getAttribute("data-value")||d,_=i.a.getIdList();_.forEach(function(n,r){n.split(" ")[0]==m&&_[r].split(" ").forEach(function(n){var r=e(),i=n.split("|");if(i.length>1){var o=i[i.length-1];t.changeSymbolChild({content:r},o,i[0],!0,!0)}else t.contrUpdate(n,{content:r},!1,!0);f=!0})}),f&&t.emitChange()}else 1==h.length&&"table"==h[0].type&&o.isSelectTableCell()?o.updateCellData(function(){return{text:{content:e()}}}):(h.forEach(function(n){if(a.isTextContr(n)){var r=e();t.contrUpdate(a.getContrId(n),{content:r},!1,!0),f=!0}}),f&&t.emitChange());if(f){s&&clearTimeout(r);var v=t.getSelect();s=!0,r=setTimeout(function(){s=!1,u.createData({type:"fillTextData",name:"智能填充文本",handleObjType:1===v.length?v[0].split("_")[0]:"mutiContr",autoSaveType:"pageContrs"})},1e3)}}function h(e,t){return d(Math.floor(Math.random()*(t-e+1)+e),function(){return h(e,t)})}var g={getName:function(e){f(function(){return function t(e){var n,r,i,o,a,s=["李","王","张","刘","陈","杨","赵","黄","周","吴","徐","孙","胡","朱","高","林","何","郭","马","罗","梁","宋","郑","谢","韩","唐","冯","于","董","萧","程","曹","袁","邓","许","傅","沈","曾","彭","吕","苏","卢","蒋","蔡","贾","丁","魏","薛","叶","阎","余","潘","杜","戴","夏","锺","汪","田","任","姜","范","方","石","姚","谭","廖","邹","熊","金","陆","郝","孔","白","崔","康","邱","秦","江","史","顾","侯","邵","孟","龙","万","段","雷","钱","汤","尹","黎","易","常","武","乔","贺","赖","龚","文"],l=Math.random(),c=e||"random";if("random"==c&&(c=Math.random()>.5?"women":"man"),"women"==c?(n=["静静","婷婷","园园","冰冰","莎莎","乐乐","晶晶","诗诗","倩倩","菲菲"],r=["文","敏","春","夏","冬","慧","瑶","星","燕","迪","钰","怡","雪","佳","芮","可","涵","熙","裕"],i=["小","梓","晓","秀","春","子","天","玉","紫","亦","文","光","梦","成","婷","恩","雅","轩","若","欣","怡","一","常"],o=["芳","云","宣","梅","慧","敏","春","瑶","燕","奇","雨","彤","芮","逸"]):"man"==c&&(n=["超超","浩浩","豪豪","东东","鑫鑫","康康","轩轩"],r=["伟","强","华","志","建","超","荣","文","达","晖","刚","雷","磊","哲","东","楠","昊","宇","翔","俊","杰"],i=["小","明","万","浩","晓","德","力","世","子","天","金","江","泽","玉","亦","家","文","达","光","永","成","洪","俊","恒","恩","轩","若","一","常","伟","壮"],o=["平","华","海","盛","强","志","博","夏","杰","宇","翔","北","秋","东","新","豪","星","铭","康","鑫","凯","栋","梁","瑞","龙","宜","扬","林"]),l>.97){var u=Math.floor(Math.pow(Math.random(),3)*s.length+1)-1,p=Math.floor(Math.pow(Math.random(),1.1)*n.length+1)-1;a=s[u]+n[p]}else if(l>.6){var f=Math.floor(Math.pow(Math.random(),3)*s.length+1)-1,h=Math.floor(Math.pow(Math.random(),1.5)*r.length+1)-1;a=s[f]+r[h]}else{var g=Math.floor(Math.pow(Math.random(),3)*s.length+1)-1,m=Math.floor(Math.pow(Math.random(),1.5)*i.length+1)-1,_=Math.floor(Math.pow(Math.random(),1.5)*o.length+1)-1;a=s[g]+i[m]+o[_]}return d(a,function(){return t(e)})}(e)})},getPhoneNum:function(e){f(function(){return function t(e){var n,r=new Array("130","131","132","133","135","137","138","170","187","189"),i=new Array("6116","6333","6966","8156","6568","5128","7352","3762","2187","9189"),o=new Array("0311","0791","010","0571","0591","023","020","0731","0431","021"),a=Math.floor(10*Math.random()),s=r[a],l=i[a],c=o[a],u=e||"mobile";if("mobile"==u){for(var p=0;p<8;p++)s+=Math.floor(10*Math.random());n=s}else if("fixed"==u){for(p=0;p<4;p++)l+=Math.floor(10*Math.random());n=c+"-"+l}return d(n,function(){return t(e)})}(e)})},getEmail:function(){f(function(){return function e(){for(var t=h(0,23),n=h(6,12),r="",i=0;i<n;i++){var o=h(0,25);r+=String.fromCharCode(97+o)}return d(r+"@"+["xiaopiu.com","163.com","vip.163.com","qq.com","vip.qq.com","foxmail.com","gmail.com","sohu.com","tom.com","vip.sina.com","sina.com.cn","sina.com","yahoo.com.cn","yahoo.cn","tom.com","yeah.net","21cn.com","hotmail.com","sogou.com","188.com","139.com","189.cn","wo.com.cn","139.com"][t],function(){return e()})}()})},getRandomNum:function(e,t){f(function(){return h(e,t)})},getNumString:function(e,t){f(function(){return function n(e,t){for(var r=new Array("1","2","3","4","5","6","7","8","9")[Math.floor(9*Math.random())],i=h(e,t),o=0;o<i-1;o++)r+=Math.floor(10*Math.random());return d(r,function(){return n(e,t)})}(e,t)})},getTime:function(e){f(function(){return function t(e){return d(o(o().valueOf()-Math.random()*(o().valueOf()-o().subtract(1,"year").valueOf())).format(e),function(){return t(e)})}(e)})},getFillContent:function(e,t){f(function(){return function n(e,t){for(var r=["为了借助社交产品的流量，让用户主动分享APP中的内容到社交平台来达到拉新和促活的目的，市场上绝大多数APP都有第三方分享的功能，它是内容分发的最有效途径，并且大大降低了企业的营销成本。","作为用户和产品之间的桥梁，社交分享在产品的发展过程中扮演了重要的角色。","尤其是刚上线的产品，很难通过产品的内部体系来实现快速的用户增长，所以会更加依赖于分享来达到广泛的传播，获取目标用户。","在常用的社交分享组件中，微信（微信好友和朋友圈）、微博、QQ（QQ好友和QQ空间）是三大主要平台，而其中微信凭借高达9.38亿的月活跃用户以及高达29%的日均手机应用使用率，成为各款APP选择最多、排位最靠前的分享途径。即便同样是腾讯系下的QQ，也在QQ空间中加入了分享到微信好友和朋友圈的功能。","用户分享内容到社交媒体或好友，不应该是一种粗暴的强制行为，我们应该在保证产品本身内容有吸引力的核心前提下，仔细揣摩用户心理，结合产品本身的特色，在不同情境下提供给用户最合适的分享平台及方式，让用户分享成为一种水到渠成的自然行为，甚至在某些时候还能给用户带来一些小的惊喜就更棒了。","下面我们会从不同维度来分析一下APP的社交分享功能设计，看看这里面有哪些值得探讨之处。","我们从分享时机、分享形式、分享动机、分享场景4个维度来聊聊「社交分享」的那些事儿。","分享时机，在不同的时机分析用户是否有分享的意愿，提供给他们合适的分享内容，能让分享的效果更好。","用户主动点击分享 绝大多数APP都是在详情页等需要分享的页面放置一个分享按钮，由用户自行选择分享。这种情况下用户是否分享主要是取决于产品内容本身，比如内容有趣或是有用。在一些APP中设计者会对这个分享按钮加一些鼓励的文案或着重的设计来促进用户分享。","现在很多APP在用户截图时会自动提示用户是否要进行分享。这个时机确实抓的很棒，一般来说，用户截图大多数时候都是为了分享给他人，少部分是为了留底备份。","所以监听用户的截图操作，提示用户进行分享，既缩短了以前分享截图的操作路径，避免了在之前长路径中的行为流失（比如截图完成后忘记分享或觉得麻烦放弃分享等等），也让用户觉得更加贴心。"],i=p(e,t),o="",a=r.length,s=[],l=[];s.length!=a;)s.push(s.length);for(;l.length!=a;){var c=s[p(0,s.length-1)];l.push(c),s.remove(c)}l.map(function(e){o=o+(o?"\n":"")+r[e]});var u=(o=o.substr(0,i)).length;return/[\u3002|\uff1f|\uff01]/.test(o[u-1])?/[\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\uff08|\uff09|\u300a|\u300b|\uff5e]/.test(o[u-1])&&(o=o.slice(0,o.length-1)):o+="...",d(o,function(){return n(e,t)})}(e,t)})},getEvaluate:function(e){f(function(){return function t(e){var n;"e_commerce"==e?n=["物流公司的态度比较差,建议换一家！不过东西还不错！ 很好的卖家，谢谢喽。","店已经收藏了很久，不过是第一次下单。总体来说东西还不错，物美价廉。","第二次来买了，货比我想像中要好！！老板人表扬下。","包装看起来很好，包得很用心，送朋友太适合不过了，谢谢了！ ","一个字！！值！！！ 掌柜的服务态度真好，发货很快。加油！","商品质量相当不错，太喜欢了！谢谢店家的耐心解答。","超赞！！还不错，质量挺好的。发货速度也快。","宝贝收到啦，我超喜欢，做工质地都好得没话说。服务态度也超好， 很有心的店家，以后会常光顾 。","下次还会来，介绍朋友来能不能给打个折？","不错 希望下次合作 谢谢掌柜~~ 发货快，物品基本满意。好评！","刚收到货，很好，物超所值！！以后还来！","店主服务很好，宝贝也很便宜！以后一定常来！","终于拿到啦~~ 好开心那！~ 哈哈，东西收到！ 确认晚了，店家人很好。","早上刚收到，朋友很喜欢，下次一定还来。","一个字 ”好“， 货晚了两天收到，不过东西真的很好。运输的速度应该是快递的问题吧，建议换一家快递公司。","网上买东西讲的是诚信，掌柜说道做到！谢谢了 好卖家 赞一个 ","发货迅速 态度很好，很满意！ 很好很好！","下次有机会再找你 店家人蛮好的 东东很不错,比意想的效果好,","难得见到这么好的店家 价格很优惠，服务也很，东西不错。给个好评鼓励一下。","东西确实不错，只是价格稍微贵了点。不过还是物超所值了，多亏了店家的细心给我讲解使用方法。"][h(0,19)]:"article"==e?n=["开篇简明扼要，精炼有序，给人留下深刻印象。 以景喻情，开头颇有新意，倒叙开头，渲染意境。","拟人化手法的运用使开头显得活泼， 反问句开头，吸引读者.。开头直奔主题，让人一目了然.。用词很吸引人。","场面和气氛描写为文章增色不少，对精彩地方进行简单描述，点面结合，简单介绍情况。自然过渡到下一段，情境描写调动起悬念，充分运用语言,动作,心理描写,使事情具体生动。","细节描写突出人物品质，令人感动。 叙事中夹写景，拟人化语言使文章更显得生动活泼.。外形描写十分有趣。融入了自己的思想，有感染力。","过渡自然，每一段交待得很清楚。语言过于平板，可适当修改使语言更生动。","运用多种感官描写十分仔细.，孩子气的语言很有意思.。加入人物行为，使画面生动。","最后一段有些多余，不如删去，使文章更简洁。","发挥奇妙想象，运用精妙比喻.。充满童趣的拟人与比喻，使文章顿生光彩。","读来令人感动，心理描写细腻，比喻贴切，用词生动。以轻松愉快的语气，向我们娓娓道来，令人回味无穷。","结尾含蓄，点明主题。呼应开头，结构完整，可谓点睛之笔。","文章开头简而得当，通过环境描写来衬托人物心情，十分艺术化。杂而不乱，能做到详略得当，重点突出。结尾恰到好处地点明中心，语言朴实而含义深刻，耐人寻味。","以感受开头，以感受结尾。这样便使文章前后照应，首尾连贯，感染力极强。","开头简明扼要，重点突出，详略得当，内容具体。气氛渲染充分而恰到好处，细腻而传神的刻画。","切合实际，蕴含着朴素而深刻的哲理，读来令人精神振奋，情绪激昂。","这篇文章充满了激情，从字里行间能体会到作者的喜爱之情。全文层次清晰，语句流畅。事例叙述生动，具体，趣味性强。且与前面的比喻一脉相承。最后，用寥寥数语表现出了自已的情感，令人感动。","文章语言清新活泼，描写能抓住事物的主要特征，篇幅短小精悍，值得一读。","文章语言通俗易懂，贴近生活实际，读来令人倍感亲切。文章开头新颖,具有先声夺人之效。使读者一见面就能对人物产生印象。","文章前后连贯，形成完整的形象。字里行间，充满童年真童趣，欢声笑语不绝于耳，不失为一篇佳作。","详略得当，虚实相生，是本文的两大特色。内容更丰富，更生动。","生动,形象的语言的描绘，使读者仿佛置身于梦境一般。结尾处对人物的赞美，情真意切，感人至深。","文章有详有略，言之有序，内容生动具体，不失为一篇佳作。文章内容新颖，结构合理，流畅连贯，自然通达。细节描写颇具匠心，极富功底。","全文通俗易懂，趣味性强。 文章线索明朗，主题突出，文章开头与结尾时的诗化语言。充满想象与韵律之美，令人愿读，爱读，不忍释手。"][h(0,21)]:"food"==e?n=["这儿的材料很新鲜，没有任何勾兑的味道。很正宗的味道，价格很合理。给的量不多不少刚刚好，超级赞！！","一家很好吃的店，有很多种做法，店里的东西都很好吃😋。人虽然很多，但上菜速度很快。","味道不错，价格也超值，家人很喜欢。强烈推荐大家去！","不知为什么人不多，味道超好，不愧是老店。服务很到位。","口味不错，4人餐足够吃，服务也很周到耐心。但是速度有些慢了，总体还不错。","总体味道我觉得还不错，价格也不便宜，好想再去吃一次噢!","味道还可以，就是看上去份量比较小，但两个人足够了。","味道也很不错呢，强烈推荐去吃。","还是一如既往的好吃，会经常来的，方便实惠，味道棒棒哒。环境很优雅。","趁着意犹未尽赶紧好评一下！他家的味道真的是我吃过的最好吃的，服务也很周到。","味道真的不错，朋友都喜欢吃。今天还是比较幸运的，去了没有排队，坐下之后人瞬间好多。","味道不错，家人都比较喜欢。有时间还来。","偶然来尝尝，口味还是不错的，菜价也很合适。","排队排了40分钟，不过很值得，味道相当不错。","味道绝对正宗，口味绝对一流，不用出北京就可以吃到绝对正宗的味道。","味道很好 经常来 都当工作餐了。","非常惊喜！菜品精致，份量足！而且味道也很好。刚开业不久，去的人就非常多了。","口味好吃，服务态度很好，菜量大实惠！","环境很有特色，菜品丰富，口味不错，推荐大家去尝一尝。","味道很不错，上菜很快，现做的比较慢。晚上排队的人比较多，总体还是很好的。"][h(0,19)]:"service"==e&&(n=["真的是很棒的体验，服务人员非常热情，会有归属感。","客服人员很耐心，解决了我的问题。好评！","服务员的态度很好，对待客户都是很用心的，那种发自内心的微笑更是高素质的体现，以后还是会继续去的，赞一个那里的服务员。","服务一流，业务水平也很好。工作人员的工作态度很正确的。","服务人员热情且不失礼貌，让人觉得很亲切舒服。也会对我的问题做很详细的解答，一次很好的体验。","服务人员很热情，服务态度很好，非常赞！","一般很少评价，但是这个一定要强烈好评，好的东西要给大家分享一下下。服务人员的态度非常好，很有耐心。","非常满意，李师傅真的是非常认真而且态度超好，清洗的非常干净，几乎和新的一样了，价格优惠服务到位，太完美了。","师傅教的特别好，客服也很有耐心。由于个人原因，一共调整了预约的时间，客服都耐心服务了，点赞。","教练人态度超好，非常热情，非常耐心的教我改正一些操作陋习和细节问题！准备再次购买服务。","老师很温柔，第一次的体验比想象还要好，环境非常好，服务很周到，整体还是不错的！","非常满意，师傅态度好，干活仔细，服务态度非常好，下次会再去的。","环境很不错，服务态度很好，很高档的真正有家的感觉，一看就是经过专业培训的。","这家店是我去过最好的店！服务态度真的是一流！支持店家，满分好评！","店面硬件设施很不错、装修风格给人很舒服的感觉。店员服务态度也很好，有想法的朋友可以来体验一下。","首先说一下进店感受，前台人员很有礼貌，进来就有迎宾语，也面带微笑。全程的很耐心的指导我们学习，总之很愉快的一次体验。","他家店的服务是出了名的好，服务人员都很热心，很有耐心，完全是站在客户的角度出发。"][h(0,16)]);return d(n,function(){return t(e)})}(e)})},getParagraph:function(e){var t;"dialogue"==e&&(t=h(0,15)),f(function(){return function n(e,t){var r;"title"==e?r=["揭秘：XX团队是如何操纵互联网舆论的。","爆料：XXX平台无故封号，用户投诉无门","传“XXX”完成3.5亿美元e轮融资，估值超过10亿美元，ceo已发内部邮件确认。","【产品经验】第一次做APP时容易范的错误","【工作技巧】产品经理如何处理工作中的突发事件","【干货】潘XX：好人缘的秘诀","【重磅】人民币贬值了，2015投资应该放在这四个领域","【独家】马XXX：传统企业家为什么不会好好说话？","文艺青年最后的音乐据点：网易云音乐评论区","内涵青年最后的吐槽街区：知乎APP","无聊青年最后的对话阵地：网易新闻评论区","从硅谷火到中国特斯拉发布全新半挂卡车Semi。","不用削皮去籽的小黄瓜，一口甜进心里 ","长在火山泥里的夏威夷果，不用剥壳好好吃。 ","薄如蝉翼的金华火腿，每一口都是时间的味道","LOGO要这样排，你得PPT颜值不用愁","巧克力中的“爱马仕”，让自己站在今年情人节票圈的顶端"][h(0,16)]:"dialogue"==e?r=["今天看来天气不错啊。","是的,一点也不像天气预报说的那样。","但愿整个周末都能保持这样的好天气。","额，但是据说待会儿要下雨了。","好吧，不过没关系。我有带雨伞。","你是准备去那里呢？","我准备去市区的博物馆，听说最近新增一些很有特色的展品。","你准备一个人去吗？可以带上我吗？","不是的，我还约了几个朋友一起。如果你愿意的话，我们可以一起去看展览。","那你可先等我几分钟吗？我去拿下我的钱包。","没问题，你快去吧。我在小区门口等你。","那你稍等我一会，我马上下来。我们看完展览还有其他的安排吗？","可能下午我们会一起去新开的一家店吃饭。","新开的吗？你有去过吗？有什么好吃的推荐吗？","有很多特色的菜品，都是新推出的，我还没有去吃过，我们可以一起去尝试下。","好的，我先去拿东西。我们一会在车上聊。"][t%16]:"address"==e&&(r=["北京市东城区王府井大街199号","北京市西城区阜外大街1091号","北京市六里屯22号","南京市中央北路水吉路138号","安定门外安立路83号","海淀区三里河路17号","宣武区白纸坊路西街建功南里9号楼","海淀区小南庄431号","崇文门台基厂南口","宣武区宣武门外大街8号","北京市海淀区北三环北西路38号","北京市朝阳区十里堡京港大厦","海淀区翠微路233号","北京市朝阳区朝阳门外18号","东城区建国门内8号","北京市海淀区志新路10号","丰台区西三环南路12号","北京市朝阳区安苑里111号","西城区西单辟才胡同丰园小区333号","北京市宣武区法源寺西里21号楼","北京市丰台区南二环玉蜓桥东南角新城广场","朝阳区和平里西街1号院","河南省偃师市民主路37号","朝阳区金台路道家园1号","平谷县新平北路63号","朝阳区广渠门外大街垂杨柳1号","朝阳区白家庄东里1号院","海淀区罗庄西里13号楼","西城区阜外大街1号四川大厦","宣武区广外大街18号新纪元大厦"][h(0,29)]);return d(r,function(){return n(e,t)})}(e,++t)})},getRandomText:function(e){f(e)}};t.a=g},function(e,t,n){"use strict";var r=n(5),i=n(33),o=n(3),a=n.n(o),s=n(15),l=n.n(s),c=n(67),u=n.n(c),d=n(7),p=n(31),f=window.$,h=!1;function g(e,t,n,r,i){var o=e.columnIndex,a=e.lineIndex,s=t.columnIndex,l=t.lineIndex,c=r[o+"_"+a];c&&c.mergeKey&&(c=r[c.mergeKey]);var u=f.extend(!0,{},c||{}),d=u.mergeColumn,p=u.mergeLine;if(d&&(u.mergeColumn=0),p&&(u.mergeLine=0),"right"===n&&s>=o){i.isChange||(i.isChange=!0);for(var h=o+(d||0)+1;h<=s;h++){(g=r[h+"_"+a])&&(g.mergeColumn||g.mergeLine)||(c?r[h+"_"+a]=f.extend(!0,{},u):r[h+"_"+a]&&delete r[h+"_"+a])}}else if("left"===n&&s<=o){i.isChange||(i.isChange=!0);for(h=o-1;h>=s;h--){(g=r[h+"_"+a])&&(g.mergeColumn||g.mergeLine)||(c?r[h+"_"+a]=f.extend(!0,{},u):r[h+"_"+a]&&delete r[h+"_"+a])}}else if("bottom"===n&&l>=a){i.isChange||(i.isChange=!0);for(h=a+(p||0)+1;h<=l;h++){(g=r[o+"_"+h])&&(g.mergeColumn||g.mergeLine)||(c?r[o+"_"+h]=f.extend(!0,{},u):r[o+"_"+h]&&delete r[o+"_"+h])}}else if("top"===n&&l<=a){i.isChange||(i.isChange=!0);for(h=a-1;h>=l;h--){var g;(g=r[o+"_"+h])&&(g.mergeColumn||g.mergeLine)||(c?r[o+"_"+h]=f.extend(!0,{},u):r[o+"_"+h]&&delete r[o+"_"+h])}}}var m=function(){function e(){}return e.prototype.cellContextMenu=function(e){var t=r["default"].getTableSelectContr(),n=parseInt(e.currentTarget.getAttribute("data-columnindex")),i=parseInt(e.currentTarget.getAttribute("data-lineindex")),o=r["default"].getTableSelectCell(),s=f.getMinMaxColumnLine(o,t),c=s.minColumn,p=s.maxColumn,h=s.minLine,g=s.maxLine,m=f.getMinMaxColumnLine(o),_=m.minColumn,v=m.maxColumn,y=m.minLine,w=m.maxLine,b=v>_,C=w>y,S=t.columnPosi,x=t.linePosi,E=window,P=E.hotKey,T=E.Mousetrap,j=[["复制",function(){T.trigger(P.command+"+c")},P.comKey+"+C"],["剪切",function(){T.trigger(P.command+"+x")},P.comKey+"+X"],["粘贴",function(){f("body").trigger("paste")},P.comKey+"+V",!0],["在上方插入行",function(){r["default"].addLine(!0,{columnIndex:n,lineIndex:i})}],["在下方插入行",function(){r["default"].addLine(!1,{columnIndex:n,lineIndex:i})}],x.length>2?[g>h?"删除多行":"删除整行",function(){if(x.length-(g-h+1)<1)d["default"].show("删除后，表格不能小于一列！");else{for(var e=g;e>=h;e--)r["default"].deleteLine(e,C);C&&(a.a.emitChange(),r["default"].emitChange()),l.a.createData({type:"tableDeleteLine",name:"表格"+g>h?"删除多行":"删除整行",handleObjType:"table",autoSaveType:"pageContrs"})}},undefined,!0]:undefined,["在左侧插入列",function(){r["default"].addColumn(!0,{columnIndex:n,lineIndex:i})}],["在右侧插入列",function(){r["default"].addColumn(!1,{columnIndex:n,lineIndex:i})}],S.length>2?[p>c?"删除多列":"删除整列",function(){if(S.length-(p-c+1)<1)d["default"].show("删除后，表格不能小于一行！");else{for(var e=p;e>=c;e--)r["default"].deleteColumn(e,b);b&&(a.a.emitChange(),r["default"].emitChange()),l.a.createData({type:"tableDeleteColumn",name:"表格"+(p>c?"删除多列":"删除整列"),handleObjType:"table",autoSaveType:"pageContrs"})}}]:undefined].filter(function(e){return!f.isUndefined(e)});if((b||C)&&j.push(["合并单元格",function(){r["default"].mergeCell()}]),!b&&!C){var I=r["default"].getOneCellData({columnIndex:c,lineIndex:h});(I.mergeColumn||I.mergeLine)&&j.push(["分解单元格",function(){r["default"].resolveCell()}])}j.length>0&&u.a.rightMenuUpdate({content:j,left:e.clientX,top:e.clientY}),e.stopPropagation(),e.preventDefault()},e.prototype.copySpotMouseDown=function(e){var t=e.currentTarget,n=e.currentTarget.getAttribute("data-type"),i=r["default"].getTableSelectCell();if(i){var o=a.a.getFirstSelectContr(),s=i[0];h=!1,r["default"].setDraging(!0),r["default"].setCopySpotData({selectCell:f.extend(!0,{},i),contr:f.extend(!0,{},o),direction:n}),r["default"].setTableSelectCell([s,f.extend(!0,{},s)]),f.setDrag({name:"copySpotDrag",posi:[e.clientX,e.clientY],target:t,moveFunc:function(e){},endFunc:function(){r["default"].setCopySpotData({selectCell:null,contr:null,direction:""}),h&&(l.a.createData({type:"tableCellCopy",name:"["+o.name+"] 内容复制",handleObjType:o.type,autoSaveType:"pageContrs"}),h=!1),r["default"].setDraging(!1)}})}e.stopPropagation(),e.preventDefault()},e.prototype.cellMouseDown=function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget,n=parseInt(t.getAttribute("data-columnindex")),o=parseInt(t.getAttribute("data-lineindex")),a=r["default"].getTableSelectCell(),s=r["default"].getTableSelectContr(),l=f.getMinMaxColumnLine(a,s),c=l.minColumn,u=l.maxColumn,d=l.minLine,p=l.maxLine;if(!(2==e.button&&n>=c&&n<=u&&o>=d&&o<=p)){var h=e.shiftKey,g={columnIndex:n,lineIndex:o};r["default"].setDraging(!0),h?r["default"].setTableSelectCellEnd(g):r["default"].setTableSelectCell([g,f.extend(!0,{},g)]),f.setDrag({name:"iconScrollBarComp",posi:[e.clientX,e.clientY],target:t,moveFunc:function(e){},endFunc:function(){r["default"].setDraging(!1)}}),i["default"].change([{tabType:"tableCell",isFold:!0,rename:"表格单元"},{tabType:"text"},{tabType:"event"},{tabType:"struct"}])}},e.prototype.cellMouseEnter=function(e){var t=e.currentTarget,n=parseInt(t.getAttribute("data-columnindex")),i=parseInt(t.getAttribute("data-lineindex")),o={columnIndex:n,lineIndex:i},s=window.mouseDownTarget;if(s&&"copySpotDrag"===s.name){var l=r["default"].getCopySpotData(),c=l.selectCell,u=l.contr,d=l.direction;if(c&&u){var p={isChange:!1},m=c[0],_=m.columnIndex,v=m.lineIndex,y=c[1],w=y.columnIndex,b=y.lineIndex,C=f.getMinMaxColumnLine(c,u),S=C.minColumn,x=C.maxColumn,E=C.minLine,P=C.maxLine,T=u.child,j=f.extend(!0,{},T);if("right"!==d&&"left"!==d||_!=w){if(("bottom"===d||"top"===d)&&v==b){o.columnIndex=w,o.lineIndex=i;for(I=S;I<=x;I++){g({columnIndex:I,lineIndex:v},{columnIndex:I,lineIndex:i},d,j,p)}}}else{o.columnIndex=n,o.lineIndex=b;for(var I=E;I<=P;I++){g({columnIndex:_,lineIndex:I},{columnIndex:n,lineIndex:I},d,j,p)}}p.isChange&&(r["default"].setTableSelectCellEnd(o),a.a.contrUpdate(f.getContrId(u),{child:j},!0,undefined,!0),h=!0)}}else r["default"].setTableSelectCellEnd(o)},e.prototype.lineMouseEnter=function(e){var t=e.currentTarget.getAttribute("data-key"),n=f(e.currentTarget).parent(".table-line-box").find(".table-drag-line[data-key='"+t+"']");n.hasClass("active")||n.addClass("active")},e.prototype.lineMouseLeave=function(e){var t=e.currentTarget.getAttribute("data-key"),n=f(e.currentTarget).parent(".table-line-box").find(".table-drag-line[data-key='"+t+"']");n.hasClass("active")&&n.removeClass("active")},e.prototype.tableLineMouseDown=function(e,t){var n,i=f.hasClass(e.currentTarget,"table-Vertical-drag-line"),o=i?e.clientX:e.clientY,a=parseInt(e.currentTarget.getAttribute("data-key")),s=r["default"].getTableData().selectContr,c=f.extend(!0,{},s),u=i?"columnPosi":"linePosi",d=i?"left":"top",h=i?"width":"height",g=-Number.MAX_VALUE,m=Number.MAX_VALUE,_=p["default"].getZoom()/100;s&&(a!==s[u].length&&(m=s[u][a-(a===s[u].length?1:0)]-20),0!==a&&(g=-(s[u][a-1]-20)),f.setDrag({name:"tableVerticalDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t,l,p,v=i?e.clientX:e.clientY;n=f.setRegion((v-o)/_,g,m);var y=[].concat(c[u]);0===a?(y[a]-=n,r["default"].changeTableContr(((t={})[""+u]=y,t[""+d]=c[d]+n,t[""+h]=c[h]-n,t))):a===s[u].length?(y[a-1]+=n,r["default"].changeTableContr(((l={})[""+u]=y,l[""+h]=c[h]+n,l))):(y[a-1]+=n,y[a]-=n,r["default"].changeTableContr(((p={})[""+u]=y,p)))},endFunc:function(){n&&l.a.createData({type:"tableLineMouseDown",name:"["+c.name+"] 表格间距的改变",handleObjType:c.type,autoSaveType:"pageContrs"}),t&&t()}})),e.stopPropagation(),e.preventDefault()},e.prototype.tableCellWidthSliderFunc=function(e,t){r["default"].changeTableCellWH("width",t.width)},e.prototype.tableCellHeightSliderFunc=function(e,t){r["default"].changeTableCellWH("height",t.height)},e.prototype.tableAddColumnFunc=function(e){r["default"].addColumn(!1),e.stopPropagation(),e.preventDefault()},e.prototype.tableAddLineFunc=function(e){r["default"].addLine(!1),e.stopPropagation(),e.preventDefault()},e.prototype.celldbclick=function(e){var t=f.query(".textLabel");t&&t.click()},e.prototype.editMouseDownFunc=function(e){var t=f(e.currentTarget).find("textarea")[0];setTimeout(function(){t&&t.focus()},0),f.stopPropagation(e)},e}();t.a=new m},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(12)),i=s(n(291)),o=s(n(4)),a=s(n(33));function s(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var l=n(10).EventEmitter,c={isShow:!1,isEdit:!1,style:{left:0,top:0},contrList:[],thisContr:null};function u(e,t){c.style.left=e,c.style.top=t}function d(e){c.isShow||(c.contrList=[]);var t=$.getMidPos(e.width,e.height);c.style.left=t.left,c.style.top=t.top,c.contrList.push(e),c.isShow=!0,c.thisContr=e,c.backColor=4}function p(e){c.backColor=e}function f(e){c.thisContr=$.extend(c.thisContr,e)}var h=(0,r["default"])({},l.prototype,{init:function(e){d(e),h.emitChange()},changeThisContr:function(e){c.thisContr=e},wrapBoxEdit:function(e,t){var r=void 0,i=$.getContrId(e),o=n(3)["default"],s=n(31)["default"].getZoom()/100;if(!c.isEdit||c.isEdit&&c.thisContr.contrs[i]){if(c.isEdit||(c.contrList=[]),o.contrUpdate($.getContrId(e),{isOpen:!0},!0,!0),c.contrList.push(e),c.isEdit=!0,c.thisContr=e,t){var l=!1;e.hierarchy.forEach(function(n){var i=e.contrs[n],a=$.getElById(n);if(a&&!l){var c=$.offset(a);$.collide([t.clientX,t.clientY,1,1],[c.left,c.top,a.offsetWidth*s,a.offsetHeight*s])?(r=$.getContrId(i),o.selectChange([n],!1,!0),l=!0):o.contrUpdate(n,{isOpt:!1},!0,!0)}})}}else for(var u=!1,d=c.contrList.length-1;d>=0&&!u;d--)c.contrList[d].contrs[i]?(u=!0,c.thisContr=c.contrList[d],c.contrList.length=d+1):o.contrUpdate($.getContrId(c.contrList[d]),{isOpen:!1},!0,!0);r||a["default"].change([{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0},{tabType:"event"},{tabType:"struct"},{tabType:"note"}])},wrapBoxEditOpt:function(){},wrapBoxEditOut:function(){var e=n(3)["default"];c.isEdit=!1,c.contrList.forEach(function(t){e.contrUpdate($.getContrId(t),{isOpen:!1},!0,!0)}),c.contrList=[]},insertContr:function(e,t){var n=[c.thisContr.hierarchy.indexOf(e),1].concat(t);Array.prototype.splice.apply(c.thisContr.hierarchy,n)},cancelMergeBoxShow:function(){c.isShow=!1},getMergeBoxShow:function(){return c.isShow||c.isEdit},getMergeBoxIn:function(){return c.isShow},getIsWrapEdit:function(){return c.isEdit},setIsWrapEdit:function(e){c.isEdit=e},getContrsArr:function(){var e=n(3)["default"],t=[],r=h.getContrs();for(var i in r){var o=r[i];t.push(e.getAllValsContr({contrKey:o}))}return t},getHierarchyContrsArr:function(){for(var e=[],t=c.thisContr.hierarchy,n=0;n<t.length;n++)e.push(c.thisContr.contrs[t[t.length-1-n]]);return e},getContrList:function(){return c.contrList},initContrList:function(){var e=n(3)["default"];c.contrList.forEach(function(t){e.contrUpdate($.getContrId(t),{isOpen:!1},!0,!0)}),c.contrList=[]},setContrList:function(e){c.contrList=e},getContrListKey:function(){return c.contrList.map(function(e){return $.getContrId(e)})},hierarchyAddContr:function(e){c.thisContr.hierarchy.splice(0,0,e)},getContrs:function(){return c.thisContr&&c.thisContr.contrs},getThisContr:function(){return c.thisContr},changeMergeContr:function(e){var t=!1,n=$.getContrId(e);c.contrList.every(function(e,r){return $.getContrId(e)!=n||(t=r,!1)}),!1!==t&&(c.contrList[t]=e),c.thisContr&&$.getContrId(c.thisContr)==n&&(c.thisContr=e)},setRedoThisContr:function(e,t){var n=$.getMidPos(e.width,e.height);c.style.left=n.left,c.style.top=n.top,c.thisContr=e,t||h.emitChange()},setRedoContrList:function(){},setThisContr:function(e){var t=$.getMidPos(e.width,e.height);c.style.left=t.left,c.style.top=t.top,c.thisContr=e,c.backColor=4},getMergeBoxBackColor:function(){return c.backColor},getMergeBoxHierarchy:function(){return c.thisContr.hierarchy},getStyle:function(){return c.style},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].MERGEBOX_MOVE:u(e.left,e.top),h.emitChange();break;case i["default"].MERGEBOX_INIT:d(e.initContr),h.emitChange();break;case i["default"].MERGEBOX_BACKCOLOR:p(e.color),h.emitChange();break;case i["default"].MERGEBOX_THISCONTR:f(e.option),h.emitChange()}});var g=h;t["default"]=g,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(l,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(c,"_mergeBox","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(u,"changePosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(d,"init","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(p,"setBackColor","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(f,"updateThisContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(h,"MergeBoxStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),t.register(g,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/MergeBoxStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(7)),o=a(n(66));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l=["#ffffff","#000000","#808080","#D43030","#FFEB3B","#43CF7C","#2A82E4","#AC33C1"],c={isShow:!1,parentKey:null,parentPosi:null,posi:null,backColor:0,colorArr:l,thisContrKey:null,thisSymbolKey:null,parentArr:[]},u=!1,d=(0,r["default"])({},s.prototype,{init:function(e,t){var r=n(28)["default"],i=n(3)["default"],o=n(25)["default"],a=[0,0];if(c.isShow){var s=$.extend(!0,{},c);delete s.isShow,delete s.parentArr,delete s.backColor,delete s.colorArr,c.parentArr.unshift(s),a=[c.posi.left,c.posi.top]}c.isShow=!0,c.thisContrKey=e;var l=d.getSymbolMaskContr();c.posi={left:l.left-a[0],top:l.top-a[1],width:l.width,height:l.height},c.thisSymbolKey=l.symbolKey,c.parentPosi=i.getParentRotateVals(!0),o.wrapBoxEditOut(),i.selectChange([],!0,!0),t||(r.emitChange(),d.emitChange())},initAll:function(){c={isShow:!1,parentKey:null,parentPosi:null,posi:null,backColor:0,colorArr:l,thisContrKey:null,thisSymbolKey:null,parentArr:[]}},isInSymbolLoop:function(e){if(!c.isShow)return!1;var t=[c.thisSymbolKey];return c.parentArr&&c.parentArr.forEach(function(e){t.push(e.thisSymbolKey)}),-1!=t.indexOf(e)},getParentArr:function(){return c.parentArr},isAddingSymbol:function(){return u},setAdding:function(e){u=e},getSymbolMaskShow:function(){return c.isShow},getIsEditSymbolChild:function(e){return-1!=d.getSymbolMaskContr().hierarchy.indexOf(e)},getSymbolMask:function(){return c},getSymbolMaskData:function(){return{isShow:c.isShow,parentArr:c.parentArr,parentKey:c.parentKey,parentPosi:c.parentPosi,posi:c.posi,thisContrKey:c.thisContrKey,thisSymbolKey:c.thisSymbolKey}},setSymbolMaskData:function(e,t){var r=n(28)["default"],o=n(3)["default"],a=$.extend(!0,{},e),s=c.isShow!=e.isShow;for(var l in a)c[l]=a[l];if(c.thisSymbolKey&&!o.getSymbol(c.thisSymbolKey,!0))return d.initAll(),setTimeout(function(){r.emitChange(),d.emitChange(),o.emitMustChange(),i["default"].show("引用组件不存在！")},10),!1;setTimeout(function(){r.emitChange(),d.emitChange(),o.emitMustChange()},10),t||(d.emitChange(),o.initCache(),o.selectChange([],undefined,!0),o.emitChange(),s&&r.emitChange())},getSymbolContrKey:function(){return c.thisContrKey},getSymbolIsEditThisContr:function(e){return c.isShow&&c.thisContrKey==e},getSymbolMaskContr:function(){var e=n(3)["default"],t=e.getContrByAll(c.thisContrKey);return t&&e.getAllValsContr({contrKey:t})},getCutVals:function(){return d.getSymbolMaskContr().cutVals},setInputVal:function(e){n(3)["default"].contrUpdate(c.thisContrKey,{cutVals:e})},setSymbolMask:function(e){c=e,d.emitChange()},getSymbolParentKeyArr:function(e,t){var n=e.parents(".isC[data-type=symbol]:not(.isSymbolEdit)"),r=void 0;return n.length>0&&(r=[],n.each(function(e,t){r.unshift(t.id)}),t&&t()),r},getSymbolBackColor:function(){return c.colorArr[c.backColor]},setSymbolBackColor:function(e){e!=c.backColor&&(c.backColor=e,d.emitChange())},into:function(e){c.isShow=!0,c.thisContrKey=e,d.emitChange()},exit:function(e,t,r){var i=n(28)["default"],o=n(3)["default"],a=n(25)["default"],s=n(40)["default"],l=void 0;if(t&&c.parentArr.length>0&&(l=c.parentArr[c.parentArr.length-1].thisContrKey),c.parentArr.length>0&&!t){var u=0;r&&c.parentArr.some(function(e,t){return e.thisContrKey==r&&(t>0&&(l=c.parentArr[t-1].thisContrKey),u=t,!0)});var p=$.extend(!0,{},c.parentArr[u]),f=o.getContrByAll(c.thisContrKey);f&&(window.renderSymbol=f.symbolKey),c.parentArr.splice(0,u+1),c.parentKey=p.parentKey,c.parentPosi=p.parentPosi,c.posi=p.posi,c.thisContrKey=p.thisContrKey,c.thisSymbolKey=p.thisSymbolKey}else{o.initCache(),c.isShow=!1;var h=o.getContrByAll(c.thisContrKey);h&&(window.renderSymbol=h.symbolKey),c.thisContrKey=null,c.thisSymbolKey=null,c.parentPosi=null,c.parentKey=null,c.parentArr=[],c.posi=null}return e||(s.getCutImageShow()&&$.exitCutImage(!0),a.getMergeBoxShow()&&(a.wrapBoxEditOut(),a.emitChange()),o.selectChange([],undefined,!0),o.emitChange(),i.emitChange(),d.emitChange()),setTimeout(function(){window.renderSymbol=!1},0),l},exitAndSave:function(e,t,r){var i=n(3)["default"],a=n(15)["default"],s=n(40)["default"],l=c.thisContrKey,u=d.exit(e,t,r);u&&(l=u),e||(s.getCutImageShow()&&$.exitCutImage(!0),o["default"].initSymbolSizeData(),setTimeout(function(){i.selectContr(l),a.createData({type:"backFromSymbolMask",name:"退出引用编辑",handleObjType:"symbol",autoSaveType:"pageContrs"})},0))},exitAndSaveByKey:function(e,t){"page"==e?d.exitAndSave(t,!0):d.exitAndSave(t,undefined,e)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),p=d;t["default"]=p,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),t.register(l,"colorArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),t.register(c,"__symbolMask","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),t.register(u,"isAdding","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),t.register(d,"SymbolMaskStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),t.register(p,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=D(n(0)),i=D(n(287)),o=D(n(322)),a=D(n(151)),s=D(n(17)),l=D(n(305)),c=D(n(304)),u=D(n(293)),d=D(n(303)),p=D(n(301)),f=D(n(300)),h=D(n(299)),g=D(n(298)),m=D(n(3)),_=D(n(31)),v=D(n(8)),y=D(n(25)),w=D(n(15)),b=D(n(38)),C=D(n(92)),S=D(n(5)),x=D(n(26)),E=D(n(7)),P=D(n(52)),T=D(n(130)),j=D(n(67)),I=D(n(134)),k=D(n(136)),A=D(n(155));function D(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var O=k["default"].mouseDown,M=A["default"].mouseUp,L={tl:"lX",ml:"lX",bl:"lX",tr:"rX",mr:"rX",br:"rX"},N={tl:"tY",tm:"tY",tr:"tY",bl:"bY",bm:"bY",br:"bY"},U=[["lX","lX"],["mX","mX"],["rX","rX"],["lX","rX"],["rX","lX"]],R=[["tY","tY"],["mY","mY"],["bY","bY"],["tY","bY"],["bY","tY"]],B=["lX","mX","rX"],H=["tY","mY","bY"];function V(){var e=m["default"].getFirstSelectContr(!0),t=e.iconKey;E["default"].show("下载中...");var n=s["default"].get($.getIconDownLoadUrl(t,a["default"]));n.query({}),n.end(function(t,n){t?E["default"].show("网络错误，请稍后再试"):$.downloadIcon(e,n,o["default"])})}var F={createContr:function(e,t,n,i,o,a,s,g){var _=v["default"].getViewMode(),y=$.getContrId(e),w=void 0,b={key:y+(i?"_startState":""),i:"symbolLib"==e.type||"dragBase"==o||"isInLib"==o&&"symbol"!=e.type?e:m["default"].getAllValsContr({contrKey:e.isDragContr||e.id&&$.isUndefined(e.interfaceId)?e:y,changeThisContr:e.isDragContr,type:e.isDragContr?"drag":a?"hover":i?"start":undefined,symbolChild:g})};return e.isDragContr&&e.isDragPosi&&$.extend(!0,b.i,e.isDragPosi),!b.i.isDelete&&b.i.isShow||!$.isContrShow(b.i,_)||(b.i.getAllvals||(b.i=$.extend(!0,{},b.i)),b.i.opacity=0),$.isContrShow(b.i,_)?(n&&(b.isWrap=n),i&&(b.isStartState=i),o&&(b.specialType=o),t&&(b.contrastContr=t),a&&(b.isHover=a),s&&(b.isInSymbol=s),g&&(b.symbolChild=g),b.contrId=y+(b.isStartState?"_startState":"")+(b.specialType&&"preview"!==b.specialType?"_"+b.specialType:""),"text"==b.i.type?w=r["default"].createElement(l["default"],b):"icon"==b.i.type?w=r["default"].createElement(c["default"],b):"table"==b.i.type?(b.i="dragBase"==o?e:m["default"].getContrByAll(y),b.i=b.i||e,b.i&&(w=r["default"].createElement(u["default"],b))):"image"==b.i.type?w=r["default"].createElement(d["default"],b):"wrapbox"==b.i.type?w=r["default"].createElement(p["default"],b):"symbol"==b.i.type||"symbolLib"==b.i.type?w=r["default"].createElement(f["default"],b):"hotspot"==b.i.type&&"edit-view"!=_&&(w=r["default"].createElement(h["default"],b)),w):undefined},getmDivCoverEvent:function(e){return e?{onDoubleClick:F._mDivDoubleClickStart}:{onDoubleClick:F._mDivDoubleClick}},_mDivDoubleClickStart:function(){var e=m["default"].getContrastContr(),t=m["default"].getContrState(e);m["default"].selectChange([$.getContrId(e)],!1,!0),P["default"].selectState(t.startState)},_mDivDoubleClick:function(e){var t=$(e.currentTarget.parentNode),n=x["default"].getSymbolParentKeyArr(t);y["default"].getMergeBoxShow()&&(y["default"].wrapBoxEditOut(),y["default"].emitChange()),m["default"].selectContr($.getParentAttr(e.currentTarget,"data-id"),undefined,n),e.stopPropagation()},_coverDoubleClick:function(e){var t=m["default"].getSelect();if(1==t.length){var n=t[0].split("_")[0];if("wrapbox"==n)i["default"].init(e,t[0]);else if("text"==n)$.isTextLine(t[0])||($.getElById("textLabel").click(),setTimeout(function(){var e=$.query(".cDiv.opt:not(.isStartState) textarea");e&&e.focus()},0));else if("image"==n){var r=$.getElById("cutImageLabel");r&&r.click()}else if("symbol"==n){var o=m["default"].getContrByAll(t[0]),a={clientX:e.clientX,clientY:e.clientY,target:e.target,stopPropagation:e.stopPropagation};if(10!=o.scale){var s=$.offset(e.currentTarget);a.clientX=s.left+10*(a.clientX-s.left)/o.scale,a.clientY=s.top+10*(a.clientY-s.top)/o.scale}var l=$.getElById("symbolLabel");l&&l.click(),setTimeout(function(){O(a),M(a)},0)}else if("icon"==n){var c=$.getElById("iconLabel");c&&c.click()}else if("table"==n){var u=e.nativeEvent;S["default"].selectTableCellByPosi({x:u.offsetX,y:u.offsetY})}}else t.length>1&&P["default"].selectChange([e.target.parentNode.id]);e.stopPropagation()},_coverContextMenu:function(e){var t=[["复制",function(){window.Mousetrap.trigger(window.hotKey.command+"+c")},window.hotKey.comKey+"+C"],["剪切",function(){window.Mousetrap.trigger(window.hotKey.command+"+x")},window.hotKey.comKey+"+X"],["删除",function(){window.Mousetrap.trigger(window.hotKey["delete"])},"Delete",!0]],n=m["default"].getSelect();if(window.localStorage.copy&&t.splice(1,0,["粘贴",function(){$("body").trigger("paste")},window.hotKey.comKey+"+V"]),n.length>1)t.push(["进行合并",function(){P["default"].createWrapboxContr()},window.hotKey.comKey+"+G"]);else if(1==n.length)if(t.push(["保存",function(){$.getElById("saveControl").click()},window.hotKey.comKey+"+S",!0]),"wrapbox"==n[0].split("_")[0])t.push(["进行分解",function(){P["default"].wrapResolve()},window.hotKey.comKey+"+"+window.hotKey.shiftKey+"+G"]),t.push(["集合编辑",function(){$.getElById("wrapBoxLabel").click()},"双击"]);else if("text"==n[0].split("_")[0])$.isTextLine(n[0])||t.push(["文本编辑",function(){$.getElById("textLabel").click(),setTimeout(function(){$.query(".opt.cDiv textarea").focus()},0)},"双击"]);else if("image"==n[0].split("_")[0]){var r=m["default"].getFirstSelectContr();$.isDefaultImg(r.src)||t.push(["图片编辑",function(){var e=$.getElById("cutImageLabel");e&&e.click()},"双击"]),t.push(["替换原图",function(){$.getElById("changeImgBtn").click()}]),$.isDefaultImg(r.src)||t.push(["下载原图",function(){var e=(-1!=r.src.indexOf("userImages")||-1!=r.src.indexOf("static")||-1!=r.src.indexOf("images")?window.imgUrl:"")+r.src,t=e.lastIndexOf("."),n=e.substr(t);E["default"].show("下载中...");var i=new window.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.setRequestHeader("Authorization","Basic a2VybWl0Omtlcm1pdA=="),i.onload=function(){200===i.status&&o["default"].saveAs(i.response,""+r.name+n)},i.send()}])}else"icon"==n[0].split("_")[0]&&t.push(["图标编辑",function(){$.getElById("iconLabel").click()},"双击"],["下载图标",function(){V()}]);j["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:t}),e.stopPropagation(),e.preventDefault()},_coverDoubleClickStart:function(){var e=m["default"].getContrastContr(),t=m["default"].getContrState(e);m["default"].selectChange([$.getContrId(e)],!1,!0),P["default"].selectState(t.startState),v["default"].setAutoSaveChangePages("__pageContrs",!0)},_coverContextMenuStart:function(e){j["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:[["交换对比状态",function(){var e=m["default"].getContrastContr(),t=m["default"].getContrState(e);m["default"].selectChange([$.getContrId(e)],!1,!0),P["default"].selectState(t.startState),v["default"].setAutoSaveChangePages("__pageContrs",!0)},"双击"]]}),e.stopPropagation(),e.preventDefault()},getCoverEvent:function(e){return"edit-view"==v["default"].getViewMode()?{}:e?{onDoubleClick:F._coverDoubleClickStart,onMouseDown:$.stopPropagation,onContextMenu:F._coverContextMenuStart}:{onDoubleClick:F._coverDoubleClick,onContextMenu:F._coverContextMenu,onMouseDown:F._coverMouseDown}},_coverMouseDown:function(e){var t=_["default"].getZoom(),n=e,r=[],i=$.getParentAttr(e.currentTarget,"data-id"),o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=m["default"].getSelect(),p=void 0,f=void 0,h=void 0,g=void 0,v=void 0,y=void 0,S=void 0,x=void 0,E=new Date,j=e.altKey;1===d.length&&d[0]==i||j||(F._contrSelect(i,d),1==(d=m["default"].getSelect()).length&&d[0]!=i&&(i=d[0]));var k=m["default"].getContrByAll(i),A=d.length>1;if(j){if($.exitCutImage(),1==d.length||0==d.length){var D=[e.clientX,e.clientY],O=m["default"].getAllValsContr({contrKey:$.extend(!0,{},k),notCopy:!0,changeThisContr:!0});!O.mergeName||O.states&&$.objLength(O.states)>0||m["default"].getAllValsChildContr(O),"symbol"==O.type&&10!=O.scale&&(O.width=Math.round(O.scale*O.width/10),O.height=Math.round(O.height*O.scale/10)),I["default"].init({type:"myContr",posi:D,contr:O,isAlt:!0}),$.setDrag({name:"myContrDragAdd",posi:D,target:n,moveFunc:function(e){I["default"].move({posi:[e.clientX,e.clientY]})},endFunc:function(){var e=b["default"].getContrPosi(),t={contr:k},n=void 0;e?(n=$.extend(!0,{},t.contr),$.changeContrPosiAllState(n,e,t),$.isUndefined(n.isDragContr)||delete n.isDragContr,$.isUndefined(n.isDragPosi)||delete n.isDragPosi,b["default"].hide(),!n.mergeName||n.states&&$.objLength(n.states)>0||m["default"].getAllValsChildContr(n),P["default"].pasteContr([n],undefined,!0)):b["default"].hide()}})}else if(A){var M=[e.clientX,e.clientY],L=d.map(function(e){var t=m["default"].getAllValsContr({contrKey:$.extend(!0,{},m["default"].getContrByAll(e)),notCopy:!0,changeThisContr:!0});return!t.mergeName||t.states&&$.objLength(t.states)>0||m["default"].getAllValsChildContr(t),"symbol"==t.type&&10!=t.scale&&(t.width=Math.round(t.scale*t.width/10),t.height=Math.round(t.height*t.scale/10)),t}),N={};L.forEach(function(e){N[$.getContrId(e)]=$.posiObjToArr(e)});var U=$.getMaxPosi(N);L=L.map(function(e){return e.left-=U.left+1,e.top-=U.top+1,e});var R=$.extend(!0,{},U);R.mutiContrs=L,I["default"].init({type:"mutiContr",posi:M,contr:R,isAlt:!0}),$.setDrag({name:"mutiContrDragAdd",posi:M,target:n,moveFunc:function(e){I["default"].move({posi:[e.clientX,e.clientY]})},endFunc:function(){var e=b["default"].getContrPosi();if(e){var n=$.mainBoxOffsetPosi(!0);e[0]=e[0]*t/100+n.left,e[1]=e[1]*t/100+n.top;var r=window.localStorage.copy;window.Mousetrap.trigger(window.hotKey.command+"+c"),$.pasteFunc(window.event,e),setTimeout(function(){window.localStorage.copy=r},0)}b["default"].hide()}})}}else{if(window.isKeyDown.isShift,s=m["default"].getParentRotateVals(!1,!0),1==d.length?(c=m["default"].getSelectContr(),k=m["default"].getAllValsContr({contrKey:$.extend(!0,{},k),notCopy:!0}),a=[Math.round(k.left),Math.round(k.top)],g="null"!=k.mergeName&&k.mergeName):(c=m["default"].getSelectContr(),u=$.getSeveralElPosition(c),c.forEach(function(e){e=m["default"].getAllValsContr({contrKey:e}),r.push([Math.round(e.left),Math.round(e.top)])}),g="null"!=c[0].mergeName&&c[0].mergeName),g&&(f=$.extend(!0,{},m["default"].getContrByAll(g)),f=m["default"].getAllValsContr({contrKey:f,notCopy:!0}),h="0"==f.rotate?f:$.getRotateBoxPosi(!1,f),v=f.independWH)){for(var B in S=[],f.contrs)S.push(f.contrs[B]);y=$.getPosiByContrs(S),x=$.getMaxPosi(y)}o=v?[]:F.getInterfaceContr(i,d),l=$.rotateToAngle(s.rotate),C["default"].initDragOption({contrs:o}),k&&k.isLock?k.isLock&&($.addAttention("lockToggle",!0),$.setDrag({name:"contrLockCover",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){T["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"组件已锁定"})},endFunc:function(){T["default"].show(!1)}})):$.setDrag({name:"contrCoverMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){if((new Date).getTime()-E.getTime()<100)return!1;var n=void 0,o=[0,0],s=[0,0],c=void 0,g=void 0,_=[100*(e.clientX-window.mouseDownTarget.posi[0])/t,100*(e.clientY-window.mouseDownTarget.posi[1])/t],w=0;if(1==d.length){if(_=$.angleChangeArrVals(_,l),k.left=a[0]+_[0],k.top=a[1]+_[1],c=$.getContrPosi(k),$.isDependBottomContr(k)?(g=$.extend(!0,{},c),w=$.getDependBottomVal(),g.top+=w):g=c,s=F._redLine(g),"0"!=k.rotate){var b=$.rotateChangePosiVal([k.width+2,k.height+2],k.rotate);p=[c.left+s[0]-b.left,c.top+s[1]-b.top]}else p=[c.left+s[0],c.top+s[1]];if(v){var C=y[i];C[0]=p[0],C[1]=p[1];var S=$.getMaxPosi(y);if(o=[x.left-S.left,x.top-S.top],window.isKeyDown.isShift){var j=[Math.abs(o[0]),Math.abs(o[1])];j[0]<j[1]?o[0]=0:o[1]=0}for(var I in P["default"].contrPosi({key:$.getContrId(f),width:S.width,height:S.height,left:h.left-o[0],top:h.top-o[1]},!0),y){var A=y[I];P["default"].moveContr(I,[A[0]+o[0],A[1]+o[1]],!0)}m["default"].emitChange()}else{if(window.isKeyDown.isShift){var D=[Math.abs(p[0]-a[0]),Math.abs(p[1]-a[1])];D[0]<D[1]?p[0]=a[0]:p[1]=a[1]}P["default"].moveContr(i,p)}if("0"!=k.rotate){var O={left:k.left,top:k.top,width:k.width,height:k.height,type:k.type,rotate:k.rotate};$.extend(!0,O,{left:p[0]+o[0],top:p[1]+o[1]});var M=$.getRotateBoxPosi(!1,O);n="x:"+Math.round(M.left)+" y:"+Math.round(M.top+w)}else n="x:"+Math.round(p[0]+o[0])+" y:"+Math.round(p[1]+o[1]+w)}else{if(s=F._redLine({left:u.left+_[0],top:u.top+_[1],width:u.width,height:u.height}),s=[_[0]+ +s[0],_[1]+ +s[1]],window.isKeyDown.isShift){var L=[Math.abs(s[0]),Math.abs(s[1])];L[0]<L[1]?s[0]=0:s[1]=0}if(v){d.forEach(function(e,t){var n=y[e];n[0]=r[t][0]+s[0],n[1]=r[t][1]+s[1]});var N=$.getMaxPosi(y);if(o=[x.left-N.left,x.top-N.top],window.isKeyDown.isShift){var U=[Math.abs(o[0]),Math.abs(o[1])];U[0]<U[1]?o[0]=0:o[1]=0}for(var R in P["default"].contrPosi({key:$.getContrId(f),width:N.width,height:N.height,left:h.left-o[0],top:h.top-o[1]},!0),y){var B=y[R];P["default"].moveContr(R,[B[0]+o[0],B[1]+o[1]],!0)}}else d.forEach(function(e,t){P["default"].moveContr(e,[r[t][0]+s[0],r[t][1]+s[1]],!0,[s[0],s[1]])});m["default"].emitChange(),n="x:"+Math.round(u.left+s[0]+o[0])+" y:"+Math.round(u.top+s[1]+o[1])}T["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:n})},endFunc:function(){if((new Date).getTime()-E.getTime()<100)return!1;C["default"].init(),T["default"].show(!1),A?Math.round(c[0].left)==r[0][0]&&Math.round(c[0].top)==r[0][1]||w["default"].createData({type:"contrMove",name:"[多个组件] 位置改变",handleObjType:"mutiContrs",autoSaveType:"pageContrs"}):p&&(Math.round(p[0])==a[0]&&Math.round(p[1])==a[1]||w["default"].createData({type:"contrMove",name:"["+k.name+"] 位置改变",handleObjType:k.type,autoSaveType:"pageContrs"}))}})}e.stopPropagation(),e.preventDefault()},getInterfaceContr:function(e,t){var n=void 0,r=y["default"].getThisContr(),i=y["default"].getMergeBoxShow(),o=y["default"].getIsWrapEdit();if(t||(t=m["default"].getSelect()),1==t.length&&r&&$.getContrId(r)==e&&t[0]==e&&m["default"].selectChange([e]),r&&(r=m["default"].getAllValsContr({contrKey:r})),n=i&&$.getContrId(r)!=e?y["default"].getContrsArr():x["default"].getSymbolMaskShow()?m["default"].getThisSymbolChildContr(!0):m["default"].getActiveInterface(),!i||o)if(o)n.push({type:r.type,id:r.id,left:0,top:0,width:r.width,height:r.height});else if(x["default"].getSymbolMaskShow()){var a=x["default"].getSymbolMaskContr();n.push({type:"symbolBox",id:a.id,left:0,top:0,width:a.width,height:a.height})}else $.addMainbox(n);else n.push({type:"mergeBox",left:0,top:0,width:r.width,height:r.height});return n=n.filter(function(e){return-1==t.indexOf($.getContrId(e))})},_redLine:function(e){var t=void 0,n=C["default"].getDragOption(),r={minVal:n.minSize+1,minContr:[],vals:[]},i={minVal:n.minSize+1,minContr:[],vals:[]},o={vals:[],contrs:[]},a={vals:[],contrs:[]},s=void 0,l=void 0,c="lX"==L[n.dragPointKey]?1:-1,u="tY"==N[n.dragPointKey]?1:-1;t=n.isWrapEdit&&!n.isWrapBox?$.getContrLinePosi(e,n.parentPosi,n.isRotate):$.getContrLinePosi(e,undefined,n.isRotate),n.isSymbolWH&&("width"==n.isSymbolWH?s=!0:"height"==n.isSymbolWH&&(l=!0)),!v["default"].getView().isGuide||s||l||(n.thisGuideLineX.forEach(function(i){var a=Math.round(i.value*window.ss),s=parseInt(n.isMergeIn?a-1:a);B.forEach(function(i){e.width-(s-t[i])*c>=n.minWHarr[0]&&(!n.dragPointKey||n.dragPointKey&&L[n.dragPointKey]==i?Math.abs(s-t[i])<Math.abs(r.minVal)?(r.minVal=s-t[i],r.vals=[s]):s-t[i]==r.minVal&&r.minVal!=n.minSize+1&&-1==r.vals.indexOf(s)&&r.vals.push(s):Math.abs(s-t[i])<1&&-1==o.vals.indexOf(s)&&o.vals.push(s))})}),n.thisGuideLineY.forEach(function(r){var o=Math.round(r.value*window.ss),s=parseInt(n.isMergeIn?o-1:o);H.forEach(function(r){e.height-(s-t[r])*u>=n.minWHarr[1]&&(!n.dragPointKey||n.dragPointKey&&N[n.dragPointKey]==r?Math.abs(s-t[r])<Math.abs(i.minVal)?(i.minVal=s-t[r],i.vals=[s]):s-t[r]==i.minVal&&i.minVal!=n.minSize+1&&-1==i.vals.indexOf(s)&&i.vals.push(s):Math.abs(s-t[r])<1&&-1==a.vals.indexOf(s)&&a.vals.push(s))})})),n.contrs.forEach(function(d){$.isContrShow(d,n.viewMode)&&function(){var p=void 0,f=n.isWrapEdit&&"mainBox"!=d.type&&"symbolBox"!=d.type?$.getContrLinePosi(d,n.parentPosi):$.getContrLinePosi(d);if(p="mainBox"==d.type?d.type+d.id:"mergeBox"==d.type&&n.isMergeIn?"mainBoxBorderEditor":d.isOpt?d.type+"_"+d.id+"_startState":d.type+"_"+d.id,n.isRotate){var h=function(c){var u=parseInt(f[c]);-1!==B.indexOf(c)?l||s&&"rX"!=c||B.forEach(function(i){(("mX"==c||"mX"==i)&&"mX"==c&&"mX"==i||"mX"!=c&&"mX"!=i)&&(e.width-(u-t[i])>=n.minWHarr[0]?Math.abs(u-t[i])<Math.abs(r.minVal)?(r.minContr=[p],r.minVal=u-t[i],r.vals=[u]):u-t[i]==r.minVal&&r.minVal!=n.minSize+1&&(-1==r.minContr.indexOf(p)&&r.minContr.push(p),-1==r.vals.indexOf(u)&&r.vals.push(u)):u-t[i]<1&&(-1==o.contrs.indexOf(p)&&o.contrs.push(p),-1==o.vals.indexOf(u)&&o.vals.push(u)))}):s||l&&"bY"!=c||H.forEach(function(r){(("mY"==c||"mY"==r)&&"mY"==c&&"mY"==r||"mY"!=c&&"mY"!=r)&&(e.height-(u-t[r])>=n.minWHarr[1]?Math.abs(u-t[r])<Math.abs(i.minVal)?(i.minContr=[p],i.minVal=u-t[r],i.vals=[u]):u-t[r]==i.minVal&&i.minVal!=n.minSize+1&&(-1==i.minContr.indexOf(p)&&i.minContr.push(p),-1==i.vals.indexOf(u)&&i.vals.push(u)):Math.abs(u-t[r])<1&&(-1==a.contrs.indexOf(p)&&a.contrs.push(p),-1==a.vals.indexOf(u)&&a.vals.push(u)))})};for(var g in f)h(g)}else l||U.forEach(function(i){var a=parseInt(f[i[0]]);e.width-(a-t[i[1]])*c>=n.minWHarr[0]&&(!n.dragPointKey||n.dragPointKey&&L[n.dragPointKey]==i[1]?Math.abs(a-t[i[1]])<Math.abs(r.minVal)?(r.minContr=[p],r.minVal=a-t[i[1]],r.vals=[a]):a-t[i[1]]==r.minVal&&r.minVal!=n.minSize+1&&(-1==r.minContr.indexOf(p)&&r.minContr.push(p),-1==r.vals.indexOf(a)&&r.vals.push(a)):(Math.abs(a-t[i[1]])<1||"mX"==i[1]&&Math.abs(a-t[i[1]])<n.minSize)&&(-1==o.contrs.indexOf(p)&&o.contrs.push(p),-1==o.vals.indexOf(a)&&o.vals.push(a)))}),s||R.forEach(function(r){var o=parseInt(f[r[0]]);e.height-(o-t[r[1]])*u>=n.minWHarr[1]&&(!n.dragPointKey||n.dragPointKey&&N[n.dragPointKey]==r[1]?Math.abs(o-t[r[1]])<Math.abs(i.minVal)?(i.minContr=[p],i.minVal=o-t[r[1]],i.vals=[o]):o-t[r[1]]==i.minVal&&i.minVal!=n.minSize+1&&(-1==i.minContr.indexOf(p)&&i.minContr.push(p),-1==i.vals.indexOf(o)&&i.vals.push(o)):(Math.abs(o-t[r[1]])<1||"mY"==r[1]&&Math.abs(o-t[r[1]])<n.minSize)&&(-1==a.contrs.indexOf(p)&&a.contrs.push(p),-1==a.vals.indexOf(o)&&a.vals.push(o)))})}()});var d=$.arrayUnique(r.vals.concat(o.vals)),p=$.arrayUnique(i.vals.concat(a.vals));return C["default"].change({redLineX:d,redLineY:p},function(){[].slice.call(window.document.querySelectorAll(".redLineC")).forEach(function(e){$.removeClass(e,"redLineC")}),$.arrayUnique(r.minContr.concat(o.contrs).concat(i.minContr).concat(a.contrs)).forEach(function(e){$.addClass($.query("#middlePanel #"+e),"redLineC")})}),[Math.abs(r.minVal)<n.minSize+1&&r.minVal,Math.abs(i.minVal)<n.minSize+1&&i.minVal]},_contrSelect:function(e,t){-1==t.indexOf(e)?window.isKeyDown.isShift?m["default"].getContr(e).isLock||1==t.length&&m["default"].getFirstSelectContr().isLock?P["default"].selectChange([e]):1==t.length&&"wrapbox"==t[0].split("_")[0]&&m["default"].getContrByAll(t[0]).contrs[e]?P["default"].selectChange([e]):"wrapbox"==e.split("_")[0]&&y["default"].getIsWrapEdit()&&$.getContrId(y["default"].getThisContr())==e?P["default"].selectChange([e]):(t.push(e),P["default"].selectChange(t)):P["default"].selectChange([e]):window.isKeyDown.isShift&&(t.remove(e),P["default"].selectChange(t))},getEventTag:function(e){var t=void 0;if("edit-view"!=v["default"].getViewMode()&&e.events)for(var n in e.events)if(!e.events[n].disable){t=r["default"].createElement("div",{className:"event-tag tool-img contr-tag",onClick:function(){P["default"].selectChange([$.getContrId(e)],"event")},onMouseDown:$.stopPropagation});break}return t},getNoteTag:function(e){return e.noteContent?r["default"].createElement(g["default"],{i:e}):undefined},getAnimTag:function(e){var t=void 0;return"edit-view"!=v["default"].getViewMode()&&e.isStateContrast&&(t=r["default"].createElement("div",{className:"anim-tag tool-img contr-tag",onClick:function(){P["default"].selectChange([$.getContrId(e)]),setTimeout(function(){$.getElById("animPreviewBtn").click()},0)},onMouseDown:$.stopPropagation})),t},getImageNode:function(e,t){var n=void 0,i=void 0,o=$.rotateToAngle(e.rotate);if(t)i={width:e.cutVals?e.cutVals.boxWidth:"100%",height:e.cutVals?e.cutVals.boxHeight:"100%"};else{var a=$.getCutBgImgPosi(e.cutVals,o,!0);i={left:a.left,top:a.top,width:e.cutVals&&!$.isUndefined(e.cutVals.boxWidth)?e.cutVals.boxWidth:e.width,height:e.cutVals&&!$.isUndefined(e.cutVals.boxHeight)?e.cutVals.boxHeight:e.height,WebkitFilter:$.getFilter(e.filter)}}if(e.layers&&!e.isSvg){var s=[];e.layers.forEach(function(e,t){s.push(r["default"].createElement("path",{d:e.path,key:e.type+t}))}),n=r["default"].createElement("div",{className:"cImg",style:i},r["default"].createElement("svg",{fill:e.hasBackColor?e.backColor:"rgba(0, 0, 0, 0)",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:"1.1"},s))}else!e.src||e.src&&-1!=e.src.indexOf("defaultImg")?(i.backgroundColor=e.hasBackColor?e.backColor:"#d9d9d9",n=r["default"].createElement("div",{className:"cImg default-img material-icons",style:i})):(i.backgroundImage="url("+(-1!=e.src.indexOf("userImages")||-1!=e.src.indexOf("static")||-1!=e.src.indexOf("images")?window.imgUrl:"")+e.src+")",e.isSvg&&e.svgToGray&&(e.filter?(e.filter.saturate=0,i.WebkitFilter=$.getFilter(e.filter)):i.WebkitFilter="saturate(0)"),n=r["default"].createElement("div",{className:"cImg",title:e.oriName,style:i}));return n},getStyles:function(e){var t=e.type?[]:e.styleList,n={};switch(e.type){case"box":t=["width","height","left","top","rotate"];break;case"textBox":t=["opacity","radius","insetBorder","backColor","shadow"];break;case"outerBorderBox":t=["border","radius"];break;case"tableBox":t=["opacity","backColor","shadow"]}return t.forEach(function(t){$.extend(n,F.getSingleStyle({contr:e.contr,prop:t,textCorrect:e.textCorrect,isActivePage:e.isActivePage,type:e.type}))}),n},getSingleStyle:function(e){var t={},n=e.contr;switch(e.prop){case"rotate":t.transform="rotate("+n.rotate+"deg)";break;case"opacity":t.opacity=n.opacity/100;break;case"radius":"outerBorderBox"==e.type&&n.border[1]?t.borderRadius=n.isMaxRadius?Math.ceil(Math.min(n.width,n.height)/2)+$.getRadiusAddValue(n.radius,n.border[1]):$.isArray(n.radius)?n.radius.map(function(e){return Math.ceil(e)+$.getRadiusAddValue(e,n.border[1])+"px"}).join(" "):Math.ceil(n.radius)+$.getRadiusAddValue(n.radius,n.border[1]):t.borderRadius=n.isMaxRadius?Math.ceil(Math.min(n.width,n.height)/2):$.isArray(n.radius)?n.radius.map(function(e){return e+"px"}).join(" "):Math.ceil(n.radius);break;case"backColor":if(n.gradientColor&&n.hasBackColor)t.background=n.gradientColor;else if(n.hasBackColor)if($.isLineContr(n)){var r="hLine"==n.baseContrType?n.height:n.width;$.extend(!0,t,F.getSingleStyle({contr:{lineType:n.baseContrType,insetBorder:[n.backColor,r,n.lineStyle]},prop:"insetBorder"}))}else t.background=n.backColor;else t.background="none";break;case"insetBorder":if($.isLineContr(n))return;var i="border";"hLine"==n.lineType?i="borderTop":"vLine"==n.lineType&&(i="borderLeft"),t[i]=n.insetBorder&&null!==(n.insetBorder&&n.insetBorder[0])?Math.ceil(n.insetBorder[1])+"px "+$.getBorderStyle("style",n.insetBorder[2])+" "+n.insetBorder[0]:"none";break;case"border":t.border=n.border&&null!==(n.border&&n.border[0])?Math.ceil(n.border[1])+"px "+$.getBorderStyle("style",n.border[2])+" "+n.border[0]:"none",t.left=-Math.ceil(n.border[1]),t.top=-Math.ceil(n.border[1]);break;case"shadow":var o=n.border&&n.border[1]?" 0 0 0 "+n.border[1]+"px "+n.border[0]:"",a="";!n.border&&"table"!=n.type||$.isUndefined(n.shadow)||"0"==n.shadow||(a=$.isArray(n.shadow)?n.shadow[0]+"px "+n.shadow[1]+"px "+n.shadow[2]+"px "+n.shadow[3]+"px "+n.shadow[4]+(n.shadow[5]?" inset":""):"0px "+n.shadow+"px "+n.shadow+"px "+(n.border&&n.border[1]?n.border[1]:0)+"px rgba(0,0,0,0.5)"),e.isActivePage||$.hasSpecialBorderStyle(n.border)?t.boxShadow=a||"none":t.boxShadow=o||a?o+(o&&a?",":"")+a:"none";break;case"outerHidden":t.overflow=!n.independWH&&n.outerHidden?"hidden":"visible";break;case"filter":t.WebkitFilter=$.getFilter(n.filter);break;case"left":case"top":t[e.prop]=Math.round(("top"==e.prop?$.getDependBottomTopVal(n):n[e.prop])+(e.textCorrect?1:0));break;case"width":"text"==n.type&&n.autoW?t[e.prop]="auto":t[e.prop]=Math.round(n[e.prop]);break;case"height":"text"==n.type&&n.autoH?t[e.prop]="auto":t[e.prop]=Math.round(n[e.prop]);break;default:t[e.prop]=n[e.prop]}return t}},q=F;t["default"]=q,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(O,"mouseDown","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(M,"mouseUp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(L,"X_POINT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(N,"Y_POINT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(U,"ARR_X","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(R,"ARR_Y","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(B,"LINE_X","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(H,"LINE_Y","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(100,"dbclickLockTime","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(V,"_downloadIcon","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(F,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),t.register(q,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrHandle.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(106)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={left:0,top:0},c={left:0,top:0};if(window.isPc){var u=$.getMidPosi(),d=parseInt(window.pSize),p=(u[2]-d-45)/2;c={left:66+(p>0?p:0),top:66}}var f={left:0,top:0},h=void 0,g=[0,0],m=!1,_=!1,v=null;function y(e){var t=n(8)["default"],r=n(146)["default"],i=t.isMultiFixed();_=!!$.isUndefined(e.optimization)||e.optimization,e.autoOff&&(v&&clearTimeout(v),v=setTimeout(function(){_=!1,w.emitChange(),r.emitChange()},800)),$.isUndefined(e.left)||(c.left=parseInt(e.left)),$.isUndefined(e.top)||(c.top=parseInt(e.top)),i&&(c.top=$.setRegion(c.top,e.minTop,0)),m&&$.removePhoneConBoxTrans(null,null,!0),e.transition&&$.setPhoneConBoxTrans("trans300"),r.emitChange()}var w=(0,r["default"])({},s.prototype,{savePrevPos:function(){l={left:c.left,top:c.top}},setTransition:function(e){m=e},getOptimizationTimer:function(){return v},changePrevPos:function(e){l.left+=parseInt(e.left),l.top+=parseInt(e.top)},replacePrevPos:function(){$.extend(c,l),n(8)["default"].isMultiFixed()&&(c.left=0)},getCurPos:function(){return c},saveBeforeMovePos:function(){f={left:c.left,top:c.top}},getDspl:function(){return[c.left-f.left,c.top-f.top]},savePageMoveDspl:function(e){g=e},getPageMoveDspl:function(){return g},changePos:function(e,t){y(e),t||w.emitChange()},setCenter:function(e){var t=[e.activePage.left,e.activePage.top];if(e.isFixedView){var r=$.getElById(e.activePage.id);r&&(t=[r.offsetLeft,r.offsetTop])}var i=t[0]+c.left+(e.activePage.isLandscape?window.phoneSize.height:window.phoneSize.width)/2,o=t[1]+c.top+((e.activePage.isLandscape?window.phoneSize.width:window.phoneSize.height)-40)/2,a=w.setPageCenter(e.activePage.isLandscape);if(e.isMultiFixed){var s=n(8)["default"].getZoom();c.top+=a.top/s-o,c.top=$.setRegion(c.top,e.minTop,0)}else c.left+=a.left-i,c.top+=a.top-o;c.left=parseInt(c.left),c.top=parseInt(c.top),e.noEmit||w.emitChange()},emitChange:function(){this.emit("change")},setPageCenter:function(e){var t=e?window.phoneSize.width:window.phoneSize.height;return{left:window.document.body.clientWidth/2,top:$.midMainboxPosi(e).top+t/2}},resetFixedViewPos:function(){h||(h={}),h.left=c.left,h.top=c.top,c.left=0,c.top=0},resetFreeViewPos:function(){h&&(c.left=h.left,c.top=h.top)},getOptimization:function(){return _},optimizationOn:function(){_=!0},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].PHONECONBOX_MOVE:c.left==e.options.left&&c.top==e.options.top||(y(e.options),w.emitChange());break;case i["default"].PHONECONBOX_OPTIMIZATIONOFF:_=!1,w.emitChange();break;case i["default"].PHONECONBOX_OPTIMIZATIONON:_=!0,w.emitChange()}});var b=w;t["default"]=b,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(l,"prevPos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(c,"curPos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(f,"beforeMovePos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(h,"freeViewPos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(g,"pageMoveDspl","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(m,"hasTransition","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(_,"optimization","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(v,"optimizationTimer","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(y,"changePos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(w,"PhoneConBoxStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),t.register(b,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PhoneConBoxStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.SET_ISEDIT="SET_ISTEXTGROUPEDIT",e.SET_TEXTGROUPDATA="SET_TEXTGROUPDATA",e.LISTDATA_ADD="LISTDATA_ADD",e.PANELDATA_DELATE="PANELDATA_DELATE",e.INIT_SELECTPANELDATA="INIT_SELECTPANELDATA",e.PANELDATA_MODIFY="PANELDATA_MODIFY",e.CHANGE_SELECTPANELDATA="CHANGE_SELECTPANELDATA",e.SET_TEXT="SET_TEXT",e.SET_IMAGE="SET_IMAGE",e.SELECT_KEY="SELECT_KEY"}(r||(r={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(286)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={},c={},u=0,d=null,p="stream";function f(e,t){l[++u]=$.extend(!0,{id:u,text:"",lastText:null,hasArea:!1,width:50,height:50,left:0,top:0,pageId:e.pageId,index:y.getNoteArr(e.pageId).length+1},e);var n=l[u];return n.contrKey&&(c[n.contrKey]=n),t||(d=u),l[u]}function h(e){return l[e.id]=$.extend(!0,{id:e.id,text:"",lastText:null,hasArea:!1,width:50,height:50,left:0,top:0,pageId:e.pageId,index:y.getNoteArr(e.pageId).length+1},e),l[u]}function g(e,t){if(l[e]){var n=l[e].pageId;delete l[e],d==e&&(d=null),_(n),t||y.emitChange()}}function m(e,t,n){l[e]&&(l[e]=$.extend(!0,l[e],t)),n||y.emitChange()}function _(e){y.getNoteArr(e).sort(function(e,t){return e.index-t.index}).forEach(function(e,t){e.index=t+1})}function v(e){p=e}var y=(0,r["default"])({},s.prototype,{getNoteDisplay:function(){return p},getNoteSize:function(){return 25},getNoteArr:function(e,t){var n=[];for(var r in l){var i=l[r];i.pageId==e&&n.push(t?{id:i.id,text:i.text,hasArea:i.hasArea,width:i.width,height:i.height,left:i.left,top:i.top,pageId:i.pageId,index:i.index,contrKey:i.contrKey}:i)}return n},removeEditNote:function(e){if(l[d]){var t=l[d].pageId;delete l[d],d=null,_(t),e||y.emitChange()}},removeNote:function(e,t){g(e,t)},getEditNote:function(){return d&&l[d]?l[d]:null},getNoteById:function(e){return l[e]},isEditNote:function(e){return d==e},hasEditNote:function(){return d&&!!l[d]},editBlur:function(e){d&&(d=null,e||y.emitChange())},changeEdit:function(e,t){d=e,t||y.emitChange()},updateNote:function(e,t,n){m(e,t,n)},pageRemoveNote:function(e){for(var t in l)l[t].pageId==e&&delete l[t]},returnNewNote:function(){return l[u]},addNote:function(e,t){f(e,t)},getContrNoteKey:function(e,t,n){for(var r in l){var i=l[r];if(e==i.contrKey&&(!t||t==i.pageId))return n?i:r}return undefined},otherChangeNote:function(e,t,n){e&&(d=null,y.getNoteArr(t).forEach(function(e){delete l[e.id]}),e.forEach(function(e){e.pageId=t,h(e)}),n&&y.emitChange())},pageAddNote:function(e,t,n){e&&(d=null,y.getNoteArr(t).forEach(function(e){delete l[e.id]}),e.forEach(function(e){e.pageId=t,delete e.id,y.addNote(e,!0)}),n&&y.emitChange())},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].NOTE_ADD:f(e.option),y.emitChange();break;case i["default"].NOTE_UPDATE:m(e.id,e.option);break;case i["default"].NOTE_REMOVE:g(e.id),y.emitChange();break;case i["default"].NOTE_SWITCHDISPLAY:v(e.display),y.emitChange()}});var w=y;t["default"]=w,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(l,"note","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(c,"contrNote","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(25,"noteSize","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(u,"noteId","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(d,"editId","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(p,"noteDisplay","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(f,"addNote","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(h,"changeNote","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(g,"removeNote","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(m,"updateNote","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(_,"sortNote","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(v,"switchDisplay","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(y,"NoteStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),t.register(w,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/NoteStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(59),o=n(11),a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=100;var l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getZoom=function(){return s},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(o.EventEmitter));r["default"].register(function(e){switch(e.actionType){case i.a.ZOOM_CHANGE:!function(e){s=e}(e.zoom),l.emitChange()}}),t["default"]=l},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(14),o=n(11),a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=1,l=null,c=[],u={replyId:null,isActive:!1,editId:null},d=null,p=!1,f=null,h=!1,g=null,m=0,_="",v="",y=!1,w=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.hasReplyDiscuss=function(e){var t=!1;return c.forEach(function(n){n.replyId==e&&(t=!0)}),t},t.prototype.getLastID=function(){return v},t.prototype.getCommentNum=function(e){var t=0;return c.some(function(n){n.parentId===e&&++t}),t},t.prototype.getEditContent=function(){return _},t.prototype.getReplyHide=function(e){c.some(function(t){if(t.id===e)return t.isReplyHide})},t.prototype._getReplyName=function(){return d},t.prototype._getEditState=function(){return p},t.prototype._getEditNum=function(){return f},t.prototype.getPageId=function(){return s},t.prototype.getNumInPageList=function(){if(y){var e={};return c.forEach(function(t){e[t.pageId]?e[t.pageId]+=1:e[t.pageId]=1}),e}},t.prototype._getEndPosi=function(){return l},t.prototype._getParentId=function(e){var t;return c.some(function(n,r){if(n.id===e){if(!n.replyId)return t=n.id,!0;t=n.parentId}return!1}),t},t.prototype._getScrollTop=function(){return m},t.prototype._getIsDownload=function(){return y},t.prototype._getEditDotData=function(){return g},t.prototype._getDiscussIndex=function(e){var t=-1;return c.some(function(n,r){return n.id===e&&(t=r,!0)}),t},t.prototype._getDiscuss=function(e){var t;return c.some(function(n,r){return!(!e||n.id!==e)&&(t=n,!0)}),t},t.prototype._getDiscussPosi=function(e){var t=this._getDiscuss(e);if(t){var n=t.point,r=n.posi,i=n.area;return i=i||{w:0,h:0},{startPosi:{x:r.x,y:r.y},endPosi:{x:r.x+i.w,y:r.y+i.h}}}},t.prototype.getDiscussList=function(){var e=[],t=c.filter(function(t){return t.pageId==s+""&&(!!t.replyId||(e.push(t),!1))});$.sortByTimeAdd(e),$.sortByTimeMinus(t);for(var n=0;n<e.length;n++)for(var r=0;r<t.length&&(!e[n].isDone||e[n].isDoneShow);r++)e[n].id===t[r].parentId&&e.splice(n+1,0,t[r]);return e},t.prototype.getEditData=function(){return u},t.prototype._getIsHoverSpot=function(){return h},t.prototype._setHoverSpot=function(e,t){h=e,t||w.emitChange()},t.prototype.setLastID=function(e){v=e},t.prototype.setEditContent=function(e){_=e},t.prototype.setReplyName=function(e){d=e},t.prototype.discussChangePoint=function(e,t){var n=this._getDiscuss(e);n&&(n.point=t)},t.prototype.discussChangeReplyHide=function(e,t){var n=this._getDiscuss(e);n&&(n.isReplyHide=t)},t.prototype.setEditNum=function(e){f=e},t.prototype.setEditState=function(e){p=e},t.prototype.setSolvedNick=function(e,t){var n=this._getDiscuss(e);n&&(n.doneUser=t)},t.prototype.setPageId=function(e,t){s=e,t&&(w.emitEditChange(),w.emitDotChange())},t.prototype.setEndPos=function(e){l=e},t.prototype.setScrollTop=function(e){var t=$.query(".edit-box-active"),n=$.getWinSize().height-45-(t?178:60),r=$.query(".discuss-scroll-list"),i=$.offset(r,!0).height;m=n<i?$.setRegion(e,n-i,0):0},t.prototype.setEditDotData=function(e){g=e},t.prototype.initListByServer=function(e){y=!0,c=e.map(function(e){e.id=e._id;var t,n={userImage:e.user.userImage,name:e.user.nickName,id:e.user._id};return e.replyUser&&(t={userImage:e.replyUser.userImage,name:e.replyUser.nickName,id:e.replyUser._id}),e.replyUser=t,e.isReplyHide=!e.isDone,e.user=n,delete e._id,delete e.__v,e})},t.prototype.addDiscuss=function(e){c.push(e)},t.prototype.deleteDiscuss=function(e){for(var t=0;t<c.length;t++)c[t].id!=e&&c[t].parentId!=e||(c.splice(t,1),t--)},t.prototype.discussIsDone=function(e,t){var n=this._getDiscuss(e);n&&(n.isDone=t)},t.prototype.discussReplyHide=function(e){var t=this._getDiscuss(e);t&&(t.isReplyHide=!1)},t.prototype.discussIsDoneShow=function(e,t){var n=this._getDiscuss(e);n&&(n.isDoneShow=t)},t.prototype.discussChangeContent=function(e,t){var n=this._getDiscuss(e);n&&(n.content=t)},t.prototype.editChangeState=function(e){u=e},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitEditChange=function(){this.emit("edit_change")},t.prototype.addEditChangeListener=function(e){this.on("edit_change",e)},t.prototype.removeEditChangeListener=function(e){this.removeListener("edit_change",e)},t.prototype.emitDotChange=function(){this.emit("dot_change")},t.prototype.addDotChangeListener=function(e){this.on("dot_change",e)},t.prototype.removeDotChangeListener=function(e){this.removeListener("dot_change",e)},t}(o.EventEmitter));r["default"].register(function(e){switch(e.actionType){case i.a.DISCUSS_ADD:w.addDiscuss(e.discuss),w.emitEditChange();break;case i.a.DISCUSS_DELETE:w.deleteDiscuss(e.id),w.emitEditChange();break;case i.a.DISCUSS_DONE:w.discussIsDone(e.id,e.isDone),w.emitEditChange();break;case i.a.DISCUSS_REPLYHIDE:w.discussReplyHide(e.id),w.emitEditChange();break;case i.a.DISCUSS_DONESHOW:w.discussIsDoneShow(e.id,e.isDoneShow),w.emitEditChange();break;case i.a.DISCUSS_CHANGEPOINT:w.discussChangePoint(e.id,e.point),w.emitEditChange(),w.emitDotChange();break;case i.a.DISCUSS_CHANGECONTENT:w.discussChangeContent(e.id,e.content),w.emitEditChange();break;case i.a.DISCUSS_INITEDITSTATE:w.editChangeState(e.editData),w.emitChange();break;case i.a.DISCUSS_DOTCREATESTATE:w.setEditDotData(e.editDotData),w.emitDotChange(),w.emitEditChange();break;case i.a.DISCUSS_SCROLLTOP:w.setScrollTop(e.scrollTop),w.emitChange();break;case i.a.DISCUSS_SETDISCUSSLIST:w.initListByServer(e.discussList),w.emitEditChange();break;case i.a.DISCUSS_SETENDPOS:w.setEndPos(e.endPos),w.emitDotChange();break;case i.a.DISCUSS_SETPAGEID:w.setPageId(e.currentPageId),w.emitChange();break;case i.a.DISCUSS_SETSOLVEDNICK:w.setSolvedNick(e.id,e.doneUser),w.emitEditChange();break;case i.a.DISCUSS_EDITSTATE:w.setEditState(e.editState),w.emitChange();break;case i.a.DISCUSS_EDITNUM:w.setEditNum(e.editNum),w.emitChange();break;case i.a.DISCUSS_SETREPLYNAME:w.setReplyName(e.replyName),w.emitChange();break;case i.a.DISCUSS_EDITCONTENT:w.setEditContent(e.editContent),w.emitEditChange();break;case i.a.DISCUSS_LASTID:w.setLastID(e.lastID),w.emitChange();break;case i.a.DISCUSS_CHANGE_REPLYHIDE:w.discussChangeReplyHide(e.id,e.isReplyHide),w.emitChange()}}),t["default"]=w},function(e,t,n){"use strict";n.r(t);var r=n(98),i=n.n(r),o=n(4),a=n(11),s=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=window.$,c=[{tabType:"struct"},{tabType:"pageSet"},{tabType:"event",isFold:!1,rename:"页面事件"},{tabType:"versionManage"},{tabType:"note"}],u=[{tabType:"struct",isFold:!0},{tabType:"pageSet"},{tabType:"event",isFold:!1,rename:"页面事件"},{tabType:"versionManage"},{tabType:"note"}];function d(e){u=e}var p=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getLabel=function(e){return e?u:l.extend(!0,[],u)},t.prototype.getCurrLabel=function(){var e;return u.forEach(function(t){t.isFold&&(e=t.tabType)}),e},t.prototype.change=function(e,t){d(e),t||p.emitChange()},t.prototype.reset=function(e){u=l.extend(!0,[],c),e?u.forEach(function(t){e==t.tabType&&(t.isFold=!0)}):u[0].isFold=!0,p.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));o["default"].register(function(e){switch(e.actionType){case i.a.RIGHTLABEL_CHANGE:d(e.label),p.emitChange()}}),t["default"]=p},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.DROPDOWNBOX_SHOW="DROPDOWNBOX_SHOW",e.DROPDOWNBOX_HIDE="DROPDOWNBOX_HIDE",e.DROPDOWNBOX_EDIT="DROPDOWNBOX_EDIT"}(r||(r={}))},,function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.POPUP_INIT="POPUP_INIT",e.POPUP_HIDE="POPUP_HIDE"}(r||(r={}))},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(55),o=n(11),a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=window.$,l=0,c={},u={show:!1,value:0,isHorizontal:!0};function d(e){var t=e;return t.id=++l,t.isShow=!!e.isShow,c[l]=t,c[l]}var p=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getPageTypeLine=function(e,t){var n=[];for(var r in c)c[r].pageId==e&&c[r].type==t&&n.push(c[r]);return n},t.prototype.removePageTypeLine=function(e,t,n){for(var r in c)c[r].pageId==e&&c[r].type==t&&delete c[r];n||p.emitChange()},t.prototype.getPageLineArr=function(e){var t={x:[],y:[]};for(var n in c){var r=c[n];r.pageId==e&&("x"===r.type?t.x.push(r.value):"y"===r.type&&t.y.push(r.value))}return t},t.prototype.pageRemoveLine=function(e){for(var t in c)c[t].pageId==e&&delete c[t]},t.prototype.returnNewLine=function(){return c[l]},t.prototype.isHave=function(e){for(var t in c)if(parseInt(t)!=e.id&&c[t].pageId==e.pageId&&c[t].type==e.type&&c[t].value==e.value)return!0;return!1},t.prototype.getLine=function(e){return c[e]},t.prototype.addGuideLine=function(e){d(e)},t.prototype.pageAddGuideAllLine=function(e,t,n){n&&p.pageRemoveLine(t);var r=function(n){e[n].unique().forEach(function(e){var r={pageId:t,type:n,value:e,isShow:!1};p.addGuideLine(r)})};for(var i in e)r(i);n&&p.emitChange()},t.prototype.initTempLine=function(e,t,n){u=e?s.extend(!0,u,t):{show:!1,value:0,isHorizontal:!0},n||p.emitChange()},t.prototype.updateTempLine=function(e,t){u.value=e,t||p.emitChange()},t.prototype.getTempLine=function(){return u},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(o.EventEmitter));r["default"].register(function(e){switch(e.actionType){case i.a.GUIDE_ADD:d({pageId:e.pageId,type:e.type,value:e.value,isShow:e.isShow}),p.emitChange();break;case i.a.GUIDE_UPDATE:!function(e,t){c[e]&&(c[e].value=t)}(e.id,e.value),p.emitChange();break;case i.a.GUIDE_REMOVE:!function(e){delete c[e]}(e.id),p.emitChange();break;case i.a.GUIDE_SHOW:!function(e,t){c[e]&&(c[e].isShow=t)}(e.id,e.isShow),p.emitChange()}}),t["default"]=p},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(12)),i=l(n(105)),o=l(n(4)),a=l(n(92)),s=l(n(26));function l(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var c=n(10).EventEmitter,u={show:!1,contr:null,type:null,inWindow:!1,left:0,top:0,interfaceContr:null,contrPosi:null,oldPosi:null,openWrapBoxDom:null,symbolMaskBoxDom:null};function d(e){e.show?u.show=!0:(a["default"].init(),u={show:!1,contr:null,type:null,inWindow:!1,left:0,top:0,interfaceContr:null,contrPosi:null,oldPosi:null,openWrapBoxDom:null,symbolMaskBoxDom:null})}function p(e){var t=n(3)["default"],r={},i=e.contr;t.initAllContrs(),t.initAllValsContrs(),"myContr"==e.type&&i.states&&$.objLength(i.states)>0&&(r[$.getContrId(e.contr)]=e.contr,i=t.getContrValsAllChilds(e.contr,!1,r)),u.oldPosi=[i.left,i.top],u.show=!0,u.type=e.type,u.contr=i,u.inWindow="page"==u.type||"folder"==u.type,u.isAlt=e.isAlt,u.openWrapBoxDom=$.query(".wrapBox.openNow:not(.isStartState)"),u.symbolMaskBoxDom=$.query(".symbolMaskBox > .isSymbolEdit"),"page"==u.type&&(u.pagesNum=e.pagesNum),m(e.posi),"page"!=e.type&&"folder"!=e.type?(u.interfaceContr=f(),a["default"].initDragOption({contrs:u.interfaceContr})):t.selectChange([])}function f(){var e=n(25)["default"],t=n(3)["default"],r=e.getMergeBoxShow(),i=e.getIsWrapEdit(),o=r?e.getContrsArr():s["default"].getSymbolMaskShow()?t.getThisSymbolChildContr(!0):t.getActiveInterface(),a=void 0;if(s["default"].getSymbolMaskShow()&&!r){var l=s["default"].getSymbolMaskContr();o.push({type:"symbolBox",id:l.id,left:0,top:0,width:l.width,height:l.height})}else!r||i?($.addMainbox(o),i&&(a=e.getThisContr(),o.push({type:a.type,id:a.id,left:0,top:0,width:a.width,height:a.height}))):(a=e.getThisContr(),o.push({type:"mergeBox",left:0,top:0,width:a.width,height:a.height}));return o}function h(e){u.inWindow="page"==u.type||"folder"==u.type||$.isDragInMid(e.posi),m(e.posi)}function g(e){var t=m(e.posi,!0,e.notInWrap);return d(!1),!!$.isDragInMid(e.posi)&&t}function m(e,t,r){var i=n(78)["default"],o=n(27)["default"],a=void 0,l=void 0,c=n(31)["default"].getZoom()/100,d=void 0,p={width:u.contr.width,height:u.contr.height};if("myContr"==u.type){var f=$.getRotateWH($.rotateToAngle(u.contr.rotate,!0),[u.contr.width,u.contr.height]);$.fixRotateWH(f,u.contr.rotate),p={width:f.w,height:f.h}}if("folder"!=u.type?(u.left=e[0]-p.width/2,u.top=e[1]-p.height/2):(u.left=e[0],u.top=e[1]),u.inWindow){var h="page"==u.type||"folder"==u.type?e:$.getContrInBoxPosi(e,[p.width,p.height],r);if(c>1.5&&("icon"==u.type||"baseIcon"==u.type)&&(h.left-=1,h.top-=1),a={left:h.left,top:h.top,width:p.width,height:p.height},"page"==u.type||"folder"==u.type)c=1;else{u.openWrapBoxDom&&!r?d=$.offset(u.openWrapBoxDom):s["default"].getSymbolMaskShow()&&u.symbolMaskBoxDom?(d=$.offset(u.symbolMaskBoxDom),!0):d=$.mainBoxOffsetPosi(!0),l=o._redLine(a),l=[Math.round(l[0]),Math.round(l[1])],h.left+=l[0],h.top+=l[1],a.left+=l[0],a.top+=l[1],u.left=d.left+h.left*c+(c-1)*p.width/2,u.top=d.top+h.top*c+(c-1)*p.height/2,i.moveTipUpdate({left:e[0]+50,top:e[1]-50,text:"x:"+h.left+", y:"+h.top}),t&&i.moveTipShow(!1)}return u.contrPosi=[h.left,h.top],a}return i.moveTipShow(!1),u.contrPosi=null,!1}var _=(0,r["default"])({},c.prototype,{getDragContr:function(){return u},getRedLineContr:function(){return f()},getContrPosi:function(){if("myContr"==u.type){var e=$.getDragRotateChangePosi(u.contr);return!!u.contrPosi&&[u.contrPosi[0]+e[0]+1,u.contrPosi[1]+e[1]+1]}return u.contrPosi},getIsDrag:function(){return u.show},add:function(e){var t=g(e);return _.emitChange(),t},hide:function(){var e=n(78)["default"];d(!1),e.moveTipShow(!1),_.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].DRAGCONTR_INIT:p(e.options),_.emitChange();break;case i["default"].DRAGCONTR_SHOW:d(e.options),_.emitChange();break;case i["default"].DRAGCONTR_MOVE:h(e.options),_.emitChange();break;case i["default"].DRAGCONTR_ADD:g(e.options),_.emitChange()}});var v=_;t["default"]=v,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(c,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(u,"dragContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(d,"show","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(p,"init","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(f,"getRedLineContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(h,"move","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(g,"add","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(m,"changePosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(_,"DragContrStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),t.register(v,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/DragContrStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.COPY_TOAST_SHOW="COPY_TOAST_SHOW",e.HIDE_TOAST="HIDE_TOAST"}(r||(r={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(290)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={isShow:!1,isCutSpot:!0,thisImageKey:null};function c(e){n(3)["default"].contrUpdate(l.thisImageKey,{cutVals:e})}function u(e){var t=n(3)["default"];l.isCutSpot=e,t.emitChange()}var d=(0,r["default"])({},s.prototype,{init:function(e){var t=n(3)["default"],r=t.getContrByAll(e),i=t.getAllValsContr({contrKey:r});if(l.isShow=!0,l.isCutSpot=!0,l.thisImageKey=e,i.cutVals&&!$.isUndefined(i.cutVals.left)){if(i.cutVals=$.extend(!0,i.cutVals,{oriLeft:i.left,oriTop:i.top,oriWidth:i.width,oriHeight:i.height}),"0"!=i.rotate){var o=$.rotateToAngle(i.rotate);i.cutVals=$.extend(!0,i.cutVals,{boxLeft:i.cutVals.boxLeft*Math.cos(o)-i.cutVals.boxTop*Math.sin(o),boxTop:i.cutVals.boxTop*Math.cos(o)+i.cutVals.boxLeft*Math.sin(o)})}t.contrUpdate(e,{cutVals:i.cutVals},!1,!0)}else t.contrUpdate(e,{cutVals:{oriLeft:i.left,oriTop:i.top,oriWidth:i.width,oriHeight:i.height,width:i.width,height:i.height,left:0,top:0,boxWidth:i.width,boxHeight:i.height,boxLeft:0,boxTop:0}},!1,!0);t.emitChange(),d.emitChange()},getCutImageShow:function(){return l.isShow},getCutImage:function(){return l},getCutImageContr:function(){var e=n(3)["default"],t=e.getContrByAll(l.thisImageKey);return e.getAllValsContr({contrKey:t})},getCutVals:function(){return d.getCutImageContr().cutVals},setInputVal:function(e){n(3)["default"].contrUpdate(l.thisImageKey,{cutVals:e})},setCutImage:function(e){l=e,d.emitChange()},into:function(e){l.isShow=!0,l.thisImageKey=e,d.emitChange()},exit:function(){var e=n(3)["default"];l.isShow=!1,e.emitChange(),d.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].CUTIMAGE_INIT:d.init(e.contrId);break;case i["default"].CUTIMAGE_EXIT:d.exit();break;case i["default"].CUTIMAGE_CHANGECUTVALS:c(e.cutVals),d.emitChange();break;case i["default"].CUTIMAGE_ISCUTSPOT:u(e.isCutSpot),d.emitChange()}});var p=d;t["default"]=p,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),t.register(l,"cutImage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),t.register(c,"changeCutVals","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),t.register(u,"isCutSpot","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),t.register(d,"CutImageStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),t.register(p,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/CutImageStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r={content:"文本",fontSize:14,lineHeight:5,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,isS:!1,horizontal:"hC",vertical:"vM",filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},i={multiple:1,filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!0,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},o={filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,hierarchy:[],backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,isOpen:!1,mergeName:null,left:0,top:0},a={filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},s={isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},l={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0,opacity:100},c={width:600,height:240,isLock:!1,isShow:!0,opacity:100,rotate:0,isOpt:!1,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",left:0,top:0,outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],styleIndex:0,shadow:0},u={name:"",border:["rgba(216, 216, 216, 1)",0],hasBackColor:!1,backColor:"rgba(153, 153, 153, 1)",opacity:100,columnIndex:0,lineIndex:0,mergeColumn:0,mergeLine:0,mergeKey:""},d={content:"",fontSize:14,lineHeight:5,indent:0,adjaceney:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,isS:!1,horizontal:"hL",vertical:"vM"},p=["isDepend","dependType"],f=["name","content","mergeName"],h=["contrs","width","height","hierarchy"],g=["name","width","height","top","left","id","type","oriWidth","oriHeight","oriName","multiple","src","cutVals","contrs","content","hasBackColor","backColor","isBaseShape","baseContrType","hierarchy","fontSize","textColor","isB","serverKey","radius","lineHeight","horizontal","rotate","opacity","outerHidden","shadow","WHrelation","iconKey","iconColor","isMaxRadius","events","border","indent","adjaceney","textShadow","isI","isU","vertical","filter","isLock","isShow","insetBorder","isOpt","isOpenState","states","state","stateNum","isStateContrast","transition","dependType","isDepend","scrollX","scrollY","stateBindMove","userKey","outerBorder","innerBorder","styleIndex","columnIndex","lineIndex","mergeColumn","mergeLine","mergeKey","lineMin","rowMin","linePosi","columnPosi","mergeName"],m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59"],_={text:r,image:i,wrapbox:o,icon:a,hotspot:s,symbol:l,table:c};function v(e,t){for(var n in e){var r=e[n],i=t[n];$.isUndefined(i)||($.isArray(r)&&2==r.length&&r[0]==i[0]&&r[1]==i[1]?delete t[n]:r==i&&delete t[n])}}var y={removeInitVal:function(e,t,n,r){if($.isArray(e))e.forEach(function(e){y.removeInitVal(e,undefined,n,r)});else{var i=void 0,o=_[e.type];if("wrapbox"==e.type)for(var a in e.contrs)y.removeInitVal(e.contrs[a],!0,n,r);if(!window.isPc&&!window.isAppView&&(n?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(i=n?window.phoneBaseSize.height/window.phoneSize.height:window.phoneBaseSize.width/window.phoneSize.width,$.otherSizeChangeContr(e,i,!0)),$.isUndefined(e.type)&&e.uniqueKey&&(delete e.left,delete e.top),"null"===e.mergeName&&(e.mergeName=null),o){if(o==l){if(r&&-1==r.indexOf(e.symbolKey)&&r.push(e.symbolKey),!$.isUndefined(i)&&e.children)for(var s in e.children)e.children[s]&&e.children[s].cutVals&&(e.children[s].cutVals=$.changeCutValsSize(e.children[s].cutVals,i));h.forEach(function(t){$.isUndefined(e[t])||delete e[t]})}if(o==c&&e&&($.isArray(e.linePosi)||(e.linePosi=[e.linePosi]),$.isArray(e.columnPosi)||(e.columnPosi=[e.columnPosi]),e.child))for(var p in e.child){var f=e.child[p];f.text&&($.isUndefined(f.text.lastContent)||delete f.text.lastContent,v(d,f.text),y.changeNameToKey(f.text)),v(u,f),y.changeNameToKey(f)}for(var g in $.isUndefined(e.src)||0!=e.src.indexOf("data:image")&&0!=e.src.indexOf("blob:")||(e.src="/userImages/defaultImage.png",$&&$.updateImage&&$.updateImage(e)),o){var m=o[g],w=e[g];if(!$.isUndefined(w))if($.isArray(m)&&2==m.length&&m[0]==w[0]&&m[1]==w[1])delete e[g];else if("isOpen"==g||"isOpt"==g)delete e[g];else if("filter"==g&&0==$.objLength(w))delete e[g];else if("cutVals"==g&&null==w)delete e[g];else if("cutVals"==g){var b=$.getDefaultCutVals(e);for(var C in b)"oriHeight"==C||"oriLeft"==C||"oriTop"==C||"oriWidth"==C?delete e[g][C]:Math.abs(+e[g][C]-+b[C])<.5&&delete e[g][C];0==$.objLength(e[g])&&delete e[g]}else m==w&&delete e[g]}t&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType,$.isUndefined(e.id)||delete e.id,$.isUndefined(e.type)||delete e.type,$.isUndefined(e.mergeName)||delete e.mergeName),$.isUndefined(e.interfaceId)&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType),$.isUndefined(e.transition)||y.removeTransition(e.transition),$.isUndefined(e.states)||y.statesChangeNameToKey(e.states),$.isUndefined(e.thisSelf)||delete e.thisSelf,$.isUndefined(e.hoverState)||delete e.hoverState,$.isUndefined(e.isStructOpen)||delete e.isStructOpen,$.isUndefined(e.interfaceId)||delete e.interfaceId,$.isUndefined(e.lastContent)||delete e.lastContent,$.isUndefined(e.isEdit)||delete e.isEdit,$.isUndefined(e.copyKey)||delete e.copyKey,y.changeNameToKey(e)}}},addInitVal:function(e,t,n,r,i,o){if($.isArray(e)){var a=[];e.forEach(function(e,n){var r=!1;if(e[32]&&e[31]){var s=e[31][e[32].endState];s&&s.contrs&&s.contrs[e[6]+"_"+e[5]]&&s.contrs[e[6]+"_"+e[5]].isDelete&&(r=!0)}e.isDelete?(a.push(n),log("数据异常,isDelete",e)):e[6]||e.type||e.uniqueKey?r?(a.push(n),log("数据异常,stateIsDelete",e)):y.addInitVal(e,t,undefined,undefined,i,o):(a.push(n),log("数据异常,noType",e))}),a.length>0&&a.reverse().forEach(function(t){e.splice(t,1)})}else{var s=void 0;if(y.changeKeyToName(e),$.isUndefined(e.states)||y.statesChangeKeyToName(e.states),!$.isUndefined(e.stateNum)&&$.isUndefined(e.hoverState)&&(e.hoverState={}),n){var c=n.split("_");e.type=c[0],e.id=c[1]}r&&(e.mergeName=r),"null"===e.mergeName&&(e.mergeName=null),$.isUndefined(t)||(e.interfaceId=t);var u=_[e.type];if("wrapbox"==e.type){var d=[];if(e.hierarchy)for(var p in e.hierarchy.forEach(function(n){e.contrs[n]&&(d.push(n),y.addInitVal(e.contrs[n],t,n,e.type+"_"+e.id,i,o))}),e.contrs)-1==d.indexOf(p)&&e.contrs[p]&&(log("数据异常,childNotInHierarchy",e),d.push(p),y.addInitVal(e.contrs[p],t,p,e.type+"_"+e.id,i,o));e.hierarchy=d}if(e&&"table"==e.type&&($.isArray(e.linePosi)||(e.linePosi=[e.linePosi]),$.isArray(e.columnPosi)||(e.columnPosi=[e.columnPosi]),e.child))for(var f in e.child){var h=e.child[f];h.text&&y.changeKeyToName(h.text),y.changeKeyToName(h)}if(u)for(var g in u){var m=u[g],v=e[g];$.isUndefined(v)?$.isArray(m)?e[g]=m.concat():e[g]="hierarchy"==g?[]:"filter"==g?{}:"cutVals"==g?null:m:"isOpen"==g?e[g]=!1:"cutVals"==g&&(e[g]=$.extend($.getDefaultCutVals(e),e[g]))}if(window.isPc||o||window.isAppView||(i?window.phoneSize.height==window.phoneBaseSize.height:window.phoneSize.width==window.phoneBaseSize.width)||!$||!$.otherSizeChangeContr||(s=i?window.phoneSize.height/window.phoneBaseSize.height:window.phoneSize.width/window.phoneBaseSize.width,$.otherSizeChangeContr(e,s,!0)),!o&&u==l&&!$.isUndefined(s)&&e.children)for(var w in e.children)e.children[w]&&e.children[w].cutVals&&(e.children[w].cutVals=$.changeCutValsSize(e.children[w].cutVals,s));$.isUndefined(e.type)&&e.uniqueKey&&(delete e.left,delete e.top)}},statesChangeNameToKey:function(e){for(var t in e){var n=e[t].contrs,r=e[t].transition;for(var i in $.isUndefined(r)||y.removeTransition(r),n)y.changeNameToKey(n[i],!0)}},changeNameToKey:function(e,t){for(var n in e)if(t&&-1!=p.indexOf(n)&&!$.isUndefined(e[n]))delete e[n];else{-1==f.indexOf(n)&&(e[n]=$.floatNum(e[n],2));var r=g.indexOf(n);-1==r||$.isUndefined(e[n])||(e[m[r]]=e[n],delete e[n])}},statesChangeKeyToName:function(e){for(var t in e){var n=e[t].contrs;for(var r in n)y.changeKeyToName(n[r],!0)}},changeKeyToName:function(e,t){for(var n in e){var r=m.indexOf(n);-1==r||$.isUndefined(e[n])||(t&&-1!=p.indexOf(g[r])||(e[g[r]]=e[n],-1!=f.indexOf(g[r])&&(e[g[r]]=""+e[g[r]])),delete e[n])}},removeTransition:function(e){for(var t in e){var n=e[t].contrs;for(var r in n){var i=n[r].units[0];!$.isUndefined(i.keyframes)&&2!=$.objLength(i.keyframes)||!$.isUndefined(i.props)&&0!=$.objLength(i.props)?($.isUndefined(i.index)||delete i.index,$.isUndefined(i.props)||0!=$.objLength(i.props)||delete i.props,$.isUndefined(i.keyframes)||2!=$.objLength(i.keyframes)||delete i.keyframes,$.isUndefined(i.active)||delete i.active):$.isUndefined(n[r])||delete n[r]}}}},w=y;t["default"]=w,function(){var t=n(1)["default"],b=n(1).leaveModule;t&&(t.register(r,"TEXT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(i,"IMAGE_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(o,"WRAP_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(a,"ICON_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(s,"HOT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(l,"SYMBOL_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(c,"TABEL_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(u,"TABEL_CHILD_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(d,"TABAL_TEXT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(p,"REMOVE_INSTATE_VAL","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(f,"NOT_NUM_KEY","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(h,"SYMBOL_DELETE_KEY","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(g,"NAME_ARR","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(m,"KEY_ARR","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(_,"typeObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(v,"initValRmove","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(y,"ContrInitHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),t.register(w,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/ContrInitHandle.js"),b(e))}()}).call(this,n(2)(e))},,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var RotateBoxComp=function(_React$Component){function RotateBoxComp(e){(0,_classCallCheck3["default"])(this,RotateBoxComp);var t=(0,_possibleConstructorReturn3["default"])(this,(RotateBoxComp.__proto__||(0,_getPrototypeOf2["default"])(RotateBoxComp)).call(this,e));return t.state={},t}return(0,_inherits3["default"])(RotateBoxComp,_React$Component),(0,_createClass3["default"])(RotateBoxComp,[{key:"shouldComponentUpdate",value:function(e){return e.isOpt!=this.props.isOpt||e.width!=this.props.width||e.height!=this.props.height||e.rotate!=this.props.rotate}},{key:"render",value:function(){var e=$.getRotateWH($.rotateToAngle(this.props.rotate,!0),[this.props.width,this.props.height]);return _react2["default"].createElement("div",{className:"rotateBox"+(this.props.isOpt&&"0"!=this.props.rotate?" active":"")+("0"!=this.props.rotate?" isRotate":""),style:{width:Math.round(e.w),height:Math.round(e.h),left:Math.round((this.props.width-e.w)/2-1),top:Math.round((this.props.height-e.h)/2-1),transform:"rotate(-"+(this.props.rotate%90<0?this.props.rotate%90+90:this.props.rotate%90)+"deg)"}})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RotateBoxComp}(_react2["default"].Component),_default=RotateBoxComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(RotateBoxComp,"RotateBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/RotateBox.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/RotateBox.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";n.r(t);var r,i=n(4),o=n(36),a=n(11),s=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function l(){r={isShow:!1,title:"标题",width:640,content:null,noBottom:!1,type:"top",bottomContent:null,noCancel:!1,cancelBtnName:"关闭",submitBtnName:"确定",submitBtnFunc:function(e){e()},cancelBtnFunc:function(e){e()}}}l();var c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getPopup=function(){return r},t.prototype.getShow=function(){return r.isShow},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));i["default"].register(function(e){switch(e.actionType){case o.a.POPUP_INIT:!function(e){$.isUndefined(e.noBottom)&&(e.noBottom=!1),$.isUndefined(e.maxZindex)&&(e.maxZindex=!1),(r=$.extend(r,e)).isShow=!0}(e.option),c.emitChange();break;case o.a.POPUP_HIDE:l(),c.emitChange()}}),t["default"]=c},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.MOVETIP_UPDATE="MOVETIP_UPDATE",e.MOVETIP_SHOW="MOVETIP_SHOW"}(r||(r={}))},function(e,t,n){"use strict";var r=n(4),i=n(29),o=n(11),a=n(23),s=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=window.$,c=[{name:"personName",text:"人名",detail:[["随机",function(){a.a.getName("random")}],["男性",function(){a.a.getName("man")}],["女性",function(){a.a.getName("women")}]]},{name:"date",text:"日期",detail:[["Y/MM/DD",function(){a.a.getTime("YYYY/M/D")}],["年月日",function(){a.a.getTime("YYYY年M月D日")}],["MM/DD",function(){a.a.getTime("M/D")}],["月日",function(){a.a.getTime("M月D日")}]]},{name:"time",text:"时间",detail:[["hh/mm/ss",function(){a.a.getTime("H:mm:ss")}],["时分秒",function(){a.a.getTime("H时mm分ss秒")}]]},{name:"paragraph",text:"段落",detail:[["标题",function(){a.a.getParagraph("title")}],["对话",function(){a.a.getParagraph("dialogue")}],["地址",function(){a.a.getParagraph("address")}]]},{name:"content",text:"内容",interval:["content","字数"]},{name:"evaluate",text:"评价",detail:[["电商评价",function(){a.a.getEvaluate("e_commerce")}],["文章评价",function(){a.a.getEvaluate("article")}],["美食评价",function(){a.a.getEvaluate("food")}],["服务评价",function(){a.a.getEvaluate("service")}]]},{name:"telephone",text:"号码",detail:[["手机号",function(){a.a.getPhoneNum("mobile")}],["固话",function(){a.a.getPhoneNum("fixed")}]]},{name:"number",text:"数字",interval:["number","位数"]},{name:"email",text:["邮箱",a.a.getEmail]}],u=[{name:"character",text:"人物",data:["324164da746310.jpg","323164da746310.jpg","322164da746310.jpg","321164da746310.jpg","320164da746310.jpg","319164da746310.jpg","318164da746310.jpg","317164da746310.jpg","316164da746310.jpg","315164da746310.jpg","314164da746310.jpg","313164da746310.jpg","312164da746310.jpg","311164da746310.jpg","310164da746310.jpg","309164da746310.jpg","308164da746310.jpeg","305164da746310.jpg","304164da746310.jpeg","307164da746310.jpeg","306164da746310.jpg","341164da748e08.jpg","340164da748e08.jpg","339164da748e08.jpg","338164da748e08.jpg","337164da748e08.jpg","335164da748e08.jpg","334164da748e08.jpg","333164da748e08.jpg","336164da748e08.jpg","332164da748e08.png","331164da748e08.jpg","330164da748e08.jpg","328164da748e08.jpeg","329164da748e08.jpg","327164da748e08.jpeg","326164da748e08.jpeg"]},{name:"technology",text:"科技",data:["436164da758808.jpg","435164da758808.jpg","434164da758808.jpeg","433164da758808.jpg","432164da758808.jpg","431164da758808.jpg","430164da758808.jpeg","429164da758808.jpg","428164da758808.jpg","427164da758808.jpg","426164da758808.jpg","425164da758808.jpg","424164da758808.jpg","423164da758808.jpg","422164da758808.jpg","421164da758808.jpg","420164da758808.jpg","418164da758808.jpg","419164da758808.jpg","417164da758808.jpg"]},{name:"business",text:"商业",data:["363164da74c4b8.jpg","362164da74c4b8.jpg","361164da74c4b8.jpg","364164da74c4b8.jpg","360164da74c4b8.jpeg","359164da74c4b8.jpg","358164da74c4b8.jpeg","355164da74c4b8.jpg","354164da74c4b8.jpg","353164da74c4b8.jpg","357164da74c4b8.jpg","356164da74c4b8.jpg","352164da74c4b8.jpeg","351164da74c4b8.jpg","350164da74c4b8.jpg","349164da74c4b8.jpg","348164da74c4b8.jpeg","346164da74c4b8.jpg","347164da74c4b8.jpg","345164da74c4b8.jpeg"]},{name:"scenery",text:"风景",data:["292164da731af0.jpg","290164da731af0.jpg","289164da731af0.jpg","288164da731af0.jpg","291164da731af0.jpg","287164da731af0.jpg","286164da731af0.jpg","285164da731af0.jpg","284164da731af0.jpg","283164da731af0.jpg","281164da731af0.jpg","280164da731af0.jpg","279164da731af0.jpeg","282164da731af0.jpg","278164da731af0.jpg","277164da731af0.png","275164da72e058.jpg","274164da72e058.jpeg","273164da72e058.jpg","276164da72e058.jpeg","272164da72e058.jpg","271164da72e058.jpeg","270164da72e058.jpeg","269164da72e058.jpeg","268164da72e058.jpeg","267164da72e058.jpg","266164da72e058.jpg","265164da72e058.jpeg","264164da72e058.jpeg","263164da72e058.jpeg","262164da72e058.png"]},{name:"building",text:"建筑",data:["250164da709e38.jpg","249164da709e38.jpg","248164da709e38.jpeg","247164da709e38.jpeg","245164da709e38.jpg","244164da709e38.jpg","243164da709e38.jpg","242164da709e38.jpg","241164da709e38.jpg","240164da709e38.png","239164da709e38.jpeg","238164da709e38.jpg","237164da709e38.jpg","236164da709e38.jpg","235164da709e38.jpeg","233164da709e38.jpeg","232164da709e38.jpg","231164da709e38.jpg","234164da709e38.jpg","230164da709e38.jpg","229164da709e38.jpeg","226164da709e38.jpeg","228164da709e38.jpeg","227164da709e38.jpeg","225164da709e38.jpeg"]},{name:"food",text:"美食",data:["411164da755928.jpg","410164da755928.jpg","409164da755928.jpg","414164da755928.jpg","412164da755928.jpg","413164da755928.jpg","407164da755928.jpeg","408164da755928.jpeg","405164da755928.jpeg","404164da755928.jpg","403164da755928.jpg","406164da755928.jpg","402164da755928.jpg","401164da755928.jpg","400164da755928.jpg","398164da755928.jpg","397164da755928.jpg","396164da755928.jpg","399164da755928.jpg","395164da755928.jpeg","394164da755928.jpeg"]},{name:"sport",text:"运动",data:["392164da74ff50.jpg","390164da74ff50.jpg","388164da74ff50.jpg","393164da74ff50.jpg","387164da74ff50.jpg","391164da74ff50.jpg","386164da74ff50.jpeg","389164da74ff50.jpg","385164da74ff50.jpeg","384164da74ff50.jpeg","383164da74ff50.jpg","382164da74ff50.jpg","381164da74ff50.jpg","380164da74ff50.jpg","378164da74ff50.jpg","376164da74ff50.jpg","375164da74ff50.jpg","379164da74ff50.jpeg","374164da74ff50.jpg","377164da74ff50.jpg","373164da74ff50.jpg","372164da74ff50.jpeg","371164da74ff50.jpeg","370164da74ff50.jpg","369164da74ff50.jpeg","368164da74ff50.jpeg"]},{name:"animal",text:"动物",data:["218164da6ef470.jpg","217164da6ef470.jpg","216164da6ef470.jpg","214164da6ef470.jpg","213164da6ef470.jpg","212164da6ef470.jpg","215164da6ef470.jpg","211164da6ef470.jpg","210164da6ef470.jpg","209164da6ef470.jpeg","208164da6ef470.jpg","207164da6ef470.jpeg","206164da6ef470.jpg","205164da6ef470.jpg","204164da6ef470.jpg","203164da6ef470.jpg","202164da6ef470.jpg","201164da6ef470.jpg","200164da6ef470.jpg","198164da6ef470.jpg","197164da6ef470.jpg","196164da6ef470.jpg","199164da6ef470.jpg","194164da6ef470.jpg","193164da6ef470.jpg","192164da6ef470.jpg","195164da6ef470.jpg","191164da6ef470.jpg","190164da6ef470.jpg","189164da6ef470.png","188164da6ef470.jpg","187164da6ef470.jpg","186164da6ef470.jpg","185164da6ef470.jpg","184164da6ef470.jpg"]}],d=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],p=[],f={_id:"",iconKey:"theme-icon-1",name:"",content:""},h=null,g=null,m=[],_=!1,v=!1,y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getSelectKey=function(){return h},t.prototype.getIdList=function(){return g},t.prototype.getOneImageData=function(e){var t;return u.some(function(n){return n.name==e&&(t=n.data,!0)}),t},t.prototype.setSelectKey=function(e,t){h=e,l.isUndefined(t)||(g=t)},t.prototype.getTextPanel=function(){return c},t.prototype.getPicturePanel=function(){return u},t.prototype.getThemeIcon=function(){return d},t.prototype.getIsTextGroupEdit=function(){return _},t.prototype.getIsPictureGroupEdit=function(){return v},t.prototype.setIsEdit=function(e,t,n){e?_=t:v=n},t.prototype.listDataAdd=function(e,t){t?p.push(e):m.push(e)},t.prototype.getPanelDataIndex=function(e,t){var n=-1;return(t?p:m).some(function(t,r){return t._id==e&&(n=r,!0)}),n},t.prototype.getPanelData=function(e,t){var n;return(e?p:m).some(function(e){return!(!t||e._id!=t)&&(n=e,!0)}),n},t.prototype.panelDataDelete=function(e,t){var n=this.getPanelDataIndex(e,t);-1!=n&&(t?p:m).splice(n,1)},t.prototype.initSelectPanelData=function(e){f={_id:"",iconKey:e?"theme-icon-1":"theme-icon-2",name:"",content:""}},t.prototype.panelDataModify=function(e,t,n,r,i){var o=this.getPanelData(t,e);o&&(o.iconKey=n,o.name=r,o.content=i)},t.prototype.getTextGroupList=function(){return p},t.prototype.setTextGroupList=function(e){p=e},t.prototype.getPictureLibList=function(){return m},t.prototype.setPictureLibList=function(e){m=e},t.prototype.getSelectPanelData=function(){return f},t.prototype.changeSelectPanelData=function(e){l.extend(!0,f,e)},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(o.EventEmitter));r["default"].register(function(e){switch(e.actionType){case i.a.SET_ISEDIT:y.setIsEdit(e.listType,e.isTextGroupEdit,e.isPictureGroupEdit),y.emitChange();break;case i.a.LISTDATA_ADD:y.listDataAdd(e.obj,e.listType),y.emitChange();break;case i.a.PANELDATA_DELATE:y.panelDataDelete(e._id,e.listType),y.emitChange();break;case i.a.PANELDATA_MODIFY:y.panelDataModify(e._id,e.listType,e.iconKey,e.name,e.content),y.emitChange();break;case i.a.CHANGE_SELECTPANELDATA:y.changeSelectPanelData(e.option),y.emitChange();break;case i.a.INIT_SELECTPANELDATA:y.initSelectPanelData(e.listType),y.emitChange();break;case i.a.SET_TEXT:y.setTextGroupList(e.textList),y.emitChange();break;case i.a.SET_IMAGE:y.setPictureLibList(e.imgList),y.emitChange();break;case i.a.SELECT_KEY:y.setSelectKey(e.selectKey),y.emitChange()}}),t.a=y},,function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.TOAST_SHOW="TOAST_SHOW"}(r||(r={}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(13),a=n(53),s={homeInvitePopupFunc:function(){a.a.setVipShare({isShow:!0,type:"popup1"})},showVipPopupFunc:function(){a.a.setVipShare({isShow:!0,type:"popup2"})},registerPopupFunc:function(){var e={width:240,height:40,marginLeft:60,borderRadius:3,fontSize:14,color:"#fff",cursor:"pointer",display:"block",textAlign:"center"},t=$.extend(!0,$.extend(!0,{},e),{background:"#44B549",lineHeight:"40px"}),n=$.extend(!0,$.extend(!0,{},e),{marginTop:20,border:"solid 1px",lineHeight:"38px",boxSizing:"border-box"});o["default"].init({width:400,title:"注册xiaopiu",noBottom:!0,content:i.a.createElement("div",{className:"popup-content"},$.getInviteCookie()?i.a.createElement("span",{className:"popup-item-title no-float",style:{display:"block",textAlign:"center",marginBottom:20}},"微信注册可领取好友赠送的VIP会员"):undefined,i.a.createElement("a",{className:"vip-wechatLogin",target:"_blank",href:"https://www.xiaopiu.com/login/wechat",style:t},"微信注册"),i.a.createElement("a",{className:"vip-emailLogin",target:"_blank",href:"https://www.xiaopiu.com/login?type=register",style:n},"邮箱注册"),i.a.createElement("span",{className:"popup-item-title no-float",style:{display:"block",textAlign:"center",marginTop:20}},"已有账号？",i.a.createElement("a",{className:"red-text",target:"_blank",href:"https://www.xiaopiu.com/login"},"去登录")))})}};t["default"]=s},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(12)),i=l(n(158)),o=l(n(4)),a=l(n(3)),s=l(n(8));function l(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var c=n(10).EventEmitter,u={tA:"点击",dT:"双击",sH:"左右滑动",sV:"上下滑动",sL:"左滑动",sR:"右滑动",sT:"上滑动",sD:"下滑动",tM:"定时"};"web"==window.platform&&(u={tA:"点击",dT:"双击",hV:"悬停",sH:"左右滑动",sV:"上下滑动",sL:"左滑动",sR:"右滑动",sT:"上滑动",sD:"下滑动",tM:"定时"});var d={page:"跳转页面",state:"状态切换"},p={fadeInOut:"渐隐渐现",leftMenu:"左菜单",rightMenu:"右菜单",leftNav:"左导航",rightNav:"右导航",moveFromLeft:"左移入",moveFromRight:"右移入",moveFromBottom:"下移入",moveFromTop:"上移入",fadeFromLeft:"左弹入",fadeFromRight:"右弹入",fadeFromBottom:"下弹入",fadeFromTop:"上弹入",fadeRightFadeLeft:"左渐入",fadeLeftFadeRight:"右渐入",fadeTopFadeBottom:"下渐入",fadeBottomFadeTop:"上渐入",easingFromLeft:"左推入",easingFromRight:"右推入",easingFromBottom:"下推入",easingFromTop:"上推入",scaleDownFromLeft:"缩放(左)",scaleDownFromRight:"缩放(右)",scaleDownFromBottom:"缩放(下)",scaleDownFromTop:"缩放(上)",glueFromLeft:"折入(左)",glueFromRight:"折入(右)",glueFromBottom:"折入(下)",glueFromTop:"折入(上)"},f={};function h(e,t){var n={};n[e.type]=e,n[e.type].disable=!1,"page"==t.type?s["default"].updatePageEvents(t.key,n):a["default"].contrUpdate($.getContrId(t),{events:n})}function g(e,t,n){if(e.type!==t)m(n,t),h(e,n);else{var r={};r[e.type]=e,r[e.type].disable=!1,"page"==n.type?s["default"].updatePageEvents(n.key,r):(a["default"].contrUpdate($.getContrId(n),{events:r},undefined,!0),a["default"].initCache(),a["default"].emitChange())}}function m(e,t,n,r){var i={};i[t]={disable:!0},"page"==e.type?s["default"].updatePageEvents(e.key,i,r):a["default"].contrUpdate($.getContrId(e),{events:i},undefined,r)}function _(e,t,n,r){var i=e.events,o={};i[t].actions.splice(n,1),o[t]=i[t],"page"==e.type?s["default"].updatePageEvents(e.key,o,r):a["default"].contrUpdate($.getContrId(e),{events:o},undefined,r)}function v(e){if("deletePage"==e.type){var t=s["default"].getPages();for(var n in t)y(e,n)}else"deleteContr"!=e.type&&"deleteState"!=e.type||y(e)}function y(e,t){var n=void 0;n=e.pageContrs?e.pageContrs:t?a["default"].getPageByHierarchy(t):a["default"].getActivePageByHierarchy(),w(e.pageEvents?{events:e.pageEvents}:t?s["default"].getPageByKey(t):s["default"].getActivePage(!0),e),n.forEach(function(t){w(t,e)})}function w(e,t,n){if("saveContr"!=t.type||n||(t.savedContrs=$.getIncludeContrs(e)),b(e,t,e.interfaceId),e.states)for(var r in e.states)for(var i in e.states[r].contrs)b(e.states[r].contrs[i],t,e.interfaceId);if("wrapbox"==e.type)for(var o in e.contrs)w(e.contrs[o],t,!0)}function b(e,t,n){if(e.events){for(var r in e.events)e.events[r].actions&&(e.events[r].actions=e.events[r].actions.filter(function(e){var r=!1;switch(t.type){case"deletePage":(r="page"==e.type&&e.page==t.pageId)&&n&&s["default"].setAutoSaveChangePages("__pageContrs",!0,n);break;case"deleteContr":r="state"==e.type&&e.contr==t.targetId;break;case"deleteState":r="state"==e.type&&e.contr==t.targetId&&e.endState==t.stateId;break;case"savePage":r="page"==e.type&&e.page!=t.pageId;break;case"saveContr":r=!("state"==e.type&&t.savedContrs[e.contr]);break;case"pastePage":r="page"==e.type&&!t.pagesKey[e.page];break;case"pasteContr":if(t.isInProject){if("page"==e.type)r="-1"!=e.page&&$.isUndefined(s["default"].getPageByKey(e.page));else if("state"==e.type&&!t.pasteContrsKey[e.contr]){var i=a["default"].getContrByAll(e.contr);i&&i.interfaceId==s["default"].getActivePage()||(r=!0),r||(r=$.isUndefined(i.states[e.endState]))}}else r=!("state"==e.type&&t.pasteContrsKey[e.contr])}return!r}),0===e.events[r].actions.length&&delete e.events[r]);0===$.objLength(e.events)&&delete e.events}}function C(e){var t={},n=s["default"].getActivePage(),r=a["default"].getSelect(),i={},o=a["default"].getNowHierarchy();return e.forEach(function(e){var n=$.getContrId(e),s=a["default"].getAllValsContr({contrKey:n});if(i[n]=!0,s.events)for(var l in s.events)s.events[l].actions&&s.events[l].actions.forEach(function(e){-1==r.indexOf(e.contr)&&-1!=o.indexOf(e.contr)&&"state"==e.type&&e.contr!=n&&(t[e.contr]={name:a["default"].getContrName(e.contr)})})}),$("#mainBox"+n).find(".event-tag").parent().parent().each(function(){var e=$(this),n=e.attr("id");if(e.hasClass("isC")&&!e.hasClass("isStartState")&&!i[n]){var r=a["default"].getAllValsContr({contrKey:n});if(r.events)for(var s in r.events)r.events[s].actions&&r.events[s].actions.forEach(function(e){-1!=o.indexOf(n)&&"state"==e.type&&i[e.contr]&&(t[n]={name:a["default"].getContrName(n)})})}}),0===$.objLength(t)?null:t}var S=(0,r["default"])({},c.prototype,{getEventType:function(){return u},getEventTypeKey:function(){var e=[];for(var t in u)e.push(t);return e},getActionType:function(){return d},getPageTransition:function(){return p},setTempSelectedPage:function(e){f.selectedPage=e},deleteRelativedActions:function(e){v(e)},deletePageActions:function(e){y(e)},deleteContrActions:function(e,t){w(e,t)},correctPasteContrEvents:function(e,t){w(e,t)},getEventRelativedContrs:function(e){return C(e)},traverseEvents:function(e){y(e)},getTempData:function(){return f},setSettingData:function(e){f.settingData=e},setEditData:function(e,t){f.editData=e,f.curAction=t},emptyTempData:function(){f={}},deleteAction:function(e,t,n){_(e,t,n,!0)},deleteEvent:function(e,t){m(e,t,undefined,!0)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].EVENT_CREATE:h(e.options,e.contr,e.stateParent);break;case i["default"].EVENT_EDIT:g(e.options,e.type,e.contr),S.emitChange();break;case i["default"].EVENT_DELETE:case i["default"].EVENT_USEORIGIN:m(e.contr,e.type),S.emitChange();break;case i["default"].EVENT_DELETEACTION:_(e.contr,e.type,e.index),S.emitChange()}});var x=S;t["default"]=x,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(c,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(u,"eventType","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(d,"actionType","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(p,"pageTransition","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(f,"tempData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(h,"create","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(g,"edit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(m,"deleteEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(_,"deleteAction","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(v,"deleteRelativedActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(y,"deletePageActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(w,"deleteContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(b,"_deleteActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(C,"getEventRelativedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(S,"EventStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),t.register(x,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(108));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={createBaseContr:function(e){r["default"].dispatch({actionType:i["default"].CONTR_CREATEBASE,option:e})},createTextContr:function(e){r["default"].dispatch({actionType:i["default"].CONTR_CREATETEXT,option:e})},createIconContr:function(e){r["default"].dispatch({actionType:i["default"].CONTR_CREATEICON,option:e})},createHotspotContr:function(e){r["default"].dispatch({actionType:i["default"].CONTR_CREATEHOTSPOT,option:e})},createImageContr:function(e){r["default"].dispatch({actionType:i["default"].CONTR_CREATEIMAGE,option:e})},createWrapboxContr:function(){r["default"].dispatch({actionType:i["default"].CONTR_CREATEWRAP})},wrapResolve:function(){r["default"].dispatch({actionType:i["default"].CONTR_RESOLVE})},pasteContr:function(e,t,n,o,a){r["default"].dispatch({actionType:i["default"].CONTR_PASTE,option:e,noSave:t,isInProject:n,symbol:o,changeKeyObj:a})},keyMoveContr:function(e,t){r["default"].dispatch({actionType:i["default"].CONTR_KEYMOVE,type:e,value:t})},deleteSelectContr:function(){r["default"].dispatch({actionType:i["default"].CONTR_DELETESELECT})},moveContr:function(e,t,n,o){r["default"].dispatch({actionType:i["default"].CONTR_MOVE,key:e,posi:t,changePosi:o,noEmit:n})},contrUpdate:function(e,t,n,o){r["default"].dispatch({actionType:i["default"].CONTR_UPDATE,key:e,option:t,isOriginal:n,noEmit:o})},filterChange:function(e,t){r["default"].dispatch({actionType:i["default"].CONTR_FILTERCHANGE,key:e,option:t})},contrUpdateByAll:function(e,t,n){r["default"].dispatch({actionType:i["default"].CONTR_UPDATEBYALL,key:e,option:t,isOriginal:n})},contrPosi:function(e,t){r["default"].dispatch({actionType:i["default"].CONTR_POSI,key:e.key,width:e.width,height:e.height,left:e.left,top:e.top,noEmit:t})},selectAll:function(){r["default"].dispatch({actionType:i["default"].CONTR_SELECTALL})},selectChange:function(e,t){r["default"].dispatch({actionType:i["default"].CONTR_SELECTCHANGE,selectArr:e,tab:t})},saveMergeBox:function(){r["default"].dispatch({actionType:i["default"].CONTR_SAVEMERGE})},backMergeBox:function(){r["default"].dispatch({actionType:i["default"].CONTR_BACKMERGE})},importPage:function(e,t,n,o,a){r["default"].dispatch({actionType:i["default"].CONTR_IMPORTPAGE,contrs:e,pageId:t,guideLine:n,note:o,isLandscape:a})},createState:function(e,t){r["default"].dispatch({actionType:i["default"].CONTR_CREATESTATE,index:e,name:t})},selectState:function(e){r["default"].dispatch({actionType:i["default"].CONTR_SELECTSTATE,index:e})},editState:function(e){r["default"].dispatch({actionType:i["default"].CONTR_EDITSTATE,index:e})},reWHprop:function(){r["default"].dispatch({actionType:i["default"].CONTR_REWHPROP})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"ContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ContrActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ContrActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";var r=n(4),i=n(61),o=new(function(){function e(){this.VipShareActionID=i.a}return e.prototype.setVipShare=function(e){r["default"].dispatch({actionType:i.a.SET_VIPSHARE,vipShare:e})},e}());t.a=o},,function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.GUIDE_ADD="GUIDE_ADD",e.GUIDE_UPDATE="GUIDE_UPDATE",e.GUIDE_REMOVE="GUIDE_REMOVE",e.GUIDE_SHOW="GUIDE_SHOW"}(r||(r={}))},,function(e,t,n){"use strict";var r=n(34),i=n(4),o=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=n(10).EventEmitter,s={show:!1,target:null,text:"",value:"",texts:[],values:[],type:"",styles:{width:0,top:0,left:0,maxHeight:0},includeSelected:!1,itemH:32,maxH:256,listH:0,callback:$.noop,mouseEnter:$.noop,mouseLeave:$.noop};var l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getBox=function(){return s},t.prototype.isShow=function(){return s.show},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a));i["default"].register(function(e){switch(e.actionType){case r.a.DROPDOWNBOX_SHOW:!function(e){s.target&&$.removeClass(s.target,"on"),s.show=!0,$.extend(s,e),s.target="DIV"==s.target.nodeName?s.target:s.target.parentNode;var t=$.offset(s.target),r=""===s.text?s.texts.length:s.texts.length-1;e.itemH&&(s.maxH=8*e.itemH),s.listH=r*s.itemH;var i=s.listH>s.maxH?s.maxH:s.listH,o=n(129)["default"];window.isPc&&!o.getFold()&&(t.left-=272),s.styles={width:e.dropdownBoxWidth?e.dropdownBoxWidth+"px":s.target.clientWidth+"px",left:t.left+(e.dropdownBoxLeft||0)+"px",maxHeight:s.maxH+"px"},$.getWinSize().height-($.offset(s.target).top+40)<i?s.styles.top=t.top-i-8+"px":s.styles.top=t.top+s.itemH+"px",$.addClass(s.target,"on")}(e.options),l.emitChange();break;case r.a.DROPDOWNBOX_HIDE:s.show&&(s.show=!1,s.type="",s.itemClassName="",s.callback=$.noop,s.mouseEnter=$.noop,s.mouseLeave=$.noop,s.target&&$.removeClass(s.target,"on"),l.emitChange());break;case r.a.DROPDOWNBOX_EDIT:!function(e){$.extend(s,e)}(e.options),l.emitChange()}}),t.a=l},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(34),o=new(function(){function e(){this.DropdownBoxActionID=i.a}return e.prototype.show=function(e){r["default"].dispatch({actionType:i.a.DROPDOWNBOX_SHOW,options:e})},e.prototype.hide=function(){r["default"].dispatch({actionType:i.a.DROPDOWNBOX_HIDE})},e.prototype.edit=function(e){r["default"].dispatch({actionType:i.a.DROPDOWNBOX_EDIT,options:e})},e}());t["default"]=o},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.ZOOM_CHANGE="ZOOM_CHANGE"}(r||(r={}))},,function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.SET_VIPSHARE="SET_VIPSHARE"}(r||(r={}))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(12)),i=l(n(116)),o=l(n(4)),a=l(n(32)),s=l(n(71));function l(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var c=n(10).EventEmitter,u=2,d=.5,p=240,f={isShow:!1,isLoaded:!1,url:"",image:"",noBtn:!1,noClose:!1,view:null,user:null,currLabel:"info",scale:1,catalog:!0,note:!0,eventTag:!0,noteTag:!0,phoneFrame:!0,mode:"preview",platform:$.getPlatform(window.platform),fromIframe:!1},h=[],g=[],m=[],_={},v={scrollHeight:0,scrollWidth:0,scrollLeft:0,scrollTop:0,boxWidth:0};function y(e,t){if(t)return f.scale=t,void s["default"].initContr();10*f.scale%1!=0&&(f.scale=Math.min(Math.max(Math.round(10*f.scale)/10,.5),2)),"in"==e?f.scale<u&&(f.scale=Math.round(10*(f.scale+.1))/10):"out"==e&&f.scale>d&&(f.scale=Math.round(10*(f.scale-.1))/10),s["default"].initContr()}function w(){var e=$.getWinSize(),t=void 0;if("web"==f.platform){t=(e.width-(f.catalog?p:0)-(f.note||"discuss"==f.mode?p:0)-40)/window.phoneSize.width}else{var n=window.phoneModelSizeObj[window.previewFrameSize.type]?window.phoneModelSizeObj[window.previewFrameSize.type][1]:window.previewFrameSize.height+187;t=parseInt((e.height-80)/n*100)/100}f.scale=Math.min(t,1),s["default"].initContr()}function b(e){var t=$.getElById("pageItem"+e);if(!t)return!1;var n=$.getElById("pageList"),r=n.offsetHeight,i=t.offsetTop,o=n.scrollTop;i+30>r+o?n.scrollTop=i:i<o&&(n.scrollTop=o-i-r)}function C(e){f.mode=e,"web"==f.platform&&w()}function S(){f.catalog=!f.catalog,E({catalog:f.catalog}),"web"==f.platform&&w()}function x(){f.note=!f.note,E({note:f.note}),"web"==f.platform&&w()}function E(e){f.fromIframe&&(window.parent.previewPopupSet||(window.parent.previewPopupSet={}),$.extend(!0,window.parent.previewPopupSet,e))}function P(e){$.extend(!0,f,e)}function T(e,t){t.forEach(function(t){if(t){if(!t.isShow)return;"page"==t.type?e.push(parseInt(t.key)):"folder"==t.type&&T(e,t.folderHierarchy)}})}var j=(0,r["default"])({},c.prototype,{init:function(e){f.isShow=!0,$.extend(!0,f,e),j.initPreviewFrameSize(),"mobile"==f.platform&&$.addClass(window.document.body,"overflowHidden"),h=[],w(),e.closeFunc&&(f.closeFunc=e.closeFunc),e.noEmit||j.emitChange()},show:function(e){f.isShow=!0,f.url=e.url,j.emitChange()},zoomFit:function(){w()},exit:function(e){f.isShow=!1,f.closeFunc&&f.closeFunc(),e||j.emitChange(),$.removeClass(window.document.body,"overflowHidden")},setScrollObj:function(e,t){$.extend(!0,v,e),t||j.emitScrollChange()},getScrollObj:function(){return v},initScrollObj:function(){v={scrollHeight:0,scrollWidth:0,scrollLeft:0,scrollTop:0,boxWidth:0}},isShow:function(){return f.isShow},getMode:function(){return f.mode},getPagesArr:function(){return h},getActivePage:function(e){var t=void 0;return h.every(function(n){return!n.active||(t=e?n:n.key,!1)}),t},setPagesArr:function(e,t){e&&(f.hideNote=!1,f.hideEventTag=!1,(h=$.extend(!0,[],e)).forEach(function(e){_[e.key]=e}),t||(j.emitChange(),j.emitBtnChange()))},setStructData:function(e){if(!e)return f.catalog=!1,!1;g=0===e.length?h:$.extend(!0,[],e),j.getStructHierarchy(null,!0)},getStructData:function(){return g},getStructHierarchy:function(e,t){return(e||g).map(function(e){if(e){if("page"==e.type)return t&&m.push(parseInt(e.key)),_[e.key];if("folder"==e.type){var n=$.extend(!0,{},e);return n.folderHierarchy=j.getStructHierarchy(e.folderHierarchy,t),n}}return undefined})},getAllShowPageKeyList:function(){var e=[];return T(e,j.getStructHierarchy()),e},getPageKeyList:function(){return m},findStructFolder:function(e,t,n,r,i){var o=n||g;return r||(r={}),o.forEach(function(n,a){n.key==e&&n.type==t&&(r.hierarchy=o,r.val=n,r.index=a,r.parentKey=i),"folder"!=n.type||r.val||j.findStructFolder(e,t,n.folderHierarchy,r,n.key)}),r},changeStructFolderFold:function(e){var t=j.findStructFolder(e,"folder").val;t.fold=!t.fold},structFolderAllFold:function(e,t){(e||g).forEach(function(e){"folder"==e.type&&(e.fold=!t,j.structFolderAllFold(e.folderHierarchy,t))})},changeActivePage:function(e){$.isUndefined(e.currIndex)?h.forEach(function(t){t.key==e.nextKey?t.active=!0:t.active=!1}):(h[e.currIndex].active=!1,h[e.nextIndex].active=!0,e.nextKey=h[e.nextIndex].key);var t=$.query(".edit-box-active .cancel-btn");t&&t.click(),s["default"].initContr(),a["default"].setPageId(e.nextKey,"discuss"==f.mode),j.initScrollObj(),e.noEmit||(j.emitScrollChange(),j.emitChange()),"page"==f.currLabel&&e.setPos&&b(e.nextKey)},getFrame:function(){return f.url},getNoBtn:function(){return f.noBtn},getNoClose:function(){return f.noClose},getQrcode:function(){return f.image},getPreviewInfo:function(){return f},getHideNote:function(){return f.hideNote},getScale:function(){return f.scale},setHideNote:function(e,t){f.hideNote=e,t||j.emitBtnChange()},getHideEventTag:function(){return f.hideEventTag},setHideEventTag:function(e,t){f.hideEventTag=e,t||j.emitBtnChange()},initPreviewFrameSize:function(){var e=window.phoneSize||{width:320,height:568,type:"ip5"};window.previewFrameSize=$.extend(!0,{},e),-1!=window.previewFrameSize.type.indexOf("_")&&(window.phoneModelSizeObj[window.previewFrameSize.type]=[window.previewFrameSize.width+36,window.previewFrameSize.height+190,95,95,16])},resetPreviewFrameSize:function(e){$.extend(!0,window.previewFrameSize,e)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitBtnChange:function(){this.emit("btn-change")},addBtnChangeListener:function(e){this.on("btn-change",e)},removeBtnChangeListener:function(e){this.removeListener("btn-change",e)},emitScrollChange:function(){this.emit("scroll-change")},addScrollChangeListener:function(e){this.on("scroll-change",e)},removeScrollChangeListener:function(e){this.removeListener("scroll-change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].PROTOPREVIEW_ZOOM:y(e.type,e.scale),j.emitChange(),j.emitScrollChange();break;case i["default"].PROTOPREVIEW_ZOOMFIT:w(),j.emitChange(),j.emitScrollChange();break;case i["default"].PROTOPREVIEW_SWITCHMODE:C(e.mode),j.emitChange();break;case i["default"].PROTOPREVIEW_TOGGLECATALOG:S(),j.emitChange();break;case i["default"].PROTOPREVIEW_TOGGLENOTE:x(),j.emitChange();break;case i["default"].PROTOPREVIEW_SETPROPS:P(e.options),j.emitChange();break;case i["default"].PROTOPREVIEW_RESETFRAMESIZE:j.resetPreviewFrameSize(e.size),j.emitChange()}});var I=j;t["default"]=I,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(c,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register("btn-change","BTN_CHANGE_EVNET","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register("scroll-change","SCROLL_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(u,"MAXSCALE","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(d,"MINSCALE","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(p,"SIDEPANELWIDTH","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(f,"previewInfo","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(h,"pagesArr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(g,"structData","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(m,"pageKeyList","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(_,"pages","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(v,"scrollObj","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(y,"zoom","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(w,"zoomFit","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(b,"setPageItemPos","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(C,"switchMode","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(S,"toggleCatalog","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(x,"toggleNote","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(E,"setParentPageSet","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(P,"setProps","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(T,"getAllShowPageKeys","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(j,"ProtoPreviewStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),t.register(I,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c=0,u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={list:t.list},n}return s(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({list:e.list})},t.prototype.render=function(){var e,t=[],n=this.props,r=n.dir,o=n.name,s=n.hide,u=n.className,d=n.pos,p=n.widthAuto,f=r||"left";return this.state.list.forEach(function(e){e[0]&&t.push(i.a.createElement("li",l({key:"dropMenuList"+ ++c},e[2],{onClick:function(t){e[1]&&e[1](t),t.stopPropagation()}}),e[0]))}),i.a.createElement("div",{key:o,className:a()((e={hide:s,"drop-menu-box":!0},e["dir-"+f]=!0,e["test"+t.length]=!0,e[""+u]=u,e["width-auto"]=p,e)),style:d},i.a.createElement("ul",null,t))},t.prototype.setList=function(e){this.setState({list:e})},t}(i.a.Component);t["default"]=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(292)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l=void 0,c={fold:!0,height:220,minHeight:180,maxHeight:.75*$.getWinSize().height,precision:200,scale:1,minScale:.3,maxScale:2,lineLeft:0,time:200,reverse:!1,contrastHide:!1},u=void 0;function d(e){c.height=e}function p(e){c.scale=Math.max(Math.min(e,c.maxScale),c.minScale);var t=l.getTimelineW();u-c.lineLeft>=t&&l.changeLeft(u-t)}function f(e){c.reverse=$.isUndefined(e)?!c.reverse:e}function h(e){var t=l.getTimeArea();if("preview"==e.type){if(e.previewArea[0]<t[0]||e.previewArea[1]>t[1]){var n=(t[0]-e.previewArea[0])*l.getUnitW();l.changeLeft(c.lineLeft+n),l.emitChange()}}else"progress"==e.type&&c.lineLeft+e.transX>u&&(l.changeLeft(c.lineLeft-u),l.emitChange())}u="web"==window.platform?window.document.body.clientWidth-271-45-380:window.document.body.clientWidth-922,l=(0,r["default"])({},s.prototype,{getPanel:function(){return c},getBtmW:function(){return u},getTimelineW:function(){return l.getUnitW()*c.time/10},contrastHideClassToggle:function(e){c.fold&&"preview"!=e||!c.contrastHide?$.removeClass($.getElById("reactBox"),"stateContrastHide"):$.addClass($.getElById("reactBox"),"stateContrastHide")},toggleContrastHide:function(e){c.contrastHide=!c.contrastHide,e||l.emitChange()},getFold:function(){return c.fold},toggleFold:function(e){var t=n(8)["default"];c.fold=!c.fold,e&&(l.emitChange(),t.emitViewChange())},fold:function(){c.fold=!0},unfold:function(){c.fold=!1},getBottomPanelHeight:function(){return c.fold?0:c.height},getUnitW:function(){return c.precision*c.scale},reverse:function(){f()},getReverse:function(){return c.reverse},changeLeft:function(e,t){c.lineLeft=Math.min(0,parseInt(e)),t&&l.emitChange()},correctRange:function(e){h(e)},getTimeArea:function(){var e=[],t=l.getUnitW();return e[0]=Math.abs(c.lineLeft)/t,e[1]=(Math.abs(c.lineLeft)+u)/t,e},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),o["default"].register(function(e){switch(e.actionType){case i["default"].BOTTOMPANEL_TOGGLEFOLD:l.toggleFold(),l.emitChange();break;case i["default"].BOTTOMPANEL_CHANGEHEIGHT:d(e.height),l.emitChange();break;case i["default"].BOTTOMPANEL_CHANGESCALE:p(e.scale),l.emitChange();break;case i["default"].BOTTOMPANEL_CHANGELEFT:l.changeLeft(e.left),l.emitChange();break;case i["default"].BOTTOMPANEL_REVERSE:f(e.reverse),l.emitChange();break;case i["default"].BOTTOMPANEL_CORRECTRANGE:h(e.options)}});var g=l;t["default"]=g,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(l,"BottomPanelStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(271,"LRPANEL_WIDTH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(380,"BOTTOM_LEFT_WIDTH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(922,"OTHER_WIDTH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(45,"LEFTFOLDPANEL_WIDTH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(c,"panel","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(u,"btmW","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(d,"changeHeight","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(p,"changeScale","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(f,"reverse","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(h,"correctRange","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),t.register(g,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/BottomPanelStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={hasSaveNum:0,updateTime:null,isChange:!1,isSaving:!1},a={},s=(0,r["default"])({},i.prototype,{getAutoSave:function(){return o},initUpdateTime:function(e){o.updateTime=e,s.emitChange()},getUpdateTime:function(){return o.updateTime},setSaving:function(){o.isSaving=!0,s.emitChange()},saveSymbolSizeData:function(e,t){a[e]?$.extend(!0,a[e],t):a[e]=t},getSymbolSizeData:function(e){return a[e]},initSymbolSizeData:function(){a={}},removeSymbolSizeData:function(e){for(var t in a){a[t].contrKey==e&&delete a[t]}},setNotSaving:function(){o.isSaving=!1,s.emitChange()},addSaveNum:function(){o.hasSaveNum++,o.isChange=!0,s.emitChange()},saveToCloud:function(){o.isSaving=!1,o.hasSaveNum=0,o.isChange=!0,s.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),l=s;t["default"]=l,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AutoSaveStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AutoSaveStore.js"),t.register(o,"_AutoSave","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AutoSaveStore.js"),t.register(a,"_SymbolSizeData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AutoSaveStore.js"),t.register(s,"AutoSaveStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AutoSaveStore.js"),t.register(l,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AutoSaveStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(103));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={rightMenuUpdate:function(e){r["default"].dispatch({actionType:i["default"].RIGHTMENU_UPDATE,left:e.left,top:e.top,content:e.content})},show:function(e){r["default"].dispatch({actionType:i["default"].RIGHTMENU_SHOW,isShow:e})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"RightMenuActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/RightMenuActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/RightMenuActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";var r=n(16),i=n.n(r);t.a=i()({HEADER_LOADNOTIFI:null})},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(106));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={move:function(e){r["default"].dispatch({actionType:i["default"].PHONECONBOX_MOVE,options:e})},optimizationOff:function(){r["default"].dispatch({actionType:i["default"].PHONECONBOX_OPTIMIZATIONOFF})},optimizationOn:function(){r["default"].dispatch({actionType:i["default"].PHONECONBOX_OPTIMIZATIONON})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"PhoneConBoxActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PhoneConBoxActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PhoneConBoxActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r,i,o,a,s=n(4),l=n(11),c=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.getSelectPosi=function(){return r},t.prototype.getHoverContr=function(){return i},t.prototype.getSelectDom=function(){return o},t.prototype.getHoverDom=function(){return a},t.prototype.setHoverContr=function(e,t){i=e,t||u.emitChange()},t.prototype.setHoverDom=function(e,t){a=e,t||u.emitChange()},t.prototype.initContr=function(e){r=undefined,o=undefined,i=undefined,e||(u.emitChange(),u.emitSelectChange())},t.prototype.setSelectDom=function(e,t){o=e,t||(u.emitChange(),u.emitSelectChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitSelectChange=function(){this.emit("select_change")},t.prototype.addSelectChangeListener=function(e){this.on("select_change",e)},t.prototype.removeSelectChangeListener=function(e){this.removeListener("select_change",e)},t}(l.EventEmitter));s["default"].register(function(e){e.actionType}),t["default"]=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={createUser:{},userList:[],lastUserList:[],emailArrList:[],searchData:{},initData:{},userNum:1},a=(0,r["default"])({},i.prototype,{setCooperationUserNum:function(e,t,n){t?(o.userNum+=e,n&&n()):o.userNum!=e&&(o.userNum=e,n&&n())},getCooperationUserNum:function(){return o.userNum},setInitCooperation:function(e){o.initData=e},getInitCooperation:function(){return o.initData},getCooperationUser:function(){return o},setCooperationCreateUser:function(e){o.createUser=e},getCooperationCreateUser:function(){return o.createUser},setCooperationEmailArrList:function(e){o.emailArrList=e},getCooperationEmailArrList:function(){return o.emailArrList},setCooperationUserList:function(e){o.userList=e},getCooperationUserList:function(){return o.userList},setCooperationLastUserList:function(e){o.lastUserList=e},getCooperationLastUserList:function(){return o.lastUserList},getAllCooperationUserList:function(){var e={};return o.lastUserList.forEach(function(t){e[t._id]=$.extend(!0,{},t)}),o.userList.forEach(function(t){e[t._id]=$.extend(!0,{cooperationUser:!0},t)}),o.createUser._id&&(e[o.createUser._id]=$.extend(!0,{createUser:!0},o.createUser)),e},setSearchUser:function(e,t){o.searchData.text=e,o.searchData.userList=t},getSearchUser:function(){return o.searchData.userList||[]},getSearchText:function(){return o.searchData.text},removeCooperation:function(e,t){var n=-1;t?o.emailArrList.remove(e):(o.userList.some(function(t,r){return t._id==e&&(n=r,!0)}),-1!==n&&o.userList.splice(n,1))},addCooperation:function(e,t,n){var r=!1;n?o.emailArrList&&-1==o.emailArrList.indexOf(e)&&o.emailArrList.push(e):(o.userList.some(function(t){return t._id==e&&(r=!0,!0)}),r||o.userList.unshift(t))}}),s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),t.register(o,"CooperationUser","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),t.register(a,"CooperationStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o=(0,r["default"])({},i.prototype,{emitMustChange:function(){this.emit("must_change")},addMustChangeListener:function(e){this.on("must_change",e)},removeMustChangeListener:function(e){this.removeListener("must_change",e)}}),a=o;t["default"]=a,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderMiddleStore.js"),t.register("must_change","MUSTCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderMiddleStore.js"),t.register(o,"HeaderMiddleStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderMiddleStore.js"),t.register(a,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderMiddleStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(12)),i=s(n(104)),o=s(n(4)),a=s(n(3));function s(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var l=n(10).EventEmitter,c=void 0,u=void 0,d=void 0,p=void 0,f={delay:0,time:.5,count:1},h={contrId:null,anim:null,keyframe:null},g=void 0,m={},_={effect:["Linear","Sine","Quad","Cubic","Quart","Quint","Expo","Circ","Back","Elastic","Bounce"],type:["easeIn","easeOut","easeInOut"]};function v(e){y(),h.anim=L(e,!0),h.contrId=e,h.anim.active=!0}function y(){h.anim&&(h.anim.active=!1),h.keyframe&&(h.keyframe.active=!1)}function w(e,t){var n=h.anim.keyframes[e];h.anim.keyframes[t]=n,delete h.anim.keyframes[e]}function b(e,t,n){return n?C(e,t):h.keyframe?h.keyframe.frame:null}function C(e,t){var r=n(89)["default"],i=R(),o=parseInt(e)/100*i.time+i.delay;return r.setPreviewData(),$.extend(r.move(o,t),b(e,t))}function S(e,t,n,r){h.contrId=t,h.anim=L(t),h.anim.keyframes[e]={frame:n||{},show:!0,active:!r},h.keyframe=h.anim.keyframes[e]}function x(e,t,n,r){var i=void 0,o=void 0;if(r&&$.isEmptyObj(e)&&(!u[d.end]||!u[d.end].contrs||!u[d.end].contrs[t]))return!1;t?((o=L(t,!0)).keyframes[n]||S(n,t,{},!0),i=o.keyframes[n].frame):i=h.keyframe.frame,r?t?o.keyframes[n].frame=e:h.keyframe.frame=e:$.extend(i,e)}function E(e){h.keyframe&&h.keyframe.active&&(h.keyframe.active=!1,e&&z.emitChange())}function P(e,t){t&&t!=h.contrId&&v(),h.keyframe=h.anim.keyframes[e],h.keyframe.active=!0}function T(e){delete h.anim.keyframes[e]}function j(e){h.anim.keyframes[e].frame={}}function I(){var e=$.extend({},f);return u[d.end]&&u[d.end].props&&$.extend(e,u[d.end].props),e}function k(){u[d.end]||(u[d.end]={}),u[d.end].props||(u[d.end].props=$.extend({},f))}function A(e){var t=u[d.end],n=e||{},r=I();if(t&&t.props||(k(),t=u[d.end]),e){for(var i in n)"time"!=i&&"delay"!=i||(n[i]=$.getDecimals(Math.max(n[i],"time"==i?.1:0)));if(t.contrs)for(var o in t.contrs){var a=t.contrs[o].units[0].props,s=$.extend($.extend({},r),a),l=$.extend($.extend({},r),n);$.isUndefined(n.time)||$.isUndefined(a.time)?l.delay==r.delay||$.isUndefined(n.delay)||$.isUndefined(a.delay)||D({delay:Math.max(s.delay+l.delay-r.delay,l.delay)},o,null,!0):l.time>r.time||s.time>.1||.1==s.time&&s.delay==l.delay?D({time:Math.min(l.time-r.time+s.time,l.time)},o,null,!0):.1==s.time&&s.time+s.delay>=l.time+l.delay&&s.delay!=l.delay&&D({delay:Math.max(l.time+l.delay-s.time,l.delay)},o,null,!0)}}else{for(var c in g)if(-1==c.indexOf("_state")){var p=R(c);n.delay=n.delay===undefined?p.delay:Math.min(p.delay,n.delay),n.time=n.time===undefined?p.time+p.delay:Math.max(p.time+p.delay,n.time)}for(var f in n.delay=$.getDecimals(n.delay),n.time=$.getDecimals(n.time-n.delay),g)if(-1==f.indexOf("_state")){var h=t.contrs[f]?t.contrs[f].units[0].props:{};$.isUndefined(h.time)&&D({time:r.time},f,null,!0)}}$.extend(t.props,n)}function D(e,t,n,r){for(var i in e)"time"!=i&&"delay"!=i||(e[i]=$.getDecimals(Math.max(e[i],"time"==i?.1:0)));n&&("0"==e.delay&&(e.time=n),e.delay=$.getDecimals(n-e.time)),t?$.extend(L(t,!0).props,e):$.extend(h.anim.props,e),r||A()}function O(e){for(var t in g)-1==t.indexOf("_state")&&D({easing:e},t)}function M(e,t){e=$.getDecimals(Math.max(e,0)),$.extend(L(t,!0).props,{stateDelay:e})}function L(e,t){if(u&&u[d.end]&&u[d.end].contrs&&u[d.end].contrs[e]&&u[d.end].contrs[e].units){var n=u[d.end].contrs[e].units[0];return $.isUndefined(n.keyframes)&&(n.keyframes={}),$.isUndefined(n.props)&&(n.props={}),n}return t?(N(e),u[d.end].contrs[e].units[0]):U()}function N(e){u[d.end]||(u[d.end]={});var t=u[d.end];t.contrs||(t.contrs={}),t.contrs[e]||(t.contrs[e]={units:[{index:0,props:{},keyframes:{}}]})}function U(e,t){var n={units:[{index:0,props:t||{},keyframes:{}}]},r={};return e&&u&&u[d.end]&&u[d.end].contrs&&(r=u[d.end].contrs[e]),$.extend(!0,n,r)}function R(e){var t=e?U(e).units[0]:h.anim;return $.extend(!0,I(),t.props)}function B(e,t,n){for(var r in g={},t[d.end]){var i=$.filterState(t[d.end][r]),o=$.filterState(t[d.start][r]),s={},l={},c=!1,u=a["default"].getStartEndContrs(r),p=u.start,f=u.end;for(var h in d.reverse&&(p=u.end,f=u.start),i.state&&!$.isPropEqual(p.state,i.state,!0)&&(g[r+"_state"]={start:$.getContrEndState(p),end:$.getContrEndState(i)},n&&V({prop:"state",startContr:p,endContr:i,reverse:!0,startData:s,endData:l})),i)if("state"!=h&&!$.isPropEqual(p[h],i[h])){if(g[r]=!0,!n){c=!0;break}V({prop:h,startContr:p,endContr:i,reverse:!0,startData:s,endData:l})}if(!c)for(var m in o.state&&!$.isPropEqual(o.state,f.state,!0)&&(g[r+"_state"]={start:$.getContrEndState(o),end:$.getContrEndState(f)},n&&V({prop:"state",startContr:o,endContr:f,reverse:!1,startData:s,endData:l})),o)if("state"!=m&&!$.isPropEqual(o[m],f[m],"state"==m)){if(g[r]=!0,!n)break;V({prop:m,startContr:o,endContr:f,reverse:!1,startData:s,endData:l})}n&&((l.isDelete||s.isDelete)&&(l={isDelete:l.isDelete},s={isDelete:s.isDelete}),x(l,r,"0%",!0),x(s,r,"100%",!0))}for(var _ in t[d.start])if(!t[d.end][_]){var v=$.filterState(t[d.start][_]),y={},w={},b=a["default"].getStartEndContrs(_),C=b.end;for(var S in d.reverse&&(C=b.start),v.state&&!$.isPropEqual(v.state,C.state,!0)&&(g[_+"_state"]={start:$.getContrEndState(v),end:$.getContrEndState(C)},n&&V({prop:"state",startContr:v,endContr:C,reverse:!1,startData:y,endData:w})),v)if("state"!=S&&!$.isPropEqual(v[S],C[S])){if(g[_]=!0,!n)break;V({prop:S,startContr:v,endContr:C,reverse:!1,startData:y,endData:w})}n&&((w.isDelete||y.isDelete)&&(w={isDelete:w.isDelete},y={isDelete:y.isDelete}),x(w,_,"0%",!0),x(y,_,"100%",!0))}}function H(e,t,n){var r={},i=e||c,o=$.getContrId(i),a=i.name?i.name:o;if(g[o+"_state"]){var s=void 0,l=R(o).stateDelay;z.setTransition(o,{start:g[o+"_state"].start,end:g[o+"_state"].end,reverse:d.reverse},!0),z.getDisabled()||(s=I(),$.isUndefined(l)||(s.delay=l),t[0]=Math.min(t[0],s.delay),t[1]=Math.max(t[1],s.time+s.delay),r[o+"_state"]=z.getDefalutContrAnim(s),r[o+"_state"].units[0].keyframes["0%"]={state:{startState:g[o+"_state"].start,endState:g[o+"_state"].end}},r[o+"_state"].contrName=a,r[o+"_state"].contrType=i.type),z.setTransition(n,null,!0)}if(g[o]&&(u[d.end]&&u[d.end].contrs&&u[d.end].contrs[o]?r[o]=$.extend(!0,{},u[d.end].contrs[o]):r[o]={"default":!0},r[o].contrName=a,r[o].contrType=i.type),"wrapbox"==i.type)for(var p in i.contrs){var f=H(i.contrs[p],t,n).anims;$.objLength(f)>0&&(r[o]||(r[o]={}),r[o].children||(r[o].children={}),$.extend(r[o].children,f))}return{anims:r,area:t}}function V(e){var t=e.startContr[e.prop],n=e.endContr[e.prop];if("cutVals"==e.prop){var r=e.reverse?n:t;for(var i in t||(t=$.getDefaultCutVals(e.startContr)),n||(n=$.getDefaultCutVals(e.endContr)),r)t[i]!=n[i]&&($.isUndefined(e.startData[e.prop])&&(e.startData[e.prop]={}),$.isUndefined(e.endData[e.prop])&&(e.endData[e.prop]={}),e.startData[e.prop][i]=t[i],e.endData[e.prop][i]=n[i])}else e.reverse?(e.startData[e.prop]=$.isUndefined(t)?null:t,"filter"==e.prop?e.endData[e.prop]=$.extend(!0,$.extend(!0,{},t),n):e.endData[e.prop]=n):(e.endData[e.prop]=$.isUndefined(n)?null:n,"filter"==e.prop?e.startData[e.prop]=$.extend(!0,$.extend(!0,{},n),t):e.startData[e.prop]=t)}function F(e,t){if(e.transition){for(var n in e.transition)n==t&&delete e.transition[n];0===$.objLength(e.transition)&&delete e.transition}if(e.states)for(var r in e.states){var i=e.states[r].transition;if(i){for(var o in i)o==t&&delete i[o];0===$.objLength(i)&&delete e.states[r].transition}}}function q(e,t){var n=$.extend(!0,{},t),r=$.getContrId(e);for(var i in n){var o=n[i];a["default"].getAllValsContr({contrKey:i,parentSaveContrVals:o,parentSaveContrId:r}),a["default"].getAllValsContr({contrKey:i,type:"start",parentSaveContrVals:o,parentSaveContrId:r})}return n}function K(){u[d.end]||(u[d.end]={}),u[d.end].disabled=!u[d.end].disabled}var z=(0,r["default"])({},l.prototype,{setTransition:function(e,t,n){return e=a["default"].getAllValsContr({contrKey:e,changeThisContr:!0}),c=e,d=t||a["default"].getSelectStateInfo(c),u=a["default"].getTransition(a["default"].getContrByAll(e.id?$.getContrId(e):e),d),n||y(),u},getCurData:function(){return{curContr:c,curState:d,curTr:u}},getDisabled:function(){return!(!u||!u[d.end])&&u[d.end].disabled},getCurState:function(){return d},getTrProps:function(){return I()},getDefaultProps:function(){return f},getDefalutContrAnim:function(e){return U(null,e)},getAnimListInfo:function(e){var t=I(),n=H(e||c,[t.delay,t.time+t.delay],c);return p=n.area,{anims:n.anims,trProps:t,area:n.area,disabled:z.getDisabled()}},getTrArea:function(){return p},getEasings:function(){return _},getChangedContrs:function(e){var t={},n=c;return t[d.start]={},t[d.end]={},-1!=d.start&&(t[d.start]=q(n,n.states[d.start].contrs)),-1!=d.end&&(t[d.end]=q(n,n.states[d.end].contrs)),B(0,t,e),z.getAnimListInfo(n)},getChangedContrsData:function(){return g},saveGlobalData:function(){m.changedContrs=$.cObj(g),m.trArea=$.cObj(p)},resetGlobalData:function(){g=$.cObj(m.changedContrs),p=$.cObj(m.trArea)},editFrame:function(e,t,n,r){x(e,t,n,r)},deleteRelativedTr:function(e,t){F(e,t)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].ANIM_CHOOSEANIM:v(e.animId,e.index),z.emitChange();break;case i["default"].ANIM_EDITFRAMEKEY:w(e.prevKey,e.currKey),z.emitChange();break;case i["default"].ANIM_CREATEFRAME:S(e.key,e.contrKey),z.emitChange();break;case i["default"].ANIM_CHOOSEFRAME:P(e.key),z.emitChange();break;case i["default"].ANIM_DELETEFRAME:T(e.key),z.emitChange();break;case i["default"].ANIM_EMPTYFRAME:j(),z.emitChange();break;case i["default"].ANIM_UNSELECTANIM:y(),z.emitChange();break;case i["default"].ANIM_UNSELECTFRAME:E(!0);break;case i["default"].ANIM_EDITTRPROPS:A(e.options,e.trData),z.emitChange();break;case i["default"].ANIM_EDITCONTRPROPS:D(e.options,e.contrId,e.total),z.emitChange();break;case i["default"].ANIM_EDITALLEASING:O(e.easing),z.emitChange();break;case i["default"].ANIM_EDITSTATEDELAY:M(e.delay,e.contrId),z.emitChange();break;case i["default"].ANIM_TOGGLEDISABLED:K(),z.emitChange()}});var W=z;t["default"]=W,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(l,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(c,"curContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(u,"curTr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(d,"curState","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(p,"trArea","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(f,"defaultProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(h,"curInfo","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(g,"changedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(m,"savedData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(_,"easings","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(v,"chooseAnim","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(y,"unselectAnim","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(w,"editFrameKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(b,"getFrameData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(C,"setFrameData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(S,"createFrame","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(x,"editFrame","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(E,"unselectFrame","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(P,"chooseFrame","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(T,"deleteFrame","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(j,"emptyFrame","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(I,"getTrProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(k,"setTrProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(A,"editTrProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(D,"editContrProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(O,"editAllEasing","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(M,"editStateDelay","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(L,"getContrAnim","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(N,"setContrAnim","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(U,"getContrAnimData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(R,"getAnimProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(B,"setChangedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(H,"getAnimList","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(V,"compareProps","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(F,"deleteRelativedTr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(q,"unrepeatedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(K,"toggleDisabled","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(z,"AnimStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),t.register(W,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o=$.getMidPosi?$.getMidPosi():undefined,a=o?{left:o[0],top:o[1],width:o[2],height:o[3]}:undefined,s=(0,r["default"])({},i.prototype,{resetSize:function(){o=$.getMidPosi?$.getMidPosi():undefined,a=o?{left:o[0],top:o[1],width:o[2],height:o[3]}:undefined},getSize:function(){return a},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),l=s;t["default"]=l,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PcMiddleSizeStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PcMiddleSizeStore.js"),t.register(o,"midPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PcMiddleSizeStore.js"),t.register(a,"midleSize","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PcMiddleSizeStore.js"),t.register(s,"PcMiddleSizeStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PcMiddleSizeStore.js"),t.register(l,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PcMiddleSizeStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(68),o={loadNotification:function(e){r["default"].dispatch({actionType:i.a.HEADER_LOADNOTIFI,data:e})}};t["default"]=o},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(45),o=n(11),a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s={isShow:!1,left:0,top:0,text:""};function l(e){s.isShow=e}var c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.moveTipShow=function(e){s.isShow=e,c.emitChange()},t.prototype.moveTipUpdate=function(e){s.isShow&&e.left==s.left&&e.top==s.top&&e.text==s.text||(!function(e){s.left=e.left,s.top=e.top,s.text=e.text}(e),l(!0),c.emitChange())},t.prototype.getMoveTip=function(){return s},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(o.EventEmitter));r["default"].register(function(e){switch(e.actionType){case i.a.MOVETIP_UPDATE:c.moveTipUpdate(e);break;case i.a.MOVETIP_SHOW:e.isShow!=s.isShow&&(l(e.isShow),c.emitChange())}}),t["default"]=c},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,BorderBoxComp=function(_React$Component){function BorderBoxComp(e){(0,_classCallCheck3["default"])(this,BorderBoxComp);var t=(0,_possibleConstructorReturn3["default"])(this,(BorderBoxComp.__proto__||(0,_getPrototypeOf2["default"])(BorderBoxComp)).call(this,e));return t.state={},ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(BorderBoxComp,_React$Component),(0,_createClass3["default"])(BorderBoxComp,[{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"outerBorderBox stretch-wrapper",style:ContrHandle.getStyles({contr:this.props.contr,type:"outerBorderBox",isActivePage:this.props.isActivePage})})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BorderBoxComp}(_react2["default"].Component),_default=BorderBoxComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/OuterBorderBox.react.js"),e.register(BorderBoxComp,"BorderBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/OuterBorderBox.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/OuterBorderBox.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";n.r(t);var r=n(30),i=n.n(r),o=n(25),a=n.n(o),s=n(33),l=n(40),c=n.n(l),u=n(26),d=n.n(u),p=window.$;t["default"]=function(e,t){var r,o=n(3)["default"],l=[],u=o.getSelect();if(!i.a.hasEditNote()||4==e.length&&"note"==e[3][0]&&e[3][1]||i.a.editBlur(),1==e.length){var f=!1;if("table"==e[0].split("_")[0]){var h=n(5)["default"];r=o.getFirstSelectContr();var g=h.getTableData().selectCell;g&&g[0]?(l=[{tabType:"tableCell",isFold:!t,rename:"表格单元"},{tabType:"text"}],f=!0):l=[{tabType:"box",isFold:!t,rename:"表格框体"}]}else if("text"==e[0].split("_")[0]){var m=(r=o.getFirstSelectContr()).isBaseShape?"形状框体":"文字框体";"inputText"==r.baseContrType&&(m="输入框体"),u&&!p.isTextLine(u[0])?l=r.isEdit?[{tabType:"box",isFold:!1,rename:m},{tabType:"text",isFold:!0}]:[{tabType:"box",isFold:!t,rename:m},{tabType:"text"}]:(l=[{tabType:"box",isFold:!t,rename:"线条框体"}],f=!0)}else"hotspot"==e[0].split("_")[0]?(r=o.getFirstSelectContr(),l=[{tabType:"box",isFold:!t,rename:"热区框体"}]):"icon"==e[0].split("_")[0]?l=(r=o.getFirstSelectContr()).isEdit?[{tabType:"box",isFold:!1,rename:"图标框体"},{tabType:"icon",isFold:!t}]:[{tabType:"box",isFold:!t,rename:"图标框体"},{tabType:"icon"}]:"table"==e[0].split("_")[0]?l=(r=o.getFirstSelectContr()).isEdit?[{tabType:"box",isFold:!1,rename:"表格框体"},{tabType:"table",isFold:!t}]:[{tabType:"box",isFold:!t,rename:"表格框体"},{tabType:"table"}]:"image"==e[0].split("_")[0]?(r=o.getFirstSelectContr(),l=p.isDefaultImg(r.src)?[{tabType:"box",isFold:!0,rename:"图片框体"}]:c.a.getCutImageShow()?[{tabType:"box",isFold:!1,rename:"图片框体"},{tabType:"cutImage",isFold:!0}]:[{tabType:"box",isFold:!t,rename:"图片框体"},{tabType:"cutImage"}]):"wrapbox"==e[0].split("_")[0]?l=(r=o.getFirstSelectContr()).isOpen?[{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0}]:[{tabType:"box",isFold:!t,rename:"集合框体"},{tabType:"wrapBox"}]:"symbol"==e[0].split("_")[0]&&(l=d.a.getSymbolMaskShow()&&d.a.getSymbolContrKey()==e[0]?[{tabType:"box",isFold:!1,rename:"引用框体"},{tabType:"symbol",isFold:!0}]:[{tabType:"box",isFold:!t,rename:"引用框体"},{tabType:"symbol"}]);"symbol"!=e[0].split("_")[0]&&l.push({tabType:"event",isFold:"event"==t}),l.push({tabType:"struct"}),f||l.push({tabType:"note"})}else if(0===e.length)l=d.a.getSymbolMaskShow()?[{tabType:"box",isFold:!1,rename:"引用框体"},{tabType:"symbol",isFold:!0},{tabType:"struct"},{tabType:"note"}]:a.a.getIsWrapEdit()&&!a.a.getMergeBoxIn()?[{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0},{tabType:"event"},{tabType:"struct"},{tabType:"note"}]:[{tabType:"struct",isFold:!t},{tabType:"pageSet"},{tabType:"event",isFold:"event"==t,rename:"页面事件"},{tabType:"versionManage"},{tabType:"note"}];else{var _,v;e.forEach(function(e,t){var n=e.split("_")[0];if(0===t)switch(n){case"text":_=!0;break;case"icon":v=!0}else switch(n){case"text":v=!1;break;case"icon":_=!1}}),l=[{tabType:"mutibox",isFold:!0}],_?l.push({tabType:"textEditAll"}):v&&l.push({tabType:"iconEditAll"}),l.push({tabType:"struct"})}s["default"].change(l)}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_SaveDataStore=__webpack_require__(15),_SaveDataStore2=_interopRequireDefault(_SaveDataStore),_ContrActions=__webpack_require__(52),_ContrActions2=_interopRequireDefault(_ContrActions),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_AutoSaveStore=__webpack_require__(66),_AutoSaveStore2=_interopRequireDefault(_AutoSaveStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var textStyle=void 0,TextAreaComp=function(_React$Component){function TextAreaComp(e){(0,_classCallCheck3["default"])(this,TextAreaComp);var t=(0,_possibleConstructorReturn3["default"])(this,(TextAreaComp.__proto__||(0,_getPrototypeOf2["default"])(TextAreaComp)).call(this,e));return t.inputText=null,t.initTextStyle=t.initTextStyle.bind(t),t._change=t._change.bind(t),t._focus=t._focus.bind(t),t._blur=t._blur.bind(t),t._contrAutoRender=t._contrAutoRender.bind(t),t}return(0,_inherits3["default"])(TextAreaComp,_React$Component),(0,_createClass3["default"])(TextAreaComp,[{key:"componentDidMount",value:function(){this._contrAutoRender()}},{key:"initTextStyle",value:function(){var e=this.props.contr,t=e.insetBorder,n=e.fontSize<12?parseFloat(e.fontSize/12).toFixed(2):1;textStyle={letterSpacing:e.adjaceney,fontSize:Math.ceil(Math.max(e.fontSize,12)),lineHeight:10*Math.ceil(e.lineHeight+5)+"%",textIndent:e.indent+"px",WebkitFilter:$.getFilter(e.filter),color:null===e.textColor?"none":e.textColor,textShadow:"0"==e.textShadow?"none":"rgba(0,0,0,0.5) 0px "+e.textShadow+"px "+e.textShadow+"px",width:e.fontSize<12?e.width/n+"px":"100%"},e.fontSize<12&&("vB"!=e.vertical&&(textStyle.transformOrigin="0 0"),textStyle.transform="scale("+n+")","vM"==e.vertical&&(textStyle.transform+=" translateY(-50%)")),t&&t[1]>0&&("vT"==e.vertical||"vB"==e.vertical&&(textStyle.bottom=t[1]),textStyle.width=(e.width-2*t[1])/n),e.fontSize<12&&e.autoW&&delete textStyle.width}},{key:"_change",value:function(e){_ContrActions2["default"].contrUpdate(this.props.contrId,{content:e.currentTarget.value}),setTimeout($.textContentChangeLine,0),window.textEditingContent=e.currentTarget.value}},{key:"_focus",value:function(e){_ContrActions2["default"].contrUpdate(this.props.contrId,{lastContent:this.props.contr.content},!0,!0),this.props.contr.lastContent=this.props.contr.content,e.stopPropagation()}},{key:"_blur",value:function(e){var t=this.props.contr.lastContent||"";if($.trim(String(t))!=$.trim(String(e.currentTarget.value))){var n=_ContrStore2["default"].getSelectContr(),r=this.props.contr.autoW&&""==$.trim(String(e.currentTarget.value));_ContrActions2["default"].contrUpdate(this.props.contrId,{lastContent:null},!0,!0),r&&(_ContrActions2["default"].contrUpdate(this.props.contrId,{content:"文本"}),_ContrStore2["default"].emitMustChange()),_SaveDataStore2["default"].createData({type:"textareaChange",name:"["+(n.length>1?"多个组件":n[0].name)+"] 文字内容改变",handleObjType:n[0].type,autoSaveType:"pageContrs"})}e.stopPropagation(),window.textEditingContent=""}},{key:"_contrAutoRender",value:function(){if(this.inputText&&(this.props.contr.autoW||this.props.contr.autoH)&&0==$(this.inputText).parents(".isC.isStartState").length&&0==$(this.inputText).parents(".isC.isHover").length){var e=this.props.contr,t=e.width,n=e.height,r=e.autoW,i=e.autoH,o=e.insetBorder,a=e.horizontal,s=e.left,l=e.fontSize,c=this.props.parentComp.state.symbolContrKey,u=_AutoSaveStore2["default"].getSymbolSizeData(c),d=u?u.data:{},p=d.width,f=d.height,h=d.left,g=l<12?l/12:1,m=$.isUndefined(p)?t:p,_=$.isUndefined(f)?n:f,v=$.isUndefined(h)?s:h,y=o&&o[1]>0?o[1]:0,w=this.inputText.clientWidth*g+y,b=this.inputText.clientHeight*g+y,C=!1,S={};if(r&&w!=m-y)if(C=!0,"hC"==a){var x=w+y-m;S.width=m+x,S.left=v-x/2}else if("hR"==a){var E=w+y-m;S.width=m+E,S.left=v-E}else S.width=w+y;if(i&&b!=_-y&&(C=!0,S.height=b+y),C){var P=$(this.inputText),T=P.parents(".symbolDiv").length>0,j=P.parents(".isSymbolEdit").length>0;if(T&&!j){var I="";P.parents(".isC").get().reverse().forEach(function(e){I+=(""==I?"":" ")+e.id}),_AutoSaveStore2["default"].saveSymbolSizeData(I,{contrKey:this.props.contrId,data:S}),this.props.parentComp.setState({symbolContrKey:I})}else _ContrStore2["default"].contrUpdate(this.props.contrId,S),_ContrStore2["default"].emitMustChange()}}}},{key:"componentDidUpdate",value:function(){this._contrAutoRender()}},{key:"render",value:function(){var e=this,t=e.props.contr,n=t.content,r=void 0;return e.initTextStyle(),e.props.isActivePage||t.autoW||t.autoH||e.props.isInSymbol?t.isEdit||n?(r=t.isEdit?_react2["default"].createElement("textarea",{ref:"textarea",spellCheck:"false",className:"isEdit",value:n,onChange:e._change,onFocus:e._focus,onBlur:e._blur}):_react2["default"].createElement("div",{ref:"textarea",spellCheck:"false",className:"noSelect",onClick:$.stopPropagation},n),t.autoW&&(textStyle.width="auto"),t.autoH&&(textStyle.height="auto"),_react2["default"].createElement("div",{className:"inputText",style:$.extend(!0,$.extend(!0,{},textStyle),{position:e.props.isActivePage?"absolute":"relative"}),ref:function(t){e.inputText=t}},_react2["default"].createElement("pre",null,_react2["default"].createElement("span",null,n),_react2["default"].createElement("br",null)),r)):null:n?_react2["default"].createElement("p",{className:"inputText"+e.props.alignClass,style:textStyle},n):null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TextAreaComp}(_react2["default"].Component),_default=TextAreaComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(textStyle,"textStyle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextArea.react.js"),e.register(TextAreaComp,"TextAreaComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextArea.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextArea.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(107));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={choosePage:function(e){r["default"].dispatch({actionType:i["default"].VIEW_CHOOSEPAGE,index:e})},changeZoom:function(e){r["default"].dispatch({actionType:i["default"].VIEW_CHANGEZOOM,zoom:e})},zoomOut:function(){r["default"].dispatch({actionType:i["default"].VIEW_ZOOMOUT})},switchMode:function(e){r["default"].dispatch({actionType:i["default"].VIEW_SWITCHMODE,mode:e})},switchToPrevMode:function(){r["default"].dispatch({actionType:i["default"].VIEW_SWITCHTOPREVMODE})},create:function(e){r["default"].dispatch({actionType:i["default"].VIEW_CREATE,options:e})},updateProp:function(e,t){r["default"].dispatch({actionType:i["default"].VIEW_UPDATEPROP,index:e,prop:t})},updateActiveProp:function(e){r["default"].dispatch({actionType:i["default"].VIEW_UPDATEACTIVEPROP,prop:e})},projectWebInit:function(e,t){r["default"].dispatch({actionType:i["default"].VIEW_PROJECTWEBINIT,option:e,addOffLineData:t})},backColorChange:function(e,t){r["default"].dispatch({actionType:i["default"].VIEW_BACKCOLOR,pageId:e,backColor:t})},setViewProp:function(e){r["default"].dispatch({actionType:i["default"].VIEW_SETVIEWPROP,obj:e})},selectChange:function(e){r["default"].dispatch({actionType:i["default"].VIEW_SELECTCHANGE,selectArr:e})},selectAll:function(){r["default"].dispatch({actionType:i["default"].VIEW_SELECTALL})},copyPage:function(){r["default"].dispatch({actionType:i["default"].VIEW_COPYPAGE})},deletePages:function(){r["default"].dispatch({actionType:i["default"].VIEW_DELETEPAGES})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"ViewActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ViewActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ViewActions.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=n(58),l=n(6),c=n.n(l),u=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},p=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={text:n.props.text,value:p.isUndefined(n.props.value)?"":n.props.value},n}return u(t,e),t.prototype.componentWillReceiveProps=function(e){e.text!=this.props.text&&this.setState({text:e.text,value:p.isUndefined(e.value)?"":e.value})},t.prototype.render=function(){var e;return i.a.createElement("div",{id:this.props.id?this.props.id:"",className:a()((e={C_selectBox:!0,blank:this.state.text&&this.props.texts.length<=1||this.props.disabled||0===this.props.texts.length,placeholder:this.props.placeholder&&!this.state.text},e[""+this.props.className]=this.props.className,e[""+this.props.type]=this.props.type,e)),style:{width:this.props.width,maxWidth:this.props.maxWidth},ref:"selectBox","data-text":this.state.text,"data-value":this.state.value,onMouseDown:p.stopPropagation,onClick:this._boxClick,onDoubleClick:p.noop,onMouseEnter:this.enterFirstLi,onMouseLeave:this.leaveFirstLi},i.a.createElement("span",{"data-text":this.state.text,className:this.props.itemClassName},this.state.text||this.props.placeholder))},t.prototype.enterFirstLi=function(e){this.props.selectFirstLi&&this.props.selectFirstLi(e)},t.prototype.leaveFirstLi=function(e){this.props.leaveFirstLi&&this.props.leaveFirstLi(e)},t.prototype._boxClick=function(e){if(!p.hasClass(e.currentTarget,"blank")){var t=this.refs.selectBox,n={target:t,text:this.state.text||"",value:this.state.value,callback:this._chooseCallback,includeSelected:this.props.includeSelected||!1,dropdownBoxWidth:this.props.dropdownW,dropdownClass:this.props.dropdownClass,id:this.props.id,hasSearch:this.props.hasSearch};"simple"==this.props.type?(n.type=this.props.type,n.itemH=24):"white"==this.props.type?(n.type=this.props.type,n.itemH=48):this.props.itemH?n.itemH=this.props.itemH:n.itemH=32,this.props.itemLeft&&(n.dropdownBoxLeft=this.props.itemLeft),n=p.extend({},this.props,n),p.hasClass(t,"on")?s["default"].hide():s["default"].show(n),this.props.click&&this.props.click(),e.stopPropagation()}},t.prototype._chooseCallback=function(e,t,n){var r=this;r.props.popupCallback?r.props.popupCallback(e,t,function(n){n&&r.setState({text:e,value:t})}):r.setState({text:e,value:t}),r.props.callback&&r.props.callback(e,t,n)},d([c.a],t.prototype,"enterFirstLi",null),d([c.a],t.prototype,"leaveFirstLi",null),d([c.a],t.prototype,"_boxClick",null),d([c.a],t.prototype,"_chooseCallback",null),t}(i.a.Component);t["default"]=f},,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(6),a=n.n(o),s=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isDraging:!1},n}return s(t,e),t.prototype._scrollBarMouseDown=function(e){var t=this,n=$.hasClass(e.target,"scrollBar")?e.target.parentNode:e.target;if(t.setState({isDraging:!0}),t.props.isVertical){var r=t.props.boxWidth||350;t.props.changeScrollLeft&&t.props.changeScrollLeft(t.props.maxLength*$.setRegion($.getOffsetPosi(n)[0]-e.clientX+r/2*r/t.props.maxLength,r*r/t.props.maxLength-r,0)/r),$.setDrag({name:"iconScrollBarComp",posi:[e.clientX,e.clientY],target:n,moveFunc:function(e){var i=$.getOffsetPosi(n)[0]-e.clientX+r/2*r/t.props.maxLength,o=r*r/t.props.maxLength-r;t.props.changeScrollLeft&&t.props.changeScrollLeft(t.props.maxLength*$.setRegion(i,o,0)/r)},endFunc:function(){t.setState({isDraging:!1})}})}else{var i=t.props.boxHeight||350;t.props.changeScrollTop&&t.props.changeScrollTop(t.props.maxLength*$.setRegion($.getOffsetPosi(n)[1]-e.clientY+i/2*i/t.props.maxLength,i*i/t.props.maxLength-i,0)/i),$.setDrag({name:"iconScrollBarComp",posi:[e.clientX,e.clientY],target:n,moveFunc:function(e){var r=$.getOffsetPosi(n)[1]-e.clientY+i/2*i/t.props.maxLength,o=i*i/t.props.maxLength-i;t.props.changeScrollTop&&t.props.changeScrollTop(t.props.maxLength*$.setRegion(r,o,0)/i)},endFunc:function(){t.setState({isDraging:!1})}})}e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){if(this.props.isVertical){var e=this.props.boxWidth||350,t={width:e*e/this.props.maxLength,left:-this.props.scrollLeft*e/this.props.maxLength};return this.props.maxLength>e?i.a.createElement("div",{className:"contentBox vertical-scroll"+(this.state.isDraging?" scroll-drag":""),onMouseDown:this._scrollBarMouseDown,onClick:$.stopPropagation},i.a.createElement("div",{className:"scrollBar",style:t,onMouseDown:this._scrollBarMouseDown})):null}var n=this.props.boxHeight||350,r={height:n*n/this.props.maxLength,top:-this.props.scrollTop*n/this.props.maxLength};return this.props.maxLength>n?i.a.createElement("div",{className:"contentBox"+(this.state.isDraging?" scroll-drag":""),onMouseDown:this._scrollBarMouseDown,onClick:$.stopPropagation},i.a.createElement("div",{className:"scrollBar",style:r,onMouseDown:this._scrollBarMouseDown})):null},l([a.a],t.prototype,"_scrollBarMouseDown",null),t}(i.a.Component);t["default"]=c},,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(4),a=n(48),s=n(11),l=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c={isShow:!1,text:""};var u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.getToast=function(){return c},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(s.EventEmitter));o["default"].register(function(e){switch(e.actionType){case a.a.TOAST_SHOW:!function(e,t,n){window.toastTimeout&&clearTimeout(window.toastTimeout);var r=n||4e3;c.isShow=!0,c.text=e,window.toastTimeout=setTimeout(function(){c.isShow=!1,u.emitChange(),clearTimeout(window.toastTimeout),t&&t()},r)}(e.text,e.callback,e.time),u.emitChange()}});var d=u,p=n(6),f=n.n(p),h=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},m=n(87).CSSTransitionGroup,_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,toast:d.getToast()},n}return h(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){d.addChangeListener(this._onToastChange)},t.prototype.componentWillUnmount=function(){d.removeChangeListener(this._onToastChange)},t.prototype._onToastChange=function(){this.setState({renderChange:this.state.renderChange+1,toast:d.getToast()})},t.prototype.render=function(){return i.a.createElement(m,{transitionName:"toast",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.toast.isShow?i.a.createElement("div",{className:"main-fixed-comp toast",id:"toast"},this.state.toast.text):null)},g([f.a],t.prototype,"_onToastChange",null),t}(i.a.Component);t["default"]=_},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(69)),i=d(n(12)),o=d(n(4)),a=d(n(288)),s=(d(n(335)),d(n(306)),d(n(3))),l=d(n(75)),c=d(n(8)),u=d(n(65));function d(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var p=n(10).EventEmitter,f={start:0,total:0,past:0,state:"paused",unitW:0,data:[]},h=new window.TimelineMax({paused:!0,onUpdate:T}),g=void 0,m=void 0,_=void 0,v=void 0;function y(e,t,n,r,i){var o=h,a={},c=r||1,u=l["default"].getTrArea();t?l["default"].setTransition(t,n):o.clear(),l["default"].getChangedContrs(!0);var d=l["default"].getCurData(),p=l["default"].getChangedContrsData();t||(g=d.curContr,_=$.getElById($.getContrId(g)),m=s["default"].getAllValsContr({contrKey:$.getContrId(g),type:"start"}),v=$.getElById("linkLine"),l["default"].saveGlobalData());var w=d.curTr,C=d.curState,S=l["default"].getTrProps(),x=$.isUndefined(i)?0:$.getDecimals(i-S.delay),E=f.past/f.total,P={},T=[];if(l["default"].getDisabled()&&(S.delay=0,S.time=0),!w[C.end])return log("warning"),a;for(var j in w[C.end].contrs)if(p[j]||p[j+"_state"]){var I=s["default"].getStartEndContrs(j),k=I.start,A=I.end,O=w[C.end].contrs[j],M=[],L=[];for(var N in C.reverse&&(k=I.end,A=I.start),O.units[0].keyframes)L.push(N),M[N]=O.units[0].keyframes[N].frame;L=L.sort(function(e,t){return parseInt(e)-parseInt(t)}),P[j]={keyArr:L,keyframes:M,props:O.units[0].props||{},startContr:k,endContr:A}}var U=function(e){var t=$.getElById(e),n=P[e].keyArr,r=P[e].props.time||S.time,i=P[e].props.delay?P[e].props.delay-u[0]:S.delay-u[0]+x,s=P[e].props.easing||S.easing;o.set(t,{x:"+=0"},0),T[e]=[],a[e]||(a[e]={}),a[e+"_start"]||(a[e+"_start"]={}),n.forEach(function(t,o){if(0!==o)for(var l=P[e].keyframes[t],u=$.extend(!0,$.extend(!0,{},P[e].startContr),l),d=o-1;d>=0;d--){var p=P[e].keyframes[n[d]],f=$.extend(!0,$.extend(!0,{},P[e].startContr),p);for(var h in l){if("state"==h){var g=P[e].props.stateDelay;$.extend(!0,a,y(!1,e,{start:$.getContrEndState(u),end:$.getContrEndState(f),reverse:C.reverse},c+1,g))}T[e].push(h),"100%"!=t&&$.isUndefined(P[e].keyframes["100%"][h])&&(P[e].keyframes["100%"][h]=P[e].endContr[h])}a[e][c]={contrId:e,styles:l,curData:u,prevData:f,time:r*(parseInt(t)-parseInt(n[d]))/100,delay:i+parseInt(n[d])/100*r,easing:s}}}),a[e+"_start"][c]={contrId:e,styles:P[e].keyframes["0%"],curData:$.extend(!0,$.extend(!0,{},P[e].endContr),P[e].keyframes["0%"])}};for(var R in P)U(R);if(!t){var B=[],H=[];for(var V in a)for(var F in a[V])-1==V.indexOf("_start")?H=H.concat(b(a[V][F])):B=B.concat(b(a[V][F]));B.forEach(function(e){o.set(e.element,$.extend(!0,"self"==e.type?{transformOrigin:"50% 50%"}:{},e.props),0)}),H.forEach(function(e){var t=e.props;e.start&&o.set(e.element,e.start,e.delay),e.easing&&(t=$.extend(!0,{ease:$.getEasingFuncName(e.easing)},t)),o.to(e.element,e.time,t,e.delay),e.end&&o.set(e.element,e.end)})}if(t)return a;f.start=u[0],f.total=$.getDecimals(u[1]-u[0]),f.state="paused",f.data=T,e&&(f.past=f.total*E,o.progress(E),D.emitChange()),l["default"].resetGlobalData(),l["default"].setTransition($.getContrId(g)),o.progress(C.reverse?1:0)}function w(e){var t={"class":"",stylesArr:["width","height","left","top","rotate"]},n={"class":">.outerBorderBox",stylesArr:["radius","isMaxRadius","width","height","border"]};return{text:{self:t,textBox:{"class":" .contrTextBox",stylesArr:["radius","isMaxRadius","width","height","insetBorder","opacity","backColor","hasBackColor","shadow","isShow","isDelete","vertical","horizontal"]},text:{"class":".inputText",stylesArr:["adjaceney","fontSize","lineHeight","indent","filter","textColor","textShadow","isB","isI","isU","isS"]},content:{"class":" .noSelect",stylesArr:["content"]},contentPre:{"class":" pre span",stylesArr:["content"]},outerBorderBox:n},image:{self:t,borderBox:{"class":" .contrBorder",stylesArr:["radius","isMaxRadius","width","height","insetBorder"]},imgBox:{"class":" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height","opacity","backColor","hasBackColor","shadow","isShow","isDelete"]},outerBorderBox:n,img:{"class":" .cImg",stylesArr:["cutVals","filter"]}},wrapbox:{self:t,borderBox:{"class":">.contrWrapBox>.contrBorder",stylesArr:["radius","isMaxRadius","width","height","insetBorder"]},wrapBox:{"class":">.contrWrapBox",stylesArr:["radius","isMaxRadius","width","height","backColor","hasBackColor","opacity","shadow","independWH","outerHidden","isShow","isDelete"]},outerBorderBox:n},symbol:{self:t,children:{"class":" .contrGroup",stylesArr:["scale"]}},icon:{self:t,icon:{"class":">i",stylesArr:["width","height","iconColor","opacity","isShow","isDelete"]}}}[e]}function b(e){var t={},n=[],i=w(e.contrId.split("_")[0]),o=e.curData,a=$.getContrPosi(o,undefined,!0),s=function(n){i[n].stylesArr.forEach(function(r){$.isUndefined(e.styles[r])||($.isUndefined(t[n])&&(t[n]={element:$.query("#"+e.contrId+i[n]["class"]),process:{},ins:{},startData:{}}),function s(t,n,r){var i=$.styleDict(t);var l=e.styles[t];switch(t){case"textShadow":n.process[i]="rgba(0,0,0,0.5) 0px "+l+"px "+l+"px";break;case"opacity":n.process[i]=l/100;break;case"insetBorder":n.process[i]=l[1]+"px "+$.getBorderStyle("style",l[2])+" "+l[0],"borderBox"==r&&s("radius",n,r);break;case"content":"contentPre"==r?n.ins.content=l:n.ins[i]=l;break;case"vertical":case"horizontal":n.ins[t]=l;break;case"isB":n.ins[i]=l?"bold":"normal";break;case"isI":n.ins[i]=l?"italic":"normal";break;case"isU":n.ins[i]=l?"underline":"none";break;case"isS":n.ins[i]=l?"line-through":"none";break;case"isShow":n.process.opacity=!1===l?0:o.opacity/100;break;case"isDelete":n.process.opacity=l?0:o.opacity/100;break;case"border":"outerBorderBox"==r?(n.process.border=o.border&&null!==(o.border&&o.border[0])?Math.ceil(o.border[1])+"px "+$.getBorderStyle("style",o.border[2])+" "+o.border[0]:"none",n.process.left=-Math.ceil(o.border[1]),n.process.top=-Math.ceil(o.border[1])):s("shadow",n,r);break;case"shadow":if(!n.process[i]){var c="";!o.border&&"table"!=o.type||$.isUndefined(o.shadow)||"0"==o.shadow||(c=$.isArray(o.shadow)?o.shadow[0]+"px "+o.shadow[1]+"px "+o.shadow[2]+"px "+o.shadow[3]+"px "+o.shadow[4]+(o.shadow[5]?" inset":""):"0px "+o.shadow+"px "+o.shadow+"px "+(o.border&&o.border[1]?o.border[1]:0)+"px rgba(0,0,0,0.5)"),n.process[i]=c?""+c:"none"}break;case"rotate":n.process[i]=l,s("left",n,r),s("top",n,r);break;case"cutVals":$.extend(!0,n.process,{width:l.boxWidth,height:l.boxHeight,left:l.boxLeft,top:l.boxTop});break;case"filter":n.process.webkitFilter=$.getFilter(l),n.process.filter=$.getFilter(l);break;case"radius":case"isMaxRadius":n.process[i]||("outerBorderBox"==r&&o.border[1]?n.process[i]=o.isMaxRadius?Math.ceil(Math.min(o.width,o.height)/2)+$.getRadiusAddValue(o.radius,o.border[1]):$.isArray(o.radius)?o.radius.map(function(e){return Math.ceil(e)+$.getRadiusAddValue(e,o.border[1])+"px"}).join(" "):Math.ceil(o.radius)+$.getRadiusAddValue(o.radius,o.border[1]):n.process[i]=o.isMaxRadius?Math.ceil(Math.min(o.width,o.height)/2):$.isArray(o.radius)?o.radius.map(function(e){return e+"px"}).join(" "):Math.ceil(o.radius));break;case"backColor":case"hasBackColor":n.process[i]||(n.process[i]=o.hasBackColor?o.backColor:"transparent");break;case"left":a||(a=$.getContrPosi(o,undefined,!0)),$.isUndefined(n.process[i])&&(n.process[i]=a.left+a.width/2-o.width/2);break;case"top":a||(a=$.getContrPosi(o,undefined,!0)),$.isUndefined(n.process[i])&&(n.process[i]=a.top+a.height/2-o.height/2);break;case"width":case"height":if("icon"==r){if($.isUndefined(n.process.fontSize)){var u=1,d=1;n.process.fontSize=Math.max(Math.max(o.width,o.height),12),o.width!=o.height&&(o.width>o.height?d=o.height/o.width:u=o.width/o.height),n.process.transform=1!=u||1!=d?(1!=u?"scaleX("+u+")":"")+(1!=d?" scaleY("+d+")":""):"none"}}else"self"!=r?(s("radius",n,r),"textBox"==r&&(n.process[i]=l)):n.process[i]=l;break;case"fontSize":l<12&&(n.ins.width="100%",n.ins.scale=1,"vM"==o.vertical?n.ins.y="-50%":n.ins.y=0,l=Math.max(l,12)),n.process[i]=l;break;case"independWH":case"outerHidden":n.process.overflow=!o.independWH&&o.outerHidden?"hidden":"visible";break;case"scale":n.process.transform="scale("+l/10+")";break;default:n.process[i]=l}}(r,t[n],n))})};for(var l in i)s(l);var c=function(i){if((0,r["default"])(t[i].process).length>0&&t[i].element){var o={},a={};n.push({element:t[i].element,props:t[i].process,time:e.time,delay:e.delay,start:0!==$.objLength(o)&&o,end:0!==$.objLength(a)&&a,easing:e.easing,type:i})}if((0,r["default"])(t[i].ins).length>0&&t[i].element){if("textBox"==i){var s="";[["horizontal",t[i].ins.horizontal],["vertical",t[i].ins.vertical]].forEach(function(e){$.isUndefined(t[i].ins[e[0]])||(s+=(""!==s?" ":"")+e[1],delete t[i].ins[e[0]])}),""!==s&&(e.prevData?t[i].ins.className="+="+s:t[i].ins.className="-="+s)}n.push({element:t[i].element,props:t[i].ins,time:0,delay:e.delay,type:i})}};for(var u in t)c(u);return n}function C(e,t,n){var r=$.styleDict(e);switch(e){case"width":case"height":case"left":case"top":case"radius":return parseFloat(t[r]);case"rotate":return n._gsTransform.rotation;case"shadow":return parseFloat(t[r].split(")")[1].split(" ")[2]);case"opacity":return 100*parseFloat(t[r]);case"backColor":return $.RGBToRGBA(t[r]);case"insetBorder":case"border":return[$.RGBToRGBA(t["border-color"]),parseFloat(t["border-width"])];case"adjaceney":case"textColor":case"fontSize":case"lineHeight":case"indent":return t[r];case"textShadow":return parseFloat(t[r].split(")")[1].split(" ")[2]);case"content":return n.value}}function S(e,t,n){var r=(e-f.start)/f.total;r=$.setRegion(r,0,1),h.progress(r),f.unitW=n}function x(e,t){h.progress(e?1:0),"preview"!=c["default"].getViewMode()&&$.removeClass($.getElById("phoneConWrapBox"),"preview"),t&&D.emitChange()}function E(e){s["default"].initAllValsContrs(),c["default"].switchMode("preview"),setTimeout(function(){y(),f.unitW=e,P()},0)}function P(e){1!=h.progress()?h.resume():h.restart(),u["default"].correctRange({type:"preview",previewArea:l["default"].getTrArea(),transX:D.getTransX()}),f.state="running",e&&D.emitChange()}function T(){g.isStateContrast&&v&&j(),f.past=h.time(),0!==h.progress()&&1!==h.progress()||I(),D.emitChange()}function j(){var e=$.getCssPosi(_),t=$.getContrPosi(m),n=e[0],r=e[1],i=e[2],o=e[3],a={sX:t.left+t.width/2,sY:t.top+t.height/2,eX:n+i/2,eY:r+o/2},s=Math.abs(a.sX-a.eX),l=Math.abs(a.sY-a.eY),c=Math.sqrt(s*s+l*l),u=$.getAngle(a.sX,a.sY,a.eX,a.eY,!0);v.style.transform="rotate("+u+"deg)",v.style.width=c+"px"}function I(){h.pause(),f.state="paused",D.emitChange()}function k(){h.restart(),f.state="running"}function A(){var e=u["default"].getReverse();s["default"].initAllValsContrs(),h.progress(e?1:0),c["default"].switchMode("normal")}window.TweenLite.defaultEase=window.Linear.easeNone;var D=(0,i["default"])({},p.prototype,{setPreviewData:function(e){y(e)},resetLinkLine:function(){g=$.isInState(s["default"].getFirstSelectContr(),undefined,!0)||s["default"].getFirstSelectContr(),m=s["default"].getAllValsContr({contrKey:g,type:"start"}),_=$.getElById(g.type+"_"+g.id),j()},getTransX:function(e,t,n){return t?e?t[1]*n:t[0]*n:(h.time()+f.start)*f.unitW},exit:function(){A()},move:function(e,t,n){return S(e,0,n)},reload:function(){h.progress(0)},getPreviewInfo:function(){return f},getPreviewState:function(){return f.state},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case a["default"].PREVIEW_SETPREVIEWDATA:y(e.time);break;case a["default"].PREVIEW_MOVE:S(e.time,e.contrId,e.unitW);break;case a["default"].PREVIEW_STOP:x(e.reverse);break;case a["default"].PREVIEW_PAUSE:I();break;case a["default"].PREVIEW_PLAY:P(!0);break;case a["default"].PREVIEW_EXIT:A();break;case a["default"].PREVIEW_PREVIEW:E(e.unitW),D.emitChange();break;case a["default"].PREVIEW_SETUNITW:f.unitW=e.unitW,D.emitChange();break;case a["default"].PREVIEW_RESTART:k()}});var O=D;t["default"]=O,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(p,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(f,"previewInfo","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(h,"timeline","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(g,"curContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(m,"startContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(_,"target","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(v,"linkLine","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(y,"setPreviewData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(w,"getStyleCategory","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(b,"dataToStyle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(C,"styleToData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(S,"move","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(x,"stop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(E,"preview","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(P,"play","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(T,"progressUpdate","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(j,"setLinkLine","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(I,"pause","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(k,"restart","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(A,"exit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(D,"PreviewStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),t.register(O,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PreviewStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";var r=n(4),i=n(14),o=new(function(){function e(){this.DiscussActionID=i.a}return e.prototype.discussAdd=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_ADD,discuss:e})},e.prototype.discussDelete=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_DELETE,id:e})},e.prototype.discussIsDone=function(e,t){r["default"].dispatch({actionType:i.a.DISCUSS_DONE,id:e,isDone:t})},e.prototype.discussIsDoneShow=function(e,t){r["default"].dispatch({actionType:i.a.DISCUSS_DONESHOW,id:e,isDoneShow:t})},e.prototype.discussReplyHide=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_REPLYHIDE,id:e,isReplyHide:!1})},e.prototype.discussChangeReplyHide=function(e,t){r["default"].dispatch({actionType:i.a.DISCUSS_CHANGE_REPLYHIDE,id:e,isReplyHide:t})},e.prototype.discussChangeContent=function(e,t){r["default"].dispatch({actionType:i.a.DISCUSS_CHANGECONTENT,id:e,content:t})},e.prototype.editChangeState=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_INITEDITSTATE,editData:e})},e.prototype.setEditDotData=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_DOTCREATESTATE,editDotData:e})},e.prototype.setScrollTop=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_SCROLLTOP,scrollTop:e})},e.prototype.initListByServer=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_SETDISCUSSLIST,discussList:e})},e.prototype.setSolvedNick=function(e,t){r["default"].dispatch({actionType:i.a.DISCUSS_SETSOLVEDNICK,id:e,doneUser:t})},e.prototype.setEditState=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_EDITSTATE,editState:e})},e.prototype.discussChangePoint=function(e,t){r["default"].dispatch({actionType:i.a.DISCUSS_CHANGEPOINT,id:e,point:t})},e.prototype.setPageId=function(e){r["default"].dispatch({actionType:i.a.DISCUSS_SETPAGEID,currentPageId:e})},e}());t.a=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(101));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={init:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_INIT,myImageLib:e,isDownload:t})},initPublic:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_PUBLICINIT,publicImageLib:e,isDownload:t})},add:function(e){r["default"].dispatch({actionType:i["default"].IMAGELIB_ADD,imageLib:e})},addImage:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_ADDIMAGE,id:e,image:t})},addHistoryImage:function(e){r["default"].dispatch({actionType:i["default"].IMAGELIB_ADDHISTORYIMAGE,image:e})},updateImage:function(e,t,n){r["default"].dispatch({actionType:i["default"].IMAGELIB_UPDATEIMAGE,id:e,imageId:t,image:n})},deleteImage:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_DELIMAGE,imageId:e,imageLibId:t})},deleteHistoryImage:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_DELHISTORYIMAGE,id:e,key:t})},changeScrollTop:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_SCROLLTOP,imageLibId:e,scrollTop:t})},concatImageLibs:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_CONCAT,thisId:e,otherId:t})},"delete":function(e){r["default"].dispatch({actionType:i["default"].IMAGELIB_DELETE,imageLibId:e})},edit:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_EDIT,name:e,imageLibId:t})},changeEdit:function(e,t){r["default"].dispatch({actionType:i["default"].IMAGELIB_CHANGEEDIT,imageLibId:e,isEdit:t})},openChange:function(e){r["default"].dispatch({actionType:i["default"].IMAGELIB_OPENCHANGE,option:e})},libsManage:function(e){r["default"].dispatch({actionType:i["default"].IMAGELIB_LIBSMANAGE,options:e})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"ImageLibActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ImageLibActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ImageLibActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(37)),o=a(n(25));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={redLineX:[],redLineY:[]},c={},u=(0,r["default"])({},s.prototype,{getRedLineObj:function(){return l},initDragOption:function(e){var t=n(3)["default"],r=n(8)["default"],a=t.getFirstSelectContr(),s=t.getSelect(),l=r.getActiveMainbox();(c=$.extend({contrs:null,dragPointKey:null,isWrapBox:!1,minWHarr:[1,1],minSize:3,parentPosi:[0,0],isMergeIn:o["default"].getMergeBoxIn(),isWrapEdit:o["default"].getIsWrapEdit(),isRotate:"0"!=a.rotate,viewMode:r.getViewMode()},e)).isMergeIn||(c.thisGuideLineX=i["default"].getPageTypeLine(l.props.page.key,"x"),c.thisGuideLineY=i["default"].getPageTypeLine(l.props.page.key,"y")),c.isWrapEdit&&!c.isWrapBox&&o["default"].getContrList().forEach(function(e){e=t.getAllValsContr({contrKey:e}),c.parentPosi[0]+=e.left,c.parentPosi[1]+=e.top}),1==s.length&&a.isOpt&&a.isStateContrast&&c.contrs.push(t.getAllValsContr({contrKey:a,type:"start"})),c.contrs=c.contrs.map(function(e){var n=e;return $.getContrId(e)!==$.getContrId(a)&&(n=t.getAllValsContr({contrKey:e})),$.isDependBottomContr(n)&&((n=$.extend(!0,{},n)).top+=$.getDependBottomVal()),$.isSymbolContr(n)&&((n=$.extend(!0,{},n)).width*=n.scale/10,n.height*=n.scale/10),n})},getDragOption:function(){return c},init:function(){0===l.redLineX.length&&0===l.redLineY.length||(l={redLineX:[],redLineY:[]},[].slice.call(window.document.querySelectorAll(".redLineC")).forEach(function(e){$.removeClass(e,"redLineC")}),u.emitChange())},change:function(e,t){$.checkArrayEqual(l.redLineX,e.redLineX)&&$.checkArrayEqual(l.redLineY,e.redLineY)||(l=$.extend(!0,{},e),t&&t(),u.emitChange())},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),d=u;t["default"]=d,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RedLineStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RedLineStore.js"),t.register(l,"redLineObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RedLineStore.js"),t.register(c,"dragOption","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RedLineStore.js"),t.register(u,"RedLineStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RedLineStore.js"),t.register(d,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RedLineStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={notification:{data:[],isDownload:!1},cooperation:{}},a=(0,r["default"])({},i.prototype,{getListData:function(){return o},loadNotification:function(e,t){o.notification.data=e,o.notification.isDownload=!0,t||a.emitChange()},setCooperation:function(e,t){o.cooperation=e,window.hasOtherPeople=o.cooperation.list.length>1,t||a.emitCooperationChange()},getCooperation:function(){return o.cooperation},getIsDownLoad:function(e){return o[e].isDownload},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitCooperationChange:function(){this.emit("cooperationChange")},addCooperationChangeListener:function(e){this.on("cooperationChange",e)},removeCooperationChangeListener:function(e){this.removeListener("cooperationChange",e)}}),s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderStore.js"),t.register("cooperationChange","COOPERATION_CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderStore.js"),t.register(o,"listData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderStore.js"),t.register(a,"HeaderStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderStore.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/HeaderStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o=(0,r["default"])({},i.prototype,{emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),a=o;t["default"]=a,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/StructStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/StructStore.js"),t.register(o,"StructStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/StructStore.js"),t.register(a,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/StructStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(17)),i=s(n(326)),o=s(n(77)),a=s(n(7));function s(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var l=void 0;if(!l){var c=[];window.versionKey&&c.push("versionKey="+window.versionKey),window.pageIndexKey&&c.push("pageIndexKey="+window.pageIndexKey),l=(0,i["default"])(c.length>0?{query:c.join("&")}:undefined)}window.noLogin||window.isPrototypeTool||l.on("notification",function(){r["default"].post(window.hostUrl+"/user/noReadNotification").send({}).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){0==t.body.code?o["default"].loadNotification(t.body.data):a["default"].show(t.body.msg)})});var u=l;t["default"]=u,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(l,"socket","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/socket/userSocket.js"),t.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/socket/userSocket.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(17)),i=l(n(0)),o=l(n(95)),a=l(n(7)),s=l(n(13));function l(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var c={isOtherEditing:function(e){var t=n(147)["default"].getChoosePageUser(),r=!1;return t&&e.some(function(e){return!!t[e]&&(r=!0,!0)}),!!r&&(setTimeout(function(){a["default"].show("不能删除其他人正在操作的页面")},0),!0)},choosePageSocket:function(e,t){var r=n(8)["default"],i=n(3)["default"],s=n(93)["default"],l=i.getSelect(),c=t||r.getProid(),u=e||r.getActivePage(),d=s.getCooperation().list;if(d&&d.length>1){var p=r.getVersionSet().activeKey;o["default"].emit("choosePage",{proid:c,pageKey:u,versionKey:p,select:l},function(e){e&&0==e.code||a["default"].show(e&&e.msg?e.msg:"err")})}},saveErrorPopup:function(){s["default"].init({width:640,title:"网络连接失败",submitBtnName:"刷新",content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("span",{className:"popup-item-title"},"网络连接不通畅，您当前的操作可能无法被保存，建议刷新后使用。")),submitBtnFunc:function(){window.location.reload()}})},isOffLine:function(e){o["default"].emit("autoSave",{isOffLine:!0},function(t){e.callback(t)})},post:function(e){var t=n(3)["default"],r=n(8)["default"],l=r.getVersionSet().activeKey,c=t.getSelect(),u=r.getActivePage();if(u||(u=undefined),"true"==$.getUrlParam("numsTest")){var d=t.getNums();for(var p in d)d[p]>1e3&&(s["default"].init({width:640,title:"id数据异常！！！",submitBtnName:"我知道了",noCancel:!0,content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("span",null,"项目数据异常，请停止操作！"))}),console.log(d[p],p),console.log(e.data,"_option.data"),console.log(t.getContrs(),"getContrs"),console.log(t.getSymbolContr(),"getSymbolContr"))}log&&(log(e.data,"_option.data"),log(t.getContrs(),"getContrs"),log(t.getSymbolContr(),"getSymbolContr")),o["default"].emit("autoSave",{proid:e.proid,lastSaveKey:e.lastSaveKey,data:e.data,pageIndexKey:e.pageIndexKey,pageNum:r.getStructPagesLength(),name:e.name,versionKey:l,activePage:u,select:c},function(t){e.callback(t),0!==t.code&&3!==t.code?a["default"].show(t.msg):3===t.code&&log(t.msg)})},getSaveKey:function(e){var t=n(8)["default"].getVersionSet().activeKey;r["default"].post("/project/getSaveKey").send({proid:e.proid,lastSaveKey:e.lastSaveKey,versionKey:t}).set("X-API-Key","foobar").set("Accept","application/json").end(function(t,n){var r=n.body;e.callback(r)})},offLinePopup:function(){s["default"].init({width:640,title:"网络连接失败",submitBtnName:"我知道了",noCancel:!0,content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("span",null,"网络连接不通畅，已改为离线保存，待网络连接恢复后自动上传至云端。"))})},otherDeleteActivePage:function(e){var t=function(){setTimeout(function(){$.getElById("toMutiviewBtn").click(),s["default"].hide()},0)};s["default"].init({width:640,title:"当前页被他人删除",submitBtnName:"多视图",noCancel:!0,content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("span",null,"协同用户 [",i["default"].createElement("span",{className:"redspan"},e.nickName),"]，删除了你当前操作的页面，前往多视图选择其他页面")),submitBtnFunc:function(){t()},closeBtnFunc:function(){t()}})}},u=c;t["default"]=u,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(c,"AutoSaveHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/AutoSaveHandle.js"),t.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/AutoSaveHandle.js"),r(e))}()}).call(this,n(2)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var startPosi=void 0,endPosi=void 0,oldStartPosi=void 0,oldEndPosi=void 0,LinkLineComp=function(_React$Component){function LinkLineComp(e){(0,_classCallCheck3["default"])(this,LinkLineComp),startPosi=oldStartPosi=$.getContrPosi(e.start),endPosi=oldEndPosi=$.getContrPosi(e.end),$.isDependBottomContr(e.start)&&(startPosi.top+=$.getDependBottomVal()),$.isDependBottomContr(e.end)&&(endPosi.top+=$.getDependBottomVal());var t=(0,_possibleConstructorReturn3["default"])(this,(LinkLineComp.__proto__||(0,_getPrototypeOf2["default"])(LinkLineComp)).call(this,e));return t.state={},t}return(0,_inherits3["default"])(LinkLineComp,_React$Component),(0,_createClass3["default"])(LinkLineComp,[{key:"shouldComponentUpdate",value:function(e){return startPosi=$.getContrPosi(e.start),endPosi=$.getContrPosi(e.end),$.isDependBottomContr(e.start)&&(startPosi.top+=$.getDependBottomVal()),$.isDependBottomContr(e.end)&&(endPosi.top+=$.getDependBottomVal()),(!oldStartPosi||startPosi.left!=oldStartPosi.left||startPosi.top!=oldStartPosi.top||startPosi.width!=oldStartPosi.width||startPosi.height!=oldStartPosi.height||!oldEndPosi||endPosi.left!=oldEndPosi.left||endPosi.top!=oldEndPosi.top||endPosi.width!=oldEndPosi.width||endPosi.height!=oldEndPosi.height)&&(oldStartPosi=$.extend(!0,{},startPosi),oldEndPosi=$.extend(!0,{},endPosi),!0)}},{key:"render",value:function(){var e={sX:startPosi.left+startPosi.width/2,sY:startPosi.top+startPosi.height/2,eX:endPosi.left+endPosi.width/2,eY:endPosi.top+endPosi.height/2},t=Math.abs(e.sX-e.eX),n=Math.abs(e.sY-e.eY),r=Math.sqrt(t*t+n*n),i=$.getAngle(e.sX,e.sY,e.eX,e.eY,!0),o={left:e.sX,top:e.sY,transform:"rotate("+i+"deg)",width:r+"px"};return _react2["default"].createElement("div",{id:"linkLine",className:"link-line",style:o})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LinkLineComp}(_react2["default"].Component),_default=LinkLineComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(startPosi,"startPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),e.register(endPosi,"endPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),e.register(oldStartPosi,"oldStartPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),e.register(oldEndPosi,"oldEndPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),e.register(LinkLineComp,"LinkLineComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({RIGHTLABEL_CHANGE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/RightLabelConstants.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({PAGELIB_INIT:null,PAGELIB_ADD:null,PAGELIB_DELETE:null,PAGELIB_EDIT:null,PAGELIB_CHANGEEDIT:null,PAGELIB_ADDPAGE:null,PAGELIB_DELPAGE:null,PAGELIB_SCROLLTOP:null,PAGELIB_CONCAT:null,PAGELIB_UPDATEPAGE:null,PAGELIB_INITPUBLIC:null,PAGELIB_OPENCHANGE:null,PAGELIB_LIBSMANAGE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PageLibConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({IMAGELIB_INIT:null,IMAGELIB_PUBLICINIT:null,IMAGELIB_ADD:null,IMAGELIB_DELETE:null,IMAGELIB_EDIT:null,IMAGELIB_CHANGEEDIT:null,IMAGELIB_ADDIMAGE:null,IMAGELIB_DELIMAGE:null,IMAGELIB_ADDHISTORYIMAGE:null,IMAGELIB_DELHISTORYIMAGE:null,IMAGELIB_SCROLLTOP:null,IMAGELIB_CONCAT:null,IMAGELIB_UPDATEIMAGE:null,IMAGELIB_OPENCHANGE:null,IMAGELIB_LIBSMANAGE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ImageLibConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({ANIMLINE_SHOW:null,ANIMLINE_MOVE:null,ANIMLINE_HIDE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/AnimLineConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({RIGHTMENU_UPDATE:null,RIGHTMENU_SHOW:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/RightMenuConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({ANIM_CHOOSEANIM:null,ANIM_UNSELECTANIM:null,ANIM_UNSELECTFRAME:null,ANIM_DELETEANIM:null,ANIM_INITFRAMES:null,ANIM_EDITFRAMEKEY:null,ANIM_INTOKEYFRAME:null,ANIM_EXITKEYFRAME:null,ANIM_CREATEFRAME:null,ANIM_CHOOSEFRAME:null,ANIM_DELETEFRAME:null,ANIM_EMPTYFRAME:null,ANIM_EDITTRPROPS:null,ANIM_EDITCONTRPROPS:null,ANIM_EDITALLEASING:null,ANIM_EDITSTATEDELAY:null,ANIM_TOGGLEDISABLED:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/AnimConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({DRAGCONTR_INIT:null,DRAGCONTR_SHOW:null,DRAGCONTR_MOVE:null,DRAGCONTR_ADD:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/DragContrConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({PHONECONBOX_MOVE:null,PHONECONBOX_OPTIMIZATIONOFF:null,PHONECONBOX_OPTIMIZATIONON:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PhoneConBoxConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({VIEW_CHOOSEPAGE:null,VIEW_ZOOMOUT:null,VIEW_CREATE:null,VIEW_UPDATEPROP:null,VIEW_SWITCHMODE:null,VIEW_SWITCHTOPREVMODE:null,VIEW_PROJECTWEBINIT:null,VIEW_CHANGEZOOM:null,VIEW_BACKCOLOR:null,VIEW_SETVIEWPROP:null,VIEW_UPDATEACTIVEPROP:null,VIEW_SELECTCHANGE:null,VIEW_SELECTALL:null,VIEW_COPYPAGE:null,VIEW_DELETEPAGES:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ViewConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({CONTR_CREATETEXT:null,CONTR_CREATEHOTSPOT:null,CONTR_CREATEICON:null,CONTR_CREATEIMAGE:null,CONTR_CREATEWRAP:null,CONTR_KEYMOVE:null,CONTR_MOVE:null,CONTR_POSI:null,CONTR_SELECTCHANGE:null,CONTR_UPDATE:null,CONTR_ALLUPDATE:null,CONTR_DELETESELECT:null,CONTR_SELECTALL:null,CONTR_PASTE:null,CONTR_RESOLVE:null,CONTR_SAVEMERGE:null,CONTR_BACKMERGE:null,CONTR_IMPORTPAGE:null,CONTR_FILTERCHANGE:null,CONTR_CREATESTATE:null,CONTR_SELECTSTATE:null,CONTR_EDITSTATE:null,CONTR_REWHPROP:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ContrConstants.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(13),a=n(44),s=n(6),l=n.n(s),c=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,popup:a["default"].getPopup()},n}return c(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){a["default"].addChangeListener(this._onPopupChange)},t.prototype.componentWillUnmount=function(){a["default"].removeChangeListener(this._onPopupChange)},t.prototype._onPopupChange=function(){this.setState({renderChange:this.state.renderChange+1,popup:a["default"].getPopup()})},t.prototype._closeBtnClick=function(){this.state.popup.closeBtnFunc?this.state.popup.closeBtnFunc(function(){o["default"].hide()}):this.state.popup.cancelBtnFunc?this.state.popup.cancelBtnFunc(function(){o["default"].hide()}):o["default"].hide()},t.prototype._cencelBtnClick=function(){this.state.popup.cancelBtnFunc?this.state.popup.cancelBtnFunc(function(){o["default"].hide()}):o["default"].hide()},t.prototype._submitBtnClick=function(){this.state.popup.submitBtnFunc?this.state.popup.submitBtnFunc(function(){o["default"].hide()}):o["default"].hide()},t.prototype.render=function(){if(!this.state.popup.isShow)return null;$.isRender("main")&&Window.log("PopupRender");var e={width:this.state.popup.width};return this.state.popup.maxZindex&&(e.top=-1),i.a.createElement("div",{className:"main-fixed-comp popup-mask",style:this.state.popup.maxZindex?{zIndex:1e7}:{}},i.a.createElement("div",{className:"popup"+(this.state.popup.noBottom?" no-bottom":"")+" "+this.state.popup.type,style:e},i.a.createElement("div",{className:"popup-title"},this.state.popup.title,i.a.createElement("div",{className:"popup-close-btn base-img",onClick:this._closeBtnClick})),this.state.popup.content,this.state.popup.noBottom?undefined:i.a.createElement("div",{className:"popup-bottom"},this.state.popup.bottomContent,this.state.popup.noSubmit?undefined:i.a.createElement("a",{className:"base-btn small submit-btn",onClick:this._submitBtnClick},this.state.popup.submitBtnName),this.state.popup.noCancel?undefined:i.a.createElement("a",{className:"base-btn gray small",onClick:this._cencelBtnClick},this.state.popup.cancelBtnName))))},u([l.a],t.prototype,"_onPopupChange",null),u([l.a],t.prototype,"_closeBtnClick",null),u([l.a],t.prototype,"_cencelBtnClick",null),u([l.a],t.prototype,"_submitBtnClick",null),t}(i.a.Component);t["default"]=d},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(86),a=n(57),s=n(58),l=n(6),c=n.n(l),u=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=0,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,box:a.a.getBox(),searchVal:"",scrollTop:0},n}return u(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){a.a.addChangeListener(this._onDropdownBoxChange)},t.prototype.componentWillUnmount=function(){a.a.removeChangeListener(this._onDropdownBoxChange)},t.prototype.componentDidUpdate=function(){var e=$("#dropdownBoxSearch");e.length>0&&!e.is(":focus")&&e.focus()},t.prototype._onDropdownBoxChange=function(){this.setState({renderChange:this.state.renderChange+1,box:a.a.getBox(),scrollTop:0,searchVal:""})},t.prototype._searchChange=function(e){this.setState({renderChange:this.state.renderChange+1,scrollTop:0,searchVal:e.currentTarget.value})},t.prototype.render=function(){if(!this.state.box.show)return null;$.isRender("main")&&Window.log("DropdownBoxRender");var e,t,n=this,r=n.state,a=r.searchVal,s=r.box,l=[],c={};return s.values.length>=10&&(e=i.a.createElement("div",{className:"drop-box-search"},i.a.createElement("input",{id:"dropdownBoxSearch",value:a,placeholder:"搜索...",onChange:n._searchChange}),i.a.createElement("i",{className:"search-icon"}))),f=0,s.values.forEach(function(t,r){if(s.includeSelected||t!=s.value){var o=a&&$.searchIn(a,s.texts[r]);if(e&&a&&!o)return;var c=t==s.value;f+=s.itemH,l.push(i.a.createElement("li",{key:t,className:(c?"active":"")+" "+s.itemClassName,onClick:c?$.noop:n._choose,onMouseEnter:n._mouseEnter,onMouseLeave:n._mouseLeave,"data-text":s.texts[r],"data-value":t,dangerouslySetInnerHTML:{__html:o||s.texts[r]}}))}}),f>s.maxH&&(t=i.a.createElement(o["default"],d({},{boxHeight:s.maxH+(s?32:0),maxLength:f,scrollTop:n.state.scrollTop,changeScrollTop:n._changeScrollTop})),c={onWheel:n._boxWheel}),i.a.createElement("div",d({className:"main-fixed-comp dropdownBox "+s.type+" "+(s.dropdownClass?s.dropdownClass:"")+(e?" drop-has-search":""),style:s.styles},c),e,i.a.createElement("ul",{style:{marginTop:n.state.scrollTop}},l),t)},t.prototype._changeScrollTop=function(e){this.state.scrollTop!=e&&this.setState({renderChange:this.state.renderChange+1,scrollTop:e})},t.prototype._boxWheel=function(e){var t=this.state.box,n=$.setRegion((this.state.scrollTop?this.state.scrollTop:0)-e.deltaY,t.maxH-f,0);this.state.scrollTop!=n&&this.setState({renderChange:this.state.renderChange+1,scrollTop:n}),0!==n&&n!=t.maxH-f&&e.preventDefault()},t.prototype._choose=function(e){this.state.box.callback&&this.state.box.callback(e.currentTarget.getAttribute("data-text"),e.currentTarget.getAttribute("data-value"),e),s["default"].hide(),e.stopPropagation()},t.prototype._mouseEnter=function(e){this.state.box.mouseEnter&&this.state.box.mouseEnter(e.currentTarget.getAttribute("data-text"),e.currentTarget.getAttribute("data-value"),e),e.stopPropagation()},t.prototype._mouseLeave=function(e){this.state.box.mouseLeave&&this.state.box.mouseLeave(e.currentTarget.getAttribute("data-text"),e.currentTarget.getAttribute("data-value"),e),e.stopPropagation()},p([c.a],t.prototype,"_onDropdownBoxChange",null),p([c.a],t.prototype,"_searchChange",null),p([c.a],t.prototype,"_changeScrollTop",null),p([c.a],t.prototype,"_boxWheel",null),p([c.a],t.prototype,"_choose",null),p([c.a],t.prototype,"_mouseEnter",null),p([c.a],t.prototype,"_mouseLeave",null),t}(i.a.Component);t["default"]=h},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(39),o=new(function(){function e(){this.CopyToastActionID=i.a}return e.prototype.show=function(e,t,n,o,a){r["default"].dispatch({actionType:i.a.COPY_TOAST_SHOW,text:e,posiTop:t,posiLeft:n,callback:o,time:a})},e.prototype.setShow=function(e){r["default"].dispatch({actionType:i.a.HIDE_TOAST,isShow:e})},e}());t["default"]=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={isLoaded:!1},a=(0,r["default"])({},i.prototype,{getLoad:function(){return o.isLoaded},setLoaded:function(){o.isLoaded=!0,a.emitChange(),setTimeout(function(){a.init()},0)},init:function(){o.isLoaded=!1},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),t.register(o,"loadingInfo","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),t.register(a,"LoadingStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),r(e))}()}).call(this,n(2)(e))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({PROTOPREVIEW_CHANGELABEL:null,PROTOPREVIEW_ZOOM:null,PROTOPREVIEW_ZOOMFIT:null,PROTOPREVIEW_SWITCHMODE:null,PROTOPREVIEW_TOGGLECATALOG:null,PROTOPREVIEW_TOGGLENOTE:null,PROTOPREVIEW_SETPROPS:null,PROTOPREVIEW_RESETFRAMESIZE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/constants/ProtoPreviewConstants.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";n.r(t);var r=window.$;t["default"]=r.extend(r,{changeTimeStyle:function(e){var t=new Date,n=t.getTime()-e.getTime();return n<6e4?"刚刚":n>=6e4&&n<36e5?Math.floor(n/1e3/60)+"分钟前":t.getDate()===e.getDate()&&n<864e5?"今天"+e.getHours()+":"+(e.getMinutes()/10<1?"0"+e.getMinutes():e.getMinutes()):t.getDate()===e.getDate()+1&&n<1728e5?"昨天"+e.getHours()+":"+e.getMinutes():t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?e.getMonth()+1+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes():t.getFullYear()===e.getFullYear()?e.getMonth()+1+"/"+e.getDate():e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()},sortByTimeAdd:function(e){return e.sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})},sortByTimeMinus:function(e){return e.sort(function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})},getMousePos:function(e){var t=e||window.event,n=r.getElById("project-panel");return n?{x:t.clientX-r.offset(n,!1,!1).left,y:t.clientY-r.offset(n,!1,!1).top}:{x:0,y:0}},getElByClassName:function(e,t){return window.document.getElementsByClassName(e)[t-1]},addHoverClass:function(e){var t=e.currentTarget.getAttribute("data-index"),n=r.query(".hover");if(n&&r.removeClass(n,"hover"),-1!=t){var i=r.getElById("project-panel"),o=r.query(".spot-box[data-index='"+t+"']");o&&(r.hasClass(i,"is-hover-dot")||r.addClass(i,"is-hover-dot"),r.hasClass(o,"hover")||r.addClass(o,"hover"))}},removeHoverClass:function(e){var t=e.currentTarget.getAttribute("data-index");if(-1!=t){var n=r.getElById("project-panel"),i=r.query(".spot-box[data-index='"+t+"']");i&&(r.hasClass(n,"is-hover-dot")&&r.removeClass(n,"is-hover-dot"),r.hasClass(i,"hover")&&r.removeClass(i,"hover"))}},getCreateDotPosi:function(e,t){return e.x==t.x&&t.x==t.y?{posi:{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)},area:{w:0,h:0}}:{posi:{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)},area:{w:Math.abs(e.x-t.x),h:Math.abs(e.y-t.y)}}},getStartEndPosiByTwoPosi:function(e,t){var n=r.getCreateDotPosi(e,t),i=n.posi,o=n.area;return{startPosi:{x:i.x,y:i.y},endPosi:{x:i.x+o.w,y:i.y+o.h}}},extendBottom:function(e,t){var n=r.offset(e,!0,!1).height-43;return r.isMine(t)?-1!=e.className.indexOf("unsolved-box")?n<108?108-n:0:-1!=e.className.indexOf("solved-box")?n<141?141-n:0:n<74?74-n:0:-1!=e.className.indexOf("unsolved-box")?0:-1!=e.className.indexOf("solved-box")&&n<40?40-n:0},isProjectAuther:function(e){var t=window.loginInfo;return e.replyId?!(!t||t.id!=e.parentId):!(!t||t.id!=e.user.userId)},isMine:function(e){var t,r=n(32)["default"],i=window.loginInfo;return r._getDiscuss(e)&&(t=r._getDiscuss(e).user),!(!i||!t||i.userId!=t.id)},isCross:function(e,t){return!(e.left+e.width<=t.left||e.left>=t.left+t.width||e.top>=t.top+t.height||e.top+e.height<=t.top)},isHequalS:function(e,t){return e.left==t.left&&e.top==t.top&&e.width==t.width&&e.height==t.height},changeHorTextStyle:function(e,t){var n="";switch(e){case"hL":n=t?"left":"左对齐";break;case"hC":n=t?"center":"居中";break;case"hR":n=t?"right":"右对齐"}return n},changeVerTextStyle:function(e,t){var n="";switch(e){case"vT":n=t?"top":"顶对齐";break;case"vM":n=t?"middle":"居中";break;case"vB":n=t?"bottom":"底对齐"}return n},getColorData:function(e){},comLineHeight:function(e,t,n,r){var i;switch(e){case"top":i=t;break;case"middle":i=n;break;case"bottom":i=2*r-t}return i},saveTwoBit:function(e,t){return"rem"==t?e%1==0?e:10*e%1==0?e.toFixed(1):(e=Number((Math.round(100*e)/100).toFixed(2)))%1==0?Math.round(e):10*e%1==0?Math.round(10*e)/10:e:Math.round(e)},changeColorUnit:function(e,t){var n;switch(t){case"RGBA":n=e;break;case"HEX":n=this.changeHEX(e);break;case"ARGB":n=this.changeARGB(e)}return n},changeHEX:function(e){var t="";return t+="#",e.replace(/rgba/,"").replace(/[()]/g,"").split(",").splice(0,3).forEach(function(e){1==Number(e).toString(16).length?t+="0"+Number(e).toString(16):t+=Number(e).toString(16)}),t},changeARGB:function(e){var t="";t+="#";var n=e.replace(/rgba/,"").replace(/[()]/g,"").split(",")[3];return t+=(100*Number(n)).toString(16),e.replace(/rgba/,"").replace(/[()]/g,"").split(",").splice(0,3).forEach(function(e){1==Number(e).toString(16).length?t+="0"+Number(e).toString(16):t+=Number(e).toString(16)}),t},changeToAndroid:function(e,t,n){var r=[];"text"==e.type?r.push("<TextView"):r.push("<View");for(var i=0,o=e.code;i<o.length;i++){var a=o[i];switch(a.option){case"width":r.push('android:layout_width="'+this.saveTwoBit(a.value/n,t)+t+'"');break;case"height":r.push('android:layout_height="'+this.saveTwoBit(a.value/n,t)+t+'"');break;case"color":r.push('android:textColor="'+this.changeARGB(a.value)+'"');break;case"content":r.push('android:text="'+a.value+'"');break;case"font-size":r.push('android:textSize="'+this.saveTwoBit(a.value/n,t)+t+'"');break;case"background":r.push('android:background="'+this.changeARGB(a.value)+'"')}}return r.push("/>"),r},changeToSwift:function(e,t,n){var i,o=[];"text"==e.type?(o.push("UIView *view = [[UIView alloc] init]"),i="label"):"icon"==e.type||"image"==e.type?(o.push("UIImageView *imageView = [[UIImageView alloc] init]"),i="view"):(o.push("UIView *view = [[UIView alloc] init]"),i="imageView");var a=[];o.push();for(var s=0,l=e.code;s<l.length;s++){switch((d=l[s]).option){case"left":a.push(i+".frame = CGRectMake("+this.saveTwoBit(d.value/n,t)+",");break;case"top":case"width":a.push(this.saveTwoBit(d.value/n,t)+",");break;case"height":a.push(this.saveTwoBit(d.value/n,t)+")")}}o.push(a);for(var c=0,u=e.code;c<u.length;c++){var d;switch((d=u[c]).option){case"content":o.push(i+'.text = @"'+d.value+'"');break;case"font-size":o.push('fontWithName:@"PingFangSC-Regular" size:'+this.saveTwoBit(d.value/n,t));break;case"font-color":o.push(i+".textColor = [UIColor colorWithRed:"+r.getRGBAobj(d.value).r+"/255.0\n            green:"+r.getRGBAobj(d.value).g+"/255.0 blue:"+r.getRGBAobj(d.value).b+"/255.0 alpha:"+r.getRGBAobj(d.value).a+"/1.0];")}}return o.push("/>"),o},isSupportFontFamily:function(e){if("string"!=typeof e)return!1;var t="Arial";if(e.toLowerCase()==t.toLowerCase())return!0;var n=100,r=100,i=document.createElement("canvas"),o=i.getContext("2d");i.width=n,i.height=r,o.textAlign="center",o.fillStyle="black",o.textBaseline="middle";var a=function(e){o.clearRect(0,0,n,r),o.font="100px "+e+", "+t,o.fillText("a",50,50);var i=o.getImageData(0,0,n,r).data;return[].slice.call(i).filter(function(e){return 0!=e})};return a(t).join("")!==a(e).join("")},getSupportFont:function(){var e=this,t="";return["PingFang SC","Microsoft YaHei","微软雅黑","Microsoft JhengHei","黑体","STHeiti"].forEach(function(n){e.isSupportFontFamily(n)&&!t&&(t=n)}),t||"黑体"},changeArrText:function(e){var t="";if(e.length)return e.forEach(function(e){t+=e+"\n"}),t}})},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(69),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(317),_stringify2=_interopRequireDefault(_stringify),_superagent=__webpack_require__(17),_superagent2=_interopRequireDefault(_superagent),_CopyToastActions=__webpack_require__(112),_CopyToastActions2=_interopRequireDefault(_CopyToastActions);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ts$=__webpack_require__(118),_default=$.extend($,{getElById:function(e){return window.document.getElementById(e)},stringToObj:function(e){try{return e?JSON.parse(e):e}catch(t){log(t)}},objToString:function(e){return e?(0,_stringify2["default"])(e):e},isEmail:function(e){return/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e)},isPassword:function(e){return/^[0-9A-Za-z]{6,20}$/.test(e)},isEmptyString:function(e){return""===$.trim(e)},isQQ:function(e){return/^[0-9]{5,12}$/.test(e)},isPhoneNum:function(e){return/^1[34578]\d{9}$/.test(e)},isWechat:function(e){return/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/.test(e)},getUrlParam:function(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=(t?t.split("?")[1]:encodeURI(window.location.search).substr(1)).match(n);return null!==r?unescape(r[2]):null},replaceParamGetUrl:function replaceParamGetUrl(_paramName,_replaceWith,_url){var url=_url,func=function func(_name,_replace){-1!==url.indexOf(_name+"=")?url=url.replace(eval("/("+_name+"=)([^&]*)/gi"),_name+"="+_replace):-1===url.indexOf("?")?url+="?"+_name+"="+_replace:url+="&"+_name+"="+_replace};return $.isArray(_paramName)?_paramName.forEach(function(e){func(e[0],e[1])}):func(_paramName,_replaceWith),url},ajax:function(e,t,n,r,i){var o=__webpack_require__(7)["default"];_superagent2["default"][r?"get":"post"](e).send(t).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var r=t.body;r?0===r.code?n&&n(r):o.show(r.msg):(o.show("网络不稳定"),i&&i())})},downlaodPcApp:function(){window.isMac?window.open("http://xiaopiu-bucket.oss-cn-beijing.aliyuncs.com/xiaopiu-static/download/xiaopiu-0.0.2.dmg"):window.open("http://xiaopiu-bucket.oss-cn-beijing.aliyuncs.com/xiaopiu-static/download/xiaopiu%20Setup%200.0.2.exe")},replaceParamVal:function(e,t){var n=window.location.href.toString();(n=$.replaceParamGetUrl(e,t,n))!=window.location.href.toString()&&($.urlReplaceState(n),$.pcIframeUrlAdd())},loadStyleString:function(e,t){var n=document.createElement("style");n.id=t||"baseCss",n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(r){n.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(n)},removeParamGetUrl:function(e,t){if(-1!==t.indexOf("?")){var n=t.substr(t.indexOf("?")+1),r="",i="",o="";if(-1!==n.indexOf("&")){for(var a in i=n.split("&"))$.isString(i[a])&&i[a].split("=")[0]!=e&&(o=o+i[a].split("=")[0]+"="+i[a].split("=")[1]+"&");r=t.substr(0,t.indexOf("?"))+"?"+o.substr(0,o.length-1)}else r=(i=n.split("="))[0]==e?t.substr(0,t.indexOf("?")):t;return r}return t},removeParamVal:function(e){var t=function(e){var t=window.location.href.toString(),n=$.removeParamGetUrl(e,t);n!=window.location.href.toString()&&($.urlReplaceState(n),$.pcIframeUrlAdd())};e&&($.isArray(e)?e.forEach(function(e){t(e)}):$.isString(e)&&t(e))},urlReplaceState:function(e){window.history.replaceState(null,null,e)},changeUrlRetainParam:function(e,t){var n=e+window.location.search;if(t)return n;n!=window.location.href.toString()&&window.history.replaceState(null,null,n)},isNull:function(e){return!e&&void 0!==e&&0!=e},offset:function(e,t,n){var r=e&&e.getBoundingClientRect();if(r&&(r.width||r.height)){var i=e.ownerDocument,o=$.isWindow(i)?i:9===i.nodeType&&i.defaultView,a=i.documentElement,s={left:r.left+o.pageXOffset-a.clientLeft,top:r.top+o.pageYOffset-a.clientTop},l=t?$.extend(s,{width:r.width,height:r.height}):s;return n?t?[l.left,l.top,l.width,l.height]:[l.left,l.top]:l}return n?t?[0,0,0,0]:[0,0]:{left:0,top:0,width:0,height:0}},getWinSize:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},isMac:function(){return"Mac68K"===window.navigator.platform||"MacPPC"===window.navigator.platform||"Macintosh"===window.navigator.platform||"MacIntel"===window.navigator.platform},isFunc:function(e){return"function"==typeof e},cancelBubble:function(e){var t=window.event||e;window.attachEvent?t.cancelBubble=!0:t.stopPropagation()},rangeGoEnd:function(e,t){var n=t&&$.isDom(t)?t:e.target;if(window.getSelection)if("DIV"==n.nodeName){var r=window.document.createRange();r.selectNodeContents(n),r.collapse(!0),r.setEnd(n,n.childNodes.length),r.setStart(n,n.childNodes.length);var i=window.getSelection();i.removeAllRanges(),i.addRange(r)}else{var o=n.value.length;n.setSelectionRange(o,o)}else if(window.document.selection){var a=n.createTextRange();a.collapse(!1),a.select()}},isDom:function(e){return!(!e||"undefined"==typeof window||e!==window&&!e.nodeType)},selectTextRange:function(e,t,n){if(window.getSelection){var r=n||e.value.length;e.setSelectionRange(t,r)}},getCssPosi:function(e){return[e.offsetLeft,e.offsetTop,e.clientWidth,e.clientHeight]},getOffsetPosi:function(e){for(var t=[e.offsetLeft,e.offsetTop];e.offsetParent;)e=e.offsetParent,t[0]+=e.offsetLeft,t[1]+=e.offsetTop;return t},getParentAttr:function(e,t){return e.parentNode.getAttribute(t)},collide:function(e,t,n){var r=Math.abs(e[0]+e[2]/2-(t[0]+t[2]/2))<Math.abs((e[2]+t[2])/2),i=Math.abs(e[1]+e[3]/2-(t[1]+t[3]/2))<Math.abs((e[3]+t[3])/2);return n?{left:r,top:i}:r&&i},hasClass:function(e,t){return!!e&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&($.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if($.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},toggleClass:function(e,t){$.hasClass(e,t)?$.removeClass(e,t):$.addClass(e,t)},checkArrayEqual:function(e,t){var n=void 0;if(e.length===t.length&&0===e.length)n=!0;else if(e.length==t.length)for(var r=0;r<t.length;r++){n=!1;for(var i=0;i<e.length;i++)if(t[r]===e[i]){n=!0;break}}else n=!1;return n},setRegion:function(e,t,n){return Math.max(t,Math.min(e,n))},getScrollSize:function(e){var t=Math.abs(e),n=1;return t>=100?n=10:t>=20&&(n=4),(window.isMac?1:-1)/n},arrayUnique:function(e){if(e.length>0){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t}return e},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},blurInput:function(){var e=window.document.activeElement;e&&e.blur()},getWindowWH:function(){var e=window.pcParentApp?window:window.parent;return{width:e.document.body.parentNode.clientWidth,height:e.document.body.parentNode.clientHeight}},query:function(e){return window.document.querySelector(e)},queryAll:function(e){return window.document.querySelectorAll(e)},tipHide:function(){var e=window.document.querySelector("body>.C_tip");e&&(e.style.display="none")},rotateToAngle:function(e,t){return 2*Math.PI*(t?e%90<0?e%90+90:e%90:e)/360},stringCut:function(e,t){var n,r=0,i="";n=e.length;for(var o=0;o<n;o++){var a=e.charAt(o);if(r++,escape(a).length>4&&r++,i=i.concat(a),r>=t)return i}if(r<t)return e},ifCutString:function(e,t){var n=e.trim();return!!(n.gblen()>t)&&$.stringCut(n,t)},strLengthMoreThan:function(e,t){return e.gblen()>t},objLength:function(e){return(0,_keys2["default"])(e).length},searchIn:function(e,t,n,r){if(""===e)return"none";var i=t,o=!1;return(n?[e]:e.split(/\s+/)).forEach(function(e){(e=$.makeQueryStringAllRegExp(e))&&new RegExp(e,"i").exec(t)&&(o=!0,i=i.replace(new RegExp(e,"ig"),function(e){return"<span class='redspan'>"+e+"</span>"}))}),o?i:!!r&&t},makeQueryStringAllRegExp:function(e){return e?e.replace("\\","\\\\").replace("*","\\*").replace("+","\\+").replace("|","\\|").replace("{","\\{").replace("}","\\}").replace("(","\\(").replace(")","\\)").replace("^","\\^").replace("$","\\$").replace("[","\\[").replace("]","\\]").replace("?","\\?").replace(",","\\,").replace(".","\\.").replace("&","\\&"):e},slideDrag:function(e,t,n,r){n=n||58;var i=-e.target.offsetLeft+e.clientX;$.setDrag({name:"slideMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=e.clientX-i;t(n)},endFunc:function(e){r&&r(e.clientX-i)}})},getContentListPadding:function(){return window.pcApp?0:($.getWindowWH().width-1200)/2+"px"},commonKeyDown:function(e){var t=__webpack_require__(44)["default"];if(8==e.keyCode){var n=e.target&&"DIV"==e.target.nodeName&&$.hasClass(e.target,"ql-editor");if("TEXTAREA"!=e.target.nodeName&&"INPUT"!=e.target.nodeName&&!n)return e.preventDefault(),!1}else if(13==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName){var r=$.getElById("submitBtn");return e.target.blur(),r&&r.click(),e.preventDefault(),!1}if(t.getShow())return $.query(".popup .submit-btn").click(),e.preventDefault(),!1}else if(27==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if($("#closeBtn.phone-close").length>0)$("#closeBtn.phone-close").click();else if($("#closeBtn").length>0)$("#closeBtn").click();else{if(t.getShow()){var i=$.query(".popup-close-btn");return i&&i.click(),e.preventDefault(),!1}if($.query(".recycle-top-cancel"))return $.query(".recycle-top-cancel").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".lib-item-list-box .close-btn"))return $.query(".lib-item-list-box .close-btn").click(),e.preventDefault(),!1}}},hoverContrInit:function(){$(window.document).on("mouseenter",".a_c[data-contr=hovertip]",function(){var e=$(this),t=$.stringToObj(e.attr("data-option"));e.length>0&&(e.hasClass("mark-data-common")||e.hasClass("shadow-list-text"))?$.offset(e[0].firstChild,!0).height>24&&e.showTip(t):e.showTip(t)}).on("mouseleave",".a_c[data-contr=hovertip]",function(){$("body>.C_tip").hide()})},ClickContrInit:function(){$(window.document).on("click",".copy-link-common",function(e){var t=$.offset(e.currentTarget,!0),n=t.top,r=t.left,i=t.width;_CopyToastActions2["default"].show("复制成功",n,r+i/2),_CopyToastActions2["default"].setShow(!0),$.tipHide()})},escape:function(e){var t=window.document.createElement("div");return t.appendChild(window.document.createTextNode(e)),t.innerHTML.replaceAll('"',"&quot;")},unescape:function(e){var t=window.document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent},humpToHythen:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},isRender:function(e){return!!window.renderTest&&(window.renderTest.all||window.renderTest[e])},notLoadPassword:function(e){e.target.type="password"},setDrag:function(e){return $.hideRightMenu&&$.hideRightMenu(),window.mouseDownTarget=$.extend(window.mouseDownTarget,e),$.blurInput(window.event),window.mouseDownTarget},mouseDownTargetInit:function(e){(e||window).mouseDownTarget={name:null,posi:[],movePosi:[],target:null,moveFunc:$.noop,endFunc:$.noop}},isContrShow:function(e,t){return"preview"==t||"drag-preview"==t||!e.isDelete&&($.isUndefined(e.isShow)||e.isShow||($.getElById("structLabel")||$.getElById("wrapBoxLabel"))&&window.structHoverContrKey==e.type+"_"+e.id)},getThreeDecimal:function(e){return Math.round(1e3*e)/1e3},getCodeName:function(e){return $.textIsBox(e)?"box_"+e.id:"wrapbox"==e.type?"wrapper_"+e.id:$.getContrId(e)},getContrId:function(e){try{return e.type+"_"+e.id}catch(t){log(t)}},textIsBox:function(e){return"text"==e.type&&""==e.content.trim()},conversionTime:function(e){var t=[];return t[0]=Math.floor(e/60),t[1]=e-60*t[0],t.map(function(e){var t=e;return t<10&&(t="0"+t),t}).join(":")},isIE:function(){return/msie/i.test(window.navigator.userAgent)&&!window.opera},floatNum:function(e,t){if(window.isNaN(e))return e;if($.isNull(e))return window.isDevelop&&log("warning, 不应该出现为null的情况"),0;var n=e.toString();return-1!=n.indexOf(".")?n.split(".")[1].length>t?+(+e).toFixed(t):+e:e},getImageDataVal:function(e){var t=1073741824;return e>t?$.floatNum(e/t,2)+"Gb":e>1048576?$.floatNum(e/1048576,2)+"Mb":e>1024?$.floatNum(e/1024,2)+"Kb":$.floatNum(e,2)+"Byte"},getIsWechatImage:function(e){return e&&-1!=e.indexOf(".qlogo.cn/")},changeWechatImageSize:function(e,t){if(e){var n=0;return 0==t?n=64:1==t?n=132:2==t&&(n=0),(e.substr(0,e.lastIndexOf("/"))+"/"+n).replace("http://wx.qlogo.cn","https://wx.qlogo.cn")}return window.staticUrl+"/userImages/imgBigDefault.png"},getUserImageUrl:function(e,t){if($.getIsWechatImage(e)&&e)return $.changeWechatImageSize(e,t);var n="Small";return 0==t?n="Small":1==t?n="Normal":2==t&&(n="Big"),window.staticUrl+"/userImages/img"+n+e+".png"},getStaticUrl:function(){return"https://img.xiaopiu.com"},isObjectEqual:function(e,t){var n=!0;if($.objLength(e)&&$.objLength(t)){for(var r in e)if(e[r]!=t[r]){n=!1;break}}else n=!1;return n},isEmptyObj:function(e){return $.isObject(e)&&0===$.objLength(e)},initLoginPage:function(e){setTimeout(function(){var t=$(".login-main");$.getWinSize().height<t.height()?t.addClass("top"):t.hasClass("top")&&t.removeClass("top"),e&&$(window).resize(function(){$.initLoginPage()})},0)},devType:function(e){return window.isDevelop?e:{}},getNewArrByNum:function(e,t){for(var n=[],r=0;r<Math.min(t,e?e.length:0);r++)n.push(e[r]);return n},cObj:function(e,t){return $.extend(!t,{},e)},stopParentScroll:function(e){var t=e.currentTarget.scrollTop+e.deltaY,n=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight;(t<0||t>n)&&(e.currentTarget.scrollTop=$.setRegion(t,0,n),e.preventDefault())},stopPropagation:function(e){e.stopPropagation()},onlyPreventDefault:function(e){e.preventDefault()},preventDefault:function(e){e.stopPropagation(),e.preventDefault()},colorToGray:function(e,t){var n=$.getRGBAobj(e);return t?$.RGBToGray(n,t):n.r==n.g&&n.g==n.b?e:$.RGBToGray(n)},RGBToGray:function(e,t){var n=Math.round((299*e.r+587*e.g+114*e.b+500)/1e3);return t?n:"rgba("+n+", "+n+", "+n+", "+e.a+")"},getRGBAobj:function(e){return{r:+(e=(e=e.substr(e.indexOf("rgba(")+5)).substr(0,e.indexOf(")")).split(","))[0],g:+e[1],b:+e[2],a:+e[3]}},getPlatform:function(e){return e||"mobile"},getOtherPhoneSize:function(e){return[e.width+36,e.height+190,95,95,16]},getVersionQuery:function(e){var t="";return e.versionIndexKey!=e.versionSet.activeKey&&(""==e.versionSet.activeKey?t="&baseversion=true":$.isUndefined(e.versionSet.activeKey)||(t="&versionkey="+e.versionSet.activeKey)),t},pcChangeIframe:function(e,t,n){var r=window.pcParentApp?window:window.parent;if(r&&!r.pcApp)return window.location.href=t,!1;var i=t&&$.isString(t)?t:e.currentTarget.getAttribute("data-href"),o=r.document.getElementById("lastIframe");o&&$.destroyIframe(o);var a=r.document.createElement("iframe"),s=r.document.querySelector(".home-box"),l=$.isEditUrl(i);a.id="pcIframe",a.className="page-iframe hide"+(l?" is-editor":""),a.name="web-page",a.title="web-page",a.src=i,s.appendChild(a),r.document&&r.document.body&&(l?$.addClass(r.document.body,"edit-page"):$.removeClass(r.document.body,"edit-page")),!n&&r.iframeUrlArr&&(r.iframeUrlArr.length=Math.min(r.iframeUrlIndex,r.iframeUrlArr.length),i&&r.iframeUrlArr.push(i),r.iframeUrlIndex=r.iframeUrlArr.length),!window.pcParentApp&&r.initToolBarRender&&r.initToolBarRender(),r.document.getElementById("pcIframe").id="lastIframe",e&&e.preventDefault&&e.preventDefault()},pcReloadIframe:function(){var e=window.pcParentApp?window:window.parent;$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0)},pcBackIframe:function(){var e=window.pcParentApp?window:window.parent;e.iframeUrlArr.length>1&&e.iframeUrlIndex>1&&(e.iframeUrlIndex-=1,$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0))},pcForwardIframe:function(){var e=window.pcParentApp?window:window.parent,t=e.iframeUrlArr.length;e.iframeUrlIndex<t&&(e.iframeUrlIndex+=1,$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0))},pcOpenUrl:function(e,t,n){var r=t||e.currentTarget.getAttribute("data-href");window.pcParentApp&&window.ipcRenderer?window.ipcRenderer.sendToHost("openUrl",r):window.pcApp&&window.parent&&window.parent.ipcRenderer?window.parent.ipcRenderer.sendToHost("openUrl",r):n()},destroyIframe:function(e){e.src="about:blank";try{e.contentWindow.document.write(""),e.contentWindow.document.clear()}catch(t){log(t)}e.parentNode.removeChild(e)},isEditUrl:function(e){return-1!=e.indexOf("https://www.xiaopiu.com/project?")||-1!=e.indexOf("https://www.xiaopiu.com/editor?")},getIconDownLoadUrl:function(e,t){var n="",r=function(r){n||t[r].some(function(t){if(!n)for(var i in t)return i==e&&(n=r,!0);return!1})};for(var i in t)r(i);return"https://raw.githubusercontent.com/google/material-design-icons/master/"+n+"/svg/design/ic_"+e+"_48px.svg"},downloadIcon:function(e,t,n){var r=e.name,i=e.iconColor,o=e.width,a=e.height,s=$(t.text),l=a/o,c={fill:i,width:256,height:256,viewBox:"0 0 48 48"};if(1!=l){var u={transform:"scale("+1/l+", 1)","transform-origin":"0 0"};c.height*=l,c.viewBox="0 0 "+48/l+" 48",s.find("path").eq(0).attr(u)}s.attr(c);var d=new window.Blob([s[0].outerHTML],{type:"image/svg+xml;charset=utf-8"});n.saveAs(d,r+".svg")},pcIframeUrlAdd:function(e){if(window.pcApp&&e){var t=window.pcParentApp?window:window.parent;t.iframeUrlArr&&(t.iframeUrlArr.length=Math.min(t.iframeUrlIndex,t.iframeUrlArr.length),e&&t.iframeUrlArr.push(e),t.iframeUrlIndex=t.iframeUrlArr.length),!window.pcParentApp&&t.initToolBarRender&&t.initToolBarRender()}},getIFrameDOM:function(e){var t=window.pcParentApp?window:window.parent;return t.document.getElementById(e).contentDocument||t.document.frames[e].document},isEmptyStr:function(e){return e.length>0&&""==e.trim()},isNumber:function(e){return"number"==typeof e&&!window.isNaN(e)},getRandomNum:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},getSortNumber:function(e){return e.sort(function(e,t){return e-t})},getAddValFromArray:function(e,t,n){var r=0;return e.forEach(function(e,i){i>=t&&i<=n&&(r+=e)}),r},setPageScrollTop:function(e){window.document.documentElement&&window.document.documentElement.scrollTop?window.document.documentElement.scrollTop=e||0:window.document.body&&(window.document.body.scrollTop=e||0)},getPageScrollTop:function(){var e=0;return window.document.documentElement&&window.document.documentElement.scrollTop?e=window.document.documentElement.scrollTop:window.document.body&&(e=window.document.body.scrollTop),e},copyUrl:function(e){var t=$.getElById($.isString(e)?e:"copiedTips");$.addClass(t,"show"),setTimeout(function(){$.removeClass(t,"show")},2e3)},getInviteCookie:function(){var e=__webpack_require__(312).get("invite"),t=void 0;return e&&6==e.length&&(t=e),t},isLineContr:function(e){return"hLine"==e.baseContrType||"vLine"==e.baseContrType},getAtUserText:function(e){for(var t=e,n=/(@[^@|(^</span>)]+) /g,r=n.exec(t);null!=r;r=n.exec(t))t=t.slice(0,r.index)+'<span class="pink-text">'+r[1]+"</span> "+t.slice(r.index+r[0].length);return t},getBorderStyle:function(e,t){var n=["solid","dashed","dotted"],r=[0,1,2];switch(e){case"styles":return n;case"values":return r;case"style":return n[t]||n[0];case"value":return r[t]||r[0]}},hasSpecialBorderStyle:function(e){return e&&e[1]&&"solid"!=$.getBorderStyle("style",e[2])},getOddNum:function(e){var t=Math.round(e);return t%2!=0?t+1:t},countDaySpace:function(e){var t=new Date(window.serverDate),n=new Date(e),r=Math.round((n.getTime()-t.getTime()+12096e5)/864e5);return r>0?r:0},copyToClipboard:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(n){log(n)}document.body.removeChild(t)},previewScrollTop:function(e,t){var n=__webpack_require__(63)["default"],r=n.getPreviewInfo(),i=$.offset($.getElById("appContainer"),!0);if("web"==r.platform){var o=$.offset($.getElById("bodyWrapper"),!0),a={},s=!1;if(!(e.top>=o.top&&e.top+e.height<=o.top+o.height)){var l=i.top-e.top,c=n.getScrollObj().scrollTop,u=$.setRegion(l,o.height-i.height,0);u!=c&&(s=!0,a.scrollTop=u)}if(!(e.left>=o.left&&e.left+e.width<=o.left+o.width)){var d=e.left,p=i.left-d,f=n.getScrollObj().scrollLeft,h=$.setRegion(p,o.width-i.width,0);h!=f&&(s=!0,a.scrollLeft=h)}s&&n.setScrollObj(a)}else if(!(e.top>=i.top&&e.top+e.height<=i.top+i.height)){var g=($.offset(t,!0).top-e.top)/r.scale,m=n.getScrollObj(),_=m.scrollHeight,v=m.scrollTop,y=$.setRegion(g,window.phoneSize.height-_,0);y!=v&&n.setScrollObj({scrollTop:y})}}});exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/commonJqueryExtend.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";n.r(t),window.hostUrl="https://www.xiaopiu.com",window.imgUrl="https://img.xiaopiu.com",window.staticUrl="https://img.xiaopiu.com",window.maxNameLength=24,window.isMac="Mac68K"===window.navigator.platform||"MacPPC"===window.navigator.platform||"Macintosh"===window.navigator.platform||"MacIntel"===window.navigator.platform,window.$.noop=function(){},window.$.type=function(e){switch(e){case null:return"null";case undefined:return"undefined"}switch(Object.prototype.toString.call(e)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Array]":return"array";case"[object Date]":return"date";case"[object Function]":return"function";case"[object RegExp]":return"regExp";case"[object Object]":default:return"object"}},window.$.isObject=function(e){return"object"==$.type(e)},window.$.unescapeObj=function(e){var t={};for(var n in e)$.isObject(e[n])?t[n]=$.unescapeObj(e[n]):"array"==$.type(e[n])?t[n]=$.unescapeArr(e[n]):"boolean"==$.type(e[n])?t[n]=e[n]:t[n]=unescape(e[n]);return t},window.$.unescapeArr=function(e){return e.map(function(e){return $.isObject(e)?$.unescapeObj(e):"array"==$.type(e)?$.unescapeArr(e):"boolean"==$.type(e)?e:unescape(e)})},window.mouseDownTarget={name:null,posi:[],movePosi:[],target:null,moveFunc:$.noop,endFunc:$.noop},window.log=window.isDevelop?console.log:$.noop,window.loginInfo&&(window.loginInfo=$.unescapeObj(window.loginInfo)),window.userInfo&&(window.userInfo=$.unescapeObj(window.userInfo));try{window.parent&&window.parent.pcParentApp&&(window.pcApp=!0)}catch(r){window.parent=window,window.log(r)}window.mousePosi=[0,0],window.isPrototypeTool||window.document.addEventListener("mouseup",function(e){var t=window.mouseDownTarget;t.name&&(t.endFunc(e),$.mouseDownTargetInit());var n=$.getElById("viewIframe");if(n){var r=n.contentWindow.mouseDownTarget;r.name&&(r.endFunc(e),$.mouseDownTargetInit(n.contentWindow))}},!0),window.pcApp&&window.$(function(){var e,t=window,n=t.isPrototypeTool,r=t.projectName,i=t.pcParentApp,o=t.parent,a=t.document,s=i?window:o,l=a.title;if(n&&(l=r||"xiaopiu原型",o&&o.version)){var c=$(a).find("body");c.addClass("pc-app"),c.addClass("v"+o.version)}if(o){var u=$(o.document.body);(e=[]).push(!u.find(".back-btn.handle-btn").hasClass("disable")),e.push(!u.find(".forward-btn.handle-btn").hasClass("disable")),e.push(!u.find(".reload-btn.handle-btn").hasClass("disable"))}s.ipcRenderer&&s.ipcRenderer.sendToHost("changeTitle",1==s.iframeUrlArr.length?"":l,n,e)}),t["default"]="initWIN"},function(e,t,n){"use strict";n.r(t),window.Array.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&this.splice(t,1),this},window.String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},window.String.prototype.gblen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},window.String.prototype.replaceAll=function(e,t,n){return this.replace(new RegExp(e,"gm"+(n?"i":"")),t)},window.Date.prototype.diff=function(e){return(this.getTime()-e.getTime())/864e5},window.Date.prototype.days=function(e){return Math.ceil((this.getTime()-e.getTime())/864e5)},window.Date.prototype.isOlder=function(e){return this.getTime()-e.getTime()>=0},window.Array.prototype.unique=function(){for(var e=[],t={},n=0;n<this.length;n++)t[this[n]]||(e.push(this[n]),t[this[n]]=1);return e},t["default"]="prototype"},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r=window.$.extend(window.$.fn,{showTip:function(e){var t=$(this),n=void 0,r=$.extend({text:"文字提示！",direction:"top",changePosi:10,changeOtherPosi:0},e),i=t.getDomPosition();switch((n=0===$("body .C_tip").length?$('<div class="C_tip"><span>'+r.text+"</span></div>").hide().appendTo($("body")):$("body>.C_tip span").text(r.text).parent().hide())[0].className="C_tip",n.show(),n.width(n.find("span").width()),r.direction){case"left":n.addClass("tip_left").css({left:i[0]+i[2]+r.changePosi,top:i[1]+r.changeOtherPosi});break;case"right":n.addClass("tip_right").css({left:i[0]-i[2]-n.find("span").width()+r.changePosi,top:i[1]+r.changeOtherPosi});break;case"top":n.addClass("tip_top").css({left:i[0]+(i[2]-n.width())/2+r.changeOtherPosi,top:i[1]+i[3]+r.changePosi});break;case"bottom":n.addClass("tip_bottom").css({left:i[0]+(i[2]-n.width())/2+r.changeOtherPosi,top:i[1]-55+r.changePosi})}return t},getDomPosition:function(){var e=$(this).offset();return[e.left,e.top,e.width,e.height]},getCssPosition:function(){var e=$(this);return[parseInt(e.css("left")),parseInt(e.css("top")),e.width(),e.height()]},scrollUnique:function(){return $(this).each(function(){var e="mousewheel";window.document.mozHidden!==undefined&&(e="DOMMouseScroll"),$(this).on(e,function(e){var t=this.scrollTop,n=this.scrollHeight,r=this.clientHeight,i=e.originalEvent.wheelDelta?e.originalEvent.wheelDelta:-(e.originalEvent.detail||0);(i>0&&t<=i||i<0&&n-r-t<=-1*i)&&(this.scrollTop=i>0?0:n,e.preventDefault())})})}});t["default"]=r,function(){var t=n(1)["default"],i=n(1).leaveModule;t&&(t.register(r,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/commonJqueryFnExtend.js"),i(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){var r,i=a(n(85)),o=a(n(18));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=function(){function e(e){return null==e?String(e):q[K.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function a(t){return"object"==e(t)}function s(e){return a(e)&&!n(e)&&(0,o["default"])(e)==Object.prototype}function l(e){return"number"==typeof e.length}function c(e){return e.length>0?C.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(e){return e in A?A[e]:A[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||D[u(e)]?t:t+"px"}function f(e){return"children"in e?T.call(e.children):C.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t,n){for(b in t)n&&(s(t[b])||X(t[b]))?(s(t[b])&&!s(e[b])&&(e[b]={}),X(t[b])&&!X(e[b])&&(e[b]=[]),h(e[b],t[b],n)):t[b]!==w&&(e[b]=t[b])}function g(e,t){return null==t?C(e):C(e).filter(t)}function m(e,n,r,i){return t(n)?n.call(e,r,i):n}function _(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",r=n&&n.baseVal!==w;return t===w?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function y(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?C.parseJSON(e):e):e}catch(b){return e}}var w,b,C,S,x,E,P=[],T=P.slice,j=P.filter,I=window.document,k={},A={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},O=/^\s*<(\w+|!)[^>]*>/,$=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,N=/([A-Z])/g,U=["val","css","html","text","data","width","height","offset"],R=I.createElement("table"),B=I.createElement("tr"),H={tr:I.createElement("tbody"),tbody:R,thead:R,tfoot:R,td:B,th:B,"*":I.createElement("div")},V=/complete|loaded|interactive/,F=/^[\w-]*$/,q={},K=q.toString,z={},W=I.createElement("div"),G={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(e){return e instanceof Array};return z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=W).appendChild(e),r=~z.qsa(i,t).indexOf(e),o&&W.removeChild(e),r},x=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},E=function(e){return j.call(e,function(t,n){return e.indexOf(t)==n})},z.fragment=function(e,t,n){var r,i,o;return $.test(e)&&(r=C(I.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(M,"<$1></$2>")),t===w&&(t=O.test(e)&&RegExp.$1),t in H||(t="*"),(o=H[t]).innerHTML=""+e,r=C.each(T.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=C(r),C.each(n,function(e,t){U.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},z.Z=function(e,t){return(e=e||[]).__proto__=C.fn,e.selector=t||"",e},z.isZ=function(e){return e instanceof z.Z},z.init=function(e,n){var r;if(!e)return z.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&O.test(e))r=z.fragment(e,RegExp.$1,n),e=null;else{if(n!==w)return C(n).find(e);r=z.qsa(I,e)}else{if(t(e))return C(I).ready(e);if(z.isZ(e))return e;if(X(e))r=function(e){return j.call(e,function(e){return null!=e})}(e);else if(a(e))r=[e],e=null;else if(O.test(e))r=z.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==w)return C(n).find(e);r=z.qsa(I,e)}}return z.Z(r,e)},(C=function(e,t){return z.init(e,t)}).extend=function(e){var t,n=T.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},z.qsa=function(e,t){var n,i="#"==t[0],o=!i&&"."==t[0],a=i||o?t.slice(1):t,s=F.test(a);return r(e)&&s&&i?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:T.call(s&&!i?o?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},C.contains=I.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},C.type=e,C.isFunction=t,C.isWindow=n,C.isArray=X,C.isPlainObject=s,C.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},C.inArray=function(e,t,n){return P.indexOf.call(t,e,n)},C.camelCase=x,C.trim=function(e){return null==e?"":String.prototype.trim.call(e)},C.uuid=0,C.support={},C.expr={},C.map=function(e,t){var n,r,i,o=[];if(l(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&o.push(n);else for(i in e)null!=(n=t(e[i],i))&&o.push(n);return c(o)},C.each=function(e,t){var n,r;if(l(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},C.grep=function(e,t){return j.call(e,t)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){q["[object "+t+"]"]=t.toLowerCase()}),C.fn={forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,indexOf:P.indexOf,concat:P.concat,map:function(e){return C(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return C(T.apply(this,arguments))},ready:function(e){return V.test(I.readyState)&&I.body?e(C):I.addEventListener("DOMContentLoaded",function(){e(C)},!1),this},get:function(e){return e===w?T.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return P.every.call(this,function(t,n){return!1!==e.call(t,n,t)}),this},filter:function(e){return t(e)?this.not(this.not(e)):C(j.call(this,function(t){return z.matches(t,e)}))},add:function(e,t){return C(E(this.concat(C(e,t))))},is:function(e){return this.length>0&&z.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==w)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):l(e)&&t(e.item)?T.call(e):C(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return C(n)},has:function(e){return this.filter(function(){return a(e)?C.contains(this,e):C(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!a(e)?e:C(e)},last:function(){var e=this[this.length-1];return e&&!a(e)?e:C(e)},find:function(e){var t=this;return e?"object"==(void 0===e?"undefined":(0,i["default"])(e))?C(e).filter(function(){var e=this;return P.some.call(t,function(t){return C.contains(t,e)})}):1==this.length?C(z.qsa(this[0],e)):this.map(function(){return z.qsa(this,e)}):C()},closest:function(e,t){var n=this[0],o=!1;for("object"==(void 0===e?"undefined":(0,i["default"])(e))&&(o=C(e));n&&!(o?o.indexOf(n)>=0:z.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return C(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=C.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return g(t,e)},parent:function(e){return g(E(this.pluck("parentNode")),e)},children:function(e){return g(this.map(function(){return f(this)}),e)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(e){return g(this.map(function(e,t){return j.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return C.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=function(e){var t,n;return k[e]||(t=I.createElement(e),I.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),k[e]=n),k[e]}(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=C(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){C(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){C(this[0]).before(e=C(e));for(var t;(t=e.children()).length;)e=t.first();C(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=C(this),i=r.contents(),o=n?e.call(this,t):e;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=C(this);(e===w?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return C(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return C(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;C(this).empty().append(m(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=m(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(a(e))for(b in e)_(this,b,e[b]);else _(this,e,m(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:w},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){_(this,e)},this)})},prop:function(e,t){return e=G[e]||e,1 in arguments?this.each(function(n){this[e]=m(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(N,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?y(r):w},val:function(e){return 0 in arguments?this.each(function(t){this.value=m(this,e,t,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=C(this),r=m(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[x(t)]||r.getPropertyValue(t);if(X(t)){var o={};return C.each(t,function(e,t){o[t]=i.style[x(t)]||r.getPropertyValue(t)}),o}}var a="";if("string"==e(t))n||0===n?a=u(t)+":"+p(t,n):this.each(function(){this.style.removeProperty(u(t))});else for(b in t)t[b]||0===t[b]?a+=u(b)+":"+p(b,t[b])+";":this.each(function(){this.style.removeProperty(u(b))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(C(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&P.some.call(this,function(e){return this.test(v(e))},d(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){S=[];var n=v(this);m(this,e,t,n).split(/\s+/g).forEach(function(e){C(this).hasClass(e)||S.push(e)},this),S.length&&v(this,n+(n?" ":"")+S.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===w)return v(this,"");S=v(this),m(this,e,t,S).split(/\s+/g).forEach(function(e){S=S.replace(d(e)," ")}),v(this,S.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=C(this);m(this,e,n,v(this)).split(/\s+/g).forEach(function(e){(t===w?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===w?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===w?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=L.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(C(e).css("margin-top"))||0,n.left-=parseFloat(C(e).css("margin-left"))||0,r.top+=parseFloat(C(t[0]).css("border-top-width"))||0,r.left+=parseFloat(C(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||I.body;e&&!L.test(e.nodeName)&&"static"==C(e).css("position");)e=e.offsetParent;return e})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});C.fn[e]=function(i){var o,a=this[0];return i===w?n(a)?a["inner"+t]:r(a)?a.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){(a=C(this)).css(e,m(this,i,t,a[e]()))})}}),["after","prepend","before","append"].forEach(function(t,n){var r=n%2;C.fn[t]=function(){var t,i,o=C.map(arguments,function(n){return"object"==(t=e(n))||"array"==t||null==n?n:z.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=C.contains(I.documentElement,i);o.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!i)return C(e).remove();i.insertBefore(e,t),s&&function n(e,t){t(e);for(var r=0,i=e.childNodes.length;i>r;r++)n(e.childNodes[r],t)}(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},C.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return C(e)[t](this),this}}),z.Z.prototype=C.fn,z.uniq=E,z.deserializeValue=y,C.zepto=z,C}();window.Zepto=s,void 0===window.$&&(window.$=s),function(e){function t(e){return e._zid||(e._zid=d++)}function n(e,n,i,o){if((n=r(n)).ns)var a=function(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||i&&t(e.fn)!==t(i)||o&&e.sel!=o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e,t){return e.del&&!_&&e.e in v||!!t}function o(e){return y[e]||_&&v[e]||e}function a(n,a,s,c,d,p,f){var h=t(n),m=g[h]||(g[h]=[]);a.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(s);var a=r(t);a.fn=s,a.sel=d,a.e in y&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=p;var h=p||s;a.proxy=function(e){if(!(e=l(e)).isImmediatePropagationStopped()){e.data=c;var t=h.apply(n,e._args==u?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},a.i=m.length,m.push(a),"addEventListener"in n&&n.addEventListener(o(a.e),a.proxy,i(a,f))})}function s(e,r,a,s,l){var c=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,a,s).forEach(function(t){delete g[c][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,i(t,l))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(S,function(e,r){var i=n[e];t[e]=function(){return this[r]=w,i&&i.apply(n,arguments)},t[r]=b}),(n.defaultPrevented!==u?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=w)),t}function c(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===u||(n[t]=e[t]);return l(n,e)}var u,d=1,p=Array.prototype.slice,f=e.isFunction,h=function(e){return"string"==typeof e},g={},m={},_="onfocusin"in window,v={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",e.event={add:a,remove:s},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(f(n)){var o=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return o._zid=t(n),o}if(h(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var w=function(){return!0},b=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,S={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,o){var l,d,g=this;return t&&!h(t)?(e.each(t,function(e,t){g.on(e,n,r,t,o)}),g):(h(n)||f(i)||!1===i||(i=r,r=n,n=u),(f(r)||!1===r)&&(i=r,r=u),!1===i&&(i=b),g.each(function(u,f){o&&(l=function(e){return s(f,e.type,i),i.apply(this,arguments)}),n&&(d=function(t){var r,o=e(t.target).closest(n,f).get(0);return o&&o!==f?(r=e.extend(c(t),{currentTarget:o,liveFired:f}),(l||i).apply(o,[r].concat(p.call(arguments,1)))):void 0}),a(f,t,i,r,n,d||l)}))},e.fn.off=function(t,n,r){var i=this;return t&&!h(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(h(n)||f(r)||!1===r||(r=n,n=u),!1===r&&(r=b),i.each(function(){s(this,t,r,n)}))},e.fn.trigger=function(t,n){return(t=h(t)||e.isPlainObject(t)?e.Event(t):l(t))._args=n,this.each(function(){t.type in v&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,o;return this.each(function(a,s){(i=c(h(t)?e.Event(t):t))._args=r,i.target=s,e.each(n(s,t.type||t),function(e,t){return o=t.proxy(i),!i.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){h(e)||(e=(t=e).type);var n=document.createEvent(m[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),l(n)}}(s),function(e){function t(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function n(e,n,r,i){return e.global?t(n||m,r,i):void 0}function r(t){t.global&&0==e.active++&&n(t,null,"ajaxStart")}function i(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var r=t.context;return!1!==t.beforeSend.call(r,e,t)&&!1!==n(t,r,"ajaxBeforeSend",[e,t])&&void n(t,r,"ajaxSend",[e,t])}function a(e,t,r,i){var o=r.context,a="success";r.success.call(o,e,a,t),i&&i.resolveWith(o,[e,a,t]),n(r,o,"ajaxSuccess",[t,r,e]),l(a,t,r)}function s(e,t,r,i,o){var a=i.context;i.error.call(a,r,t,e),o&&o.rejectWith(a,[r,t,e]),n(i,a,"ajaxError",[r,i,e||t]),l(t,r,i)}function l(e,t,r){var o=r.context;r.complete.call(o,t,e),n(r,o,"ajaxComplete",[t,r]),i(r)}function c(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==b?"html":e==w?"json":v.test(e)?"script":y.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}var f,h,g=0,m=window.document,_=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,v=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,w="application/json",b="text/html",C=/^\s*$/,S=m.createElement("a");S.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var r,i,l=t.jsonpCallback,c=(e.isFunction(l)?l():l)||"jsonp"+ ++g,u=m.createElement("script"),d=window[c],p=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:p};return n&&n.promise(f),e(u).on("load error",function(o,l){clearTimeout(i),e(u).off().remove(),"error"!=o.type&&r?a(r[0],f,t,n):s(null,l||"error",f,t,n),window[c]=d,r&&e.isFunction(d)&&d(r[0]),d=r=void 0}),!1===o(f,t)?(p("abort"),f):(window[c]=function(){r=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),m.head.appendChild(u),t.timeout>0&&(i=setTimeout(function(){p("timeout")},t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:b,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,i=e.extend({},t||{}),l=e.Deferred&&e.Deferred();for(f in e.ajaxSettings)void 0===i[f]&&(i[f]=e.ajaxSettings[f]);r(i),i.crossDomain||((n=m.createElement("a")).href=i.url,n.href=n.href,i.crossDomain=S.protocol+"//"+S.host!=n.protocol+"//"+n.host),i.url||(i.url=window.location.toString()),function(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}(i);var p=i.dataType,g=/\?.+=\?/.test(i.url);if(g&&(p="jsonp"),!1!==i.cache&&(t&&!0===t.cache||"script"!=p&&"jsonp"!=p)||(i.url=d(i.url,"_="+Date.now())),"jsonp"==p)return g||(i.url=d(i.url,i.jsonp?i.jsonp+"=?":!1===i.jsonp?"":"callback=?")),e.ajaxJSONP(i,l);var _,v=i.accepts[p],y={},w=function(e,t){y[e.toLowerCase()]=[e,t]},b=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,x=i.xhr(),E=x.setRequestHeader;if(l&&l.promise(x),i.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",v||"*/*"),(v=i.mimeType||v)&&(v.indexOf(",")>-1&&(v=v.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(v)),(i.contentType||!1!==i.contentType&&i.data&&"GET"!=i.type.toUpperCase())&&w("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(h in i.headers)w(h,i.headers[h]);if(x.setRequestHeader=w,x.onreadystatechange=function(){if(4==x.readyState){x.onreadystatechange=c,clearTimeout(_);var t,n=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==b){p=p||u(i.mimeType||x.getResponseHeader("content-type")),t=x.responseText;try{"script"==p?(0,eval)(t):"xml"==p?t=x.responseXML:"json"==p&&(t=C.test(t)?null:e.parseJSON(t))}catch(f){n=f}n?s(n,"parsererror",x,i,l):a(t,x,i,l)}else s(x.statusText||null,x.status?"error":"abort",x,i,l)}},!1===o(x,i))return x.abort(),s(null,"abort",x,i,l),x;if(i.xhrFields)for(h in i.xhrFields)x[h]=i.xhrFields[h];var P=!("async"in i)||i.async;for(h in x.open(i.type,i.url,P,i.username,i.password),y)E.apply(x,y[h]);return i.timeout>0&&(_=setTimeout(function(){x.onreadystatechange=c,x.abort(),s(null,"timeout",x,i,l)},i.timeout)),x.send(i.data?i.data:null),x},e.get=function(){return e.ajax(p.apply(null,arguments))},e.post=function(){var t=p.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=p.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,o=this,a=t.split(/\s/),s=p(t,n,r),l=s.success;return a.length>1&&(s.url=a[0],i=a[1]),s.success=function(t){o.html(i?e("<div>").html(t.replace(_,"")).find(i):t),l&&l.apply(o,arguments)},e.ajax(s),this};var x=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(x(t)+"="+x(n))},function i(t,n,r,o){var a,s=e.isArray(n),l=e.isPlainObject(n);e.each(n,function(n,c){a=e.type(c),o&&(n=r?o:o+"["+(l||"object"==a||"array"==a?n:"")+"]"),!o&&s?t.add(c.name,c.value):"array"==a||!r&&"object"==a?i(t,c,r,n):t.add(n,c)})}(r,t,n),r.join("&").replace(/%20/g,"+")}}(s),function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function o(e){return e.forEach?e.forEach(o):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,o){n=o.type,(t=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(s),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}(s),window.Zepto=s,"$"in window||(window.$=s),(r=function(){return s}.apply(t,[]))===undefined||(e.exports=r),function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"Zepto","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/zepto.min.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(4),a=n(39),s=n(11),l=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c={id:1,isShow:!1,text:"",posiTop:undefined,posiLeft:undefined},u=!0;var d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.getToast=function(){return c},t.prototype.getIsShow=function(){return u},t.prototype.setShow=function(e){u=e},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(s.EventEmitter));o["default"].register(function(e){switch(e.actionType){case a.a.COPY_TOAST_SHOW:!function(e,t,n,r,i){window.toastTimeout&&clearTimeout(window.toastTimeout);var o=i||2e3;c.id+=1,c.isShow=!0,c.text=e,c.posiTop=t,c.posiLeft=n,window.toastTimeout=setTimeout(function(){c.isShow=!1,d.emitChange(),clearTimeout(window.toastTimeout),r&&r()},o)}(e.text,e.posiTop,e.posiLeft,e.callback,e.time),d.emitChange();break;case a.a.HIDE_TOAST:d.setShow(e.isShow),d.emitChange()}});var p,f=d,h=n(6),g=n.n(h),m=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=n(87).CSSTransitionGroup,y=function(e){function t(t){var n=e.call(this,t)||this,r=f.getToast();return n.state={renderChange:0,toast:r,actuallShow:f.getIsShow()},n}return m(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){f.addChangeListener(this._onToastChange)},t.prototype.componentWillUnmount=function(){f.removeChangeListener(this._onToastChange)},t.prototype._onToastChange=function(){var e=f.getToast();this.setState({renderChange:this.state.renderChange+1,toast:e,actuallShow:f.getIsShow()})},t.prototype.componentDidUpdate=function(){var e=this.state.toast.id;p!=e&&(p=e,this.setState({renderChange:this.state.renderChange+1,actuallShow:f.getIsShow()}))},t.prototype.render=function(){var e=this.state.toast,t=e.isShow,n=e.id,r=e.posiLeft,o=e.posiTop,a=e.text,s=this.state.actuallShow;return p&&p!=n?null:i.a.createElement(v,{transitionName:"copy_toast",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionAppear:!0,transitionAppearTimeout:300},t&&s?i.a.createElement("div",{style:{left:r,top:o-39},className:"main-fixed-comp copy_toast",id:"copy_toast"},a):null)},_([g.a],t.prototype,"_onToastChange",null),t}(i.a.Component);t.a=y},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(355),o=n(11),a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s="px",l="RGBA",c="CSS",u={px:1,dp:1,rem:16,pt:1,rpx:.5},d=!1,p=!1,f=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getSizeUnit=function(){return s},t.prototype.getColorUnit=function(){return l},t.prototype.getCssStyle=function(){return c},t.prototype.getScale=function(e){var t=$.query(".page.current"),n="web"!=window.platform&&t?t.offsetWidth/320:1;return"自定义"==u[e]?"自定义":u[e]/n},t.prototype.getBaseScale=function(e){return"自定义"==u[e]?"自定义":u[e]/1},t.prototype.getcolorFree=function(){return d},t.prototype.isRelative=function(){return p},t.prototype.setSizeUnit=function(e){s=e},t.prototype.setColorUnit=function(e){l=e,d=!1},t.prototype.setCssStyle=function(e){c=e},t.prototype.setScale=function(e,t){u[e]=t},t.prototype.setColorFree=function(e){d=e},t.prototype.setRelative=function(){p=!p},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(o.EventEmitter));r["default"].register(function(e){switch(e.actionType){case i.a.SIZE_UNIT:f.setSizeUnit(e.sizeUnit),f.emitChange();break;case i.a.COLOR_UNIT:f.setColorUnit(e.colorUnit),f.emitChange();break;case i.a.CSS_STYLE:f.setCssStyle(e.cssStyle),f.emitChange();break;case i.a.SCALE:f.setScale(e.unit,e.value),f.emitChange();break;case i.a.CHANGE_DISTANCE:f.setRelative(),f.emitChange()}}),t["default"]=f},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(4)),o=a(n(101));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={myImageLib:[],lastImageLibKey:null,isDownload:!1},c={myPublicImageLib:[],isDownload:!1},u={images:[],isDownload:!1},d={isShow:!1,searchKey:null,libType:null},p="history",f={"private":[],"public":[]};function h(e,t){var n=[];e.forEach(function(e){var t=[];e.images.forEach(function(e){t.push({id:e._id,images:e.images,name:e.name})}),n.push({id:e._id,images:t,name:e.name})}),l.myImageLib=n,t&&(l.isDownload=!0)}function g(e,t){var n=[];e.forEach(function(e){var t=[];e.images.forEach(function(e){t.push({id:e._id,images:e.images,name:e.name})}),n.push({id:e._id,images:t,name:e.name})}),c.myPublicImageLib=n,t&&(c.isDownload=!0)}function m(e){l.myImageLib.unshift(e)}function _(e){var t=void 0;l.myImageLib.forEach(function(n,r){n.id==e&&(t=r)}),l.myImageLib.splice(t,1)}function v(e,t){l.myImageLib.forEach(function(n){n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit)})}function y(e,t){l.myImageLib.forEach(function(n){n.id==e&&(n.scrollTop=0,$.isArray(t)?n.images.unshift.apply(n.images,t):n.images.unshift(t))})}function w(e,t,n){l.myImageLib.forEach(function(r){r.id==e&&r.images.forEach(function(e){e.id==t&&$.extend(e,n)})})}function b(e,t){l.myImageLib.forEach(function(n){n.id==e&&(t?n.isEdit=!0:n.isEdit&&delete n.isEdit)})}function C(e,t){l.myImageLib.forEach(function(n){if(n.id==t){var r=!1;n.images.forEach(function(t,n){t.id==e&&(r=n)}),!1!==r&&n.images.splice(r,1)}})}function S(e){u.images.splice(0,0,e)}function x(e,t){u.images[e].id==t&&u.images.splice(e,1)}function E(e,t){l.myImageLib.forEach(function(n){n.id==e&&(n.scrollTop=t)})}function P(e,t){var n=void 0;l.myImageLib.forEach(function(t){t.id==e&&(n=t.images)}),l.myImageLib.forEach(function(e){e.id==t&&(e.images=e.images.concat(n))})}function T(e){("public"==e.type?c.myPublicImageLib:l.myImageLib).every(function(t){return $.isUndefined(e.data[t.id])||(e.data[t.id]?t.hide=!0:$.isUndefined(t.hide)||delete t.hide),!0})}window.userLibSet&&window.userLibSet.image&&$.extend(!0,f,window.userLibSet.image);var j=(0,r["default"])({},s.prototype,{getSearchObj:function(){return d},closeSeachObj:function(e){d={isShow:!1,searchKey:null,libType:null},e||j.emitSearchChange()},getMyImageLib:function(){return l.myImageLib},getPublicImageLib:function(){return c.myPublicImageLib},getHistoryImages:function(){return u.images},getLastImageLibKey:function(){return l.lastImageLibKey},setLastImageLibKey:function(e){l.lastImageLibKey=e},getIsDownload:function(){return l.isDownload},getPublicIsDownload:function(){return c.isDownload},getHistoryIsDownload:function(){return u.isDownload},setSearchObj:function(e,t){d=$.extend(d,e),t||j.emitSearchChange()},getSearchLib:function(){if(d.isShow){if("public"==d.libType)return j.getPublicImageById(d.searchKey);if("private"==d.libType)return j.getImageLibById(d.searchKey);if("history"==d.libType)return j.getHistoryLib()}},getHistoryLib:function(){return{id:"history",images:u.images,name:"历史上传图片"}},changeImageLibPermission:function(e,t,n){l.myImageLib.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||j.emitSearchChange()},getImageLibById:function(e){var t=void 0;return l.myImageLib.every(function(n){return n.id!=e||(t=n,!1)}),t},getPublicImageById:function(e,t){var n=void 0,r=-1;return c.myPublicImageLib.every(function(t,i){return t.id!=e||(r=i,n=t,!1)}),t?r:n},initHistoryImages:function(e){u.images=e,u.isDownload=!0,j.emitChange()},getOpenLibId:function(){return p},openChange:function(e,t){p=e.openLibId,t||j.emitChange()},emitChange:function(){this.emit("change")},getImageLibSet:function(){return f},libsManage:function(e){f[e.type]=e.data},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitSearchChange:function(){this.emit("searchChange")},addSearchChangeListener:function(e){this.on("searchChange",e)},removeSearchChangeListener:function(e){this.removeListener("searchChange",e)}});i["default"].register(function(e){switch(e.actionType){case o["default"].IMAGELIB_INIT:h(e.myImageLib,e.isDownload),j.emitChange();break;case o["default"].IMAGELIB_PUBLICINIT:g(e.publicImageLib,e.isDownload),j.emitChange();break;case o["default"].IMAGELIB_ADD:m(e.imageLib),j.emitChange();break;case o["default"].IMAGELIB_SCROLLTOP:E(e.imageLibId,e.scrollTop),j.emitChange();break;case o["default"].IMAGELIB_ADDIMAGE:y(e.id,e.image),j.emitChange();break;case o["default"].IMAGELIB_ADDHISTORYIMAGE:S(e.image),j.emitChange();break;case o["default"].IMAGELIB_UPDATEIMAGE:w(e.id,e.imageId,e.image),j.emitChange();break;case o["default"].IMAGELIB_DELIMAGE:C(e.imageId,e.imageLibId),j.emitChange();break;case o["default"].IMAGELIB_DELHISTORYIMAGE:x(e.id,e.key),j.emitChange();break;case o["default"].IMAGELIB_CONCAT:P(e.thisId,e.otherId),j.emitChange();break;case o["default"].IMAGELIB_DELETE:_(e.imageLibId),j.emitChange();break;case o["default"].IMAGELIB_EDIT:v(e.name,e.imageLibId),j.emitChange();break;case o["default"].IMAGELIB_CHANGEEDIT:b(e.imageLibId,e.isEdit),j.emitChange();break;case o["default"].IMAGELIB_OPENCHANGE:j.openChange(e.option);break;case o["default"].IMAGELIB_LIBSMANAGE:T(e.options),j.emitChange()}});var I=j;t["default"]=I,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register("searchChange","CHANGE_SEARCH_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(l,"imageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(c,"publicImageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(u,"historyImages","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(d,"searchObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(p,"openLibId","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(f,"imageLibSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(h,"initMyImageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(g,"initPublicImageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(m,"addMyImageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(_,"deleteMyImageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(v,"editMyImageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(y,"addImageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(w,"updateImageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(b,"changeEdit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(C,"deleteImageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(S,"addHistoryImageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(x,"deleteHistoryImage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(E,"changeScrollTop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(P,"concatImageLibs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(T,"libsManage","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(j,"ImageLibStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),t.register(I,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ImageLibStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(12)),i=l(n(4)),o=l(n(156)),a=l(n(133)),s=l(n(139));function l(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var c=n(10).EventEmitter,u=[["control",!0],["page"],["image"],["symbolLib"],["tutorial"]],d=window.isPc;function p(e,t){u.forEach(function(t){t[0]===e?t[1]=!0:t[1]=!1}),"page"===e?(s["default"].getPageLib(),s["default"].getPublicPageLib()):"image"===e&&(s["default"].getImageLib(),s["default"].getPublicImageLib(),s["default"].getHistoryImages()),"control"!==e&&"page"!==e||a["default"].resetAllSeachObj(!0),t&&f()}function f(){var e=n(76)["default"],t=n(28)["default"],r=n(8)["default"];d=window.isPc&&!d;var i=t.getCurPos();d?(t.changePos({left:i.left-225,top:i.top,transition:!1,autoOff:!0,optimization:!1}),r.setViewProp({leftUnFold:!1}),t.emitChange()):(t.changePos({left:i.left+225,top:i.top,transition:!1,autoOff:!0,optimization:!1}),r.setViewProp({leftUnFold:!0}),t.emitChange()),e.resetSize()}var h=(0,r["default"])({},c.prototype,{getLabel:function(e){return e?u:u.concat()},getCurrLabel:function(){var e=void 0;return u.forEach(function(t){t[1]&&(e=t[0])}),e},getFold:function(){return d},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});i["default"].register(function(e){switch(e.actionType){case o["default"].LEFTLABEL_CHANGE:p(e.activeLabel,e.fold),h.emitChange();break;case o["default"].LEFTLABEL_FOLD:f(e.fold),h.emitChange()}});var g=h;t["default"]=g,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(c,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register(u,"LeftLabel","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register(d,"leftFold","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register(p,"changeLabel","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register(f,"changeFold","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register(h,"LeftLabelStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),t.register(g,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/LeftLabelStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(45),o=new(function(){function e(){this.MoveTipActionID=i.a}return e.prototype.moveTipUpdate=function(e){r["default"].dispatch({actionType:i.a.MOVETIP_UPDATE,left:e.left,top:e.top,text:e.text})},e.prototype.show=function(e){r["default"].dispatch({actionType:i.a.MOVETIP_SHOW,isShow:e})},e}());t["default"]=o},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(100));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={init:function(e,t,n){r["default"].dispatch({actionType:i["default"].PAGELIB_INIT,myPageLib:e,isDownload:t,invisibleNum:n})},initPublic:function(e,t,n){r["default"].dispatch({actionType:i["default"].PAGELIB_INITPUBLIC,pageLib:e,isDownload:t,invisibleNum:n})},add:function(e){r["default"].dispatch({actionType:i["default"].PAGELIB_ADD,pageLib:e})},addPage:function(e,t){r["default"].dispatch({actionType:i["default"].PAGELIB_ADDPAGE,id:e,page:t})},updatePage:function(e,t,n){r["default"].dispatch({actionType:i["default"].PAGELIB_UPDATEPAGE,id:e,pageId:t,page:n})},deletePage:function(e,t){r["default"].dispatch({actionType:i["default"].PAGELIB_DELPAGE,pageId:e,pageLibId:t})},changeScrollTop:function(e,t){r["default"].dispatch({actionType:i["default"].PAGELIB_SCROLLTOP,pageLibId:e,scrollTop:t})},concatPageLibs:function(e,t){r["default"].dispatch({actionType:i["default"].PAGELIB_CONCAT,thisId:e,otherId:t})},"delete":function(e){r["default"].dispatch({actionType:i["default"].PAGELIB_DELETE,pageLibId:e})},edit:function(e,t){r["default"].dispatch({actionType:i["default"].PAGELIB_EDIT,name:e,pageLibId:t})},changeEdit:function(e,t){r["default"].dispatch({actionType:i["default"].PAGELIB_CHANGEEDIT,pageLibId:e,isEdit:t})},openChange:function(e){r["default"].dispatch({actionType:i["default"].PAGELIB_OPENCHANGE,option:e})},libsManage:function(e){r["default"].dispatch({actionType:i["default"].PAGELIB_LIBSMANAGE,options:e})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"PageLibActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PageLibActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PageLibActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={isShow:!1,type:"contr",searchKey:null,listObj:{contr:[],page:[],project:[]},isFirst:!1,isLoading:!1},a=window.localStorage.globalSearchHistory?$.stringToObj(window.localStorage.globalSearchHistory):{contr:[],page:[]},s={contr:["按钮","顶栏","导航","loading","二维码","卡片","键盘","分享","选择器","弹窗","进度条"],page:["详情","搜索","首页","我","登录","注册","分类","列表","提示","相册","发布","消息"]},l=(0,r["default"])({},i.prototype,{getAllSearchObj:function(){return o},closeAllSeachObj:function(e){o.isShow=!1,e||l.emitChange()},showAllSeachObj:function(e,t){$.extend(!0,o,e),t||l.emitChange()},initAllSeachObj:function(e,t){if(o.type=e.type,o.listObj[e.type]=e.data,o.searchKey=e.searchKey,o.isLoading=!1,o.isFirst=!1,o.searchKey){if(a[e.type]){var n=a[e.type].indexOf(o.searchKey);-1!=n&&a[e.type].splice(n,1),a[e.type].unshift(o.searchKey),a[e.type].length>8&&a[e.type].pop()}window.localStorage.globalSearchHistory=$.objToString(a)}t||l.emitChange()},changeType:function(e,t){o.type=e,o.isLoading=!0,o.isFirst=!0,t||l.emitChange()},allSearchLoad:function(e,t){o.isLoading=e,t||l.emitChange()},resetAllSeachObj:function(e){o.searchKey=null,e||l.emitChange()},getReferrals:function(e){return s[e]},getHistory:function(e){return a[e]},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),c=l;t["default"]=c,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),t.register(o,"allSearchObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),t.register(a,"history","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),t.register(s,"referrals","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),t.register(l,"AllSearchStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),t.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AllSearchStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(105));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={init:function(e){r["default"].dispatch({actionType:i["default"].DRAGCONTR_INIT,options:e})},show:function(e){r["default"].dispatch({actionType:i["default"].DRAGCONTR_SHOW,options:e})},move:function(e){r["default"].dispatch({actionType:i["default"].DRAGCONTR_MOVE,options:e})},add:function(e){r["default"].dispatch({actionType:i["default"].DRAGCONTR_ADD,options:e})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"DragContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/DragContrActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/DragContrActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(100)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={myPageLib:[],lastPageLibKey:null,isDownload:!1,invisibleNum:null},c={myPublicPageLib:[],isDownload:!1,invisibleNum:null},u="",d={isShow:!1,searchKey:null,libType:null},p={searchKey:null,searchVal:null},f={isShow:!1,searchKey:null,pageList:[],isDownload:!1,isFirst:!0},h={"private":[],"public":[]};function g(e,t,n){l.myPageLib=e,l.invisibleNum=n,t&&(l.isDownload=!0)}function m(e,t,n){c.myPublicPageLib=e,c.invisibleNum=n,t&&(c.isDownload=!0)}function _(e){l.myPageLib.unshift(e)}function v(e){var t=-1;l.myPageLib.some(function(n,r){return n.id==e&&(t=r,!0)}),-1!==t&&l.myPageLib.splice(t,1)}function y(e,t){l.myPageLib.forEach(function(n){n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit)})}function w(e,t){l.myPageLib.forEach(function(n){n.id==e&&n.pages.unshift(t)})}function b(e,t,n){l.myPageLib.forEach(function(r){r.id==e&&r.pages.forEach(function(e){e.id==t&&$.extend(e,n)})})}function C(e,t){l.myPageLib.forEach(function(n){n.id==e&&(t?n.isEdit=!0:n.isEdit&&delete n.isEdit)})}function S(e,t){l.myPageLib.every(function(n){if(n.id==t){var r=!1;return n.pages.every(function(t,n){return t.id!=e||(r=n,!1)}),!1!==r&&n.pages.splice(r,1),!1}return!0})}function x(e,t){l.myPageLib.forEach(function(n){n.id==e&&(n.scrollTop=t)})}function E(e,t){var n=void 0;l.myPageLib.forEach(function(t){t.id==e&&(n=t.pages)}),l.myPageLib.forEach(function(e){e.id==t&&(e.pages=e.pages.concat(n))})}window.userLibSet&&window.userLibSet.page&&$.extend(!0,h,window.userLibSet.page);var P=(0,r["default"])({},s.prototype,{getSearchObj:function(){return d},getAllSearchObj:function(){return f},closeAllSeachObj:function(e){f.isShow=!1,e||P.emitAllSearchChange()},showAllSeachObj:function(e){f.isShow=!0,e||P.emitAllSearchChange()},initAllSeachObj:function(e,t){f.isDownload=!0,f.pageList=e.data,f.searchKey=e.searchKey,f.isFirst=!1,t||P.emitAllSearchChange()},allSearchIsDownload:function(e,t){f.isDownload=e,t||P.emitAllSearchChange()},closeSeachObj:function(e,t){p={searchKey:d.searchKey,searchVal:e},d={isShow:!1,searchKey:null,libType:null},t||P.emitSearchChange()},searchLastVal:function(){return p.searchKey!=d.searchKey?"":p.searchVal},setSearchObj:function(e,t){d=$.extend(d,e),t||P.emitSearchChange()},getSearchLib:function(){if(d.isShow){if("public"==d.libType)return P.getPublicPageById(d.searchKey);if("private"==d.libType)return P.getPageLibById(d.searchKey)}},changePageLibPermission:function(e,t,n){l.myPageLib.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||P.emitSearchChange()},changeNamePageIn:function(e,t,n,r){l.myPageLib.every(function(r){return r.id!=n||(r.pages.every(function(n){return n.id!=t||(n.name=e,!1)}),!1)}),r||P.emitSearchChange()},getMyPageLib:function(){return l.myPageLib},getMyInvisibleNum:function(){return l.invisibleNum},getLastPageLibKey:function(){return l.lastPageLibKey},setLastPageLibKey:function(e){l.lastPageLibKey=e},getIsDownload:function(){return l.isDownload},getPageLibById:function(e){var t=void 0;return l.myPageLib.every(function(n){return n.id!=e||(t=n,!1)}),t},getPublicPageById:function(e,t){var n=void 0,r=-1;return c.myPublicPageLib.every(function(t,i){return t.id!=e||(r=i,n=t,!1)}),t?r:n},deletePublicPageById:function(e,t){var n=P.getPublicPageById(e,!0);return n>-1&&(c.myPublicPageLib.splice(n,1),t||P.emitChange(),!0)},getPublicPageLib:function(){return c.myPublicPageLib},getPublicIsDownload:function(){return c.isDownload},getPublicInvisibleNum:function(){return l.invisibleNum},getOpenLibId:function(){return u},openChange:function(e,t){u=e.openLibId,t||P.emitChange()},changeLibCooperationLength:function(e,t){var n=P.getPageLibById(e);n.cooperationUserNum!=t&&(n.cooperationUserNum=t,P.emitSearchChange())},getPageLibSet:function(){return h},libsManage:function(e){h[e.type]=e.data},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitSearchChange:function(){this.emit("searchChange")},addSearchChangeListener:function(e){this.on("searchChange",e)},removeSearchChangeListener:function(e){this.removeListener("searchChange",e)},emitAllSearchChange:function(){this.emit("allSearchChange")},addAllSearchChangeListener:function(e){this.on("allSearchChange",e)},removeAllSearchChangeListener:function(e){this.removeListener("allSearchChange",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].PAGELIB_INIT:g(e.myPageLib,e.isDownload,e.invisibleNum),P.emitChange();break;case i["default"].PAGELIB_INITPUBLIC:m(e.pageLib,e.isDownload,e.invisibleNum),P.emitChange();break;case i["default"].PAGELIB_ADD:P.getPageLibById(e.pageLib.id)||(_(e.pageLib),P.emitChange());break;case i["default"].PAGELIB_SCROLLTOP:x(e.pageLibId,e.scrollTop),P.emitChange();break;case i["default"].PAGELIB_ADDPAGE:w(e.id,e.page),P.emitChange();break;case i["default"].PAGELIB_UPDATEPAGE:b(e.id,e.pageId,e.page),P.emitChange();break;case i["default"].PAGELIB_DELPAGE:S(e.pageId,e.pageLibId),P.emitChange();break;case i["default"].PAGELIB_CONCAT:E(e.thisId,e.otherId),P.emitChange();break;case i["default"].PAGELIB_DELETE:v(e.pageLibId),P.emitChange();break;case i["default"].PAGELIB_EDIT:y(e.name,e.pageLibId),P.emitChange();break;case i["default"].PAGELIB_CHANGEEDIT:C(e.pageLibId,e.isEdit),P.emitChange();break;case i["default"].PAGELIB_OPENCHANGE:P.openChange(e.option);break;case i["default"].PAGELIB_LIBSMANAGE:P.libsManage(e.options),P.emitChange()}});var T=P;t["default"]=T,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register("searchChange","CHANGE_SEARCH_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register("allSearchChange","CHANGE_ALL_SEARCH_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(l,"pageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(c,"publicPageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(u,"openLibId","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(d,"searchObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(p,"searchLastObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(f,"allSearchObj","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(h,"pageLibSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(g,"initMyPageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(m,"initMyPublicPageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(_,"addMyPageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(v,"deleteMyPageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(y,"editMyPageLib","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(w,"addPageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(b,"updatePageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(C,"changeEdit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(S,"deletePageIn","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(x,"changeScrollTop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(E,"concatPageLibs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(P,"PageLibStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),t.register(T,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/PageLibStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MiddlePanelEvent=undefined;var r=S(n(3)),i=S(n(33)),o=S(n(25)),a=S(n(15)),s=S(n(31)),l=S(n(8)),c=S(n(30)),u=S(n(26)),d=S(n(28)),p=S(n(76)),f=S(n(40)),h=S(n(70)),g=S(n(145)),m=S(n(285)),_=S(n(52)),v=S(n(82)),y=S(n(67)),w=S(n(7)),b=S(n(150)),C=S(n(137));function S(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var x=0,E=void 0,P=void 0,T=[];function j(e,t,n,i,a){var s=[],l=o["default"].getIsWrapEdit();n.forEach(function(t){if((t=r["default"].getAllValsContr({contrKey:$.extend(!0,{},t),notCopy:!0})).isShow&&!t.isLock){var n=$.getContrPosi(t);$.isDependBottomContr(t)&&(n.top+=$.getDependBottomVal()),$.collide([+n.left*i+a.left,+n.top*i+a.top,(+n.width+2)*i,(+n.height+2)*i],[e.left,e.top,e.width,e.height])&&s.push(t.type+"_"+t.id)}}),t?(T=[],l&&0===s.length&&o["default"].wrapBoxEditOut(),$.checkArrayEqual(r["default"].getSelect(),s)||_["default"].selectChange(s.filter(function(e){return $.getElById(e)}))):$.checkArrayEqual(T,s)||(T=$.extend(!0,[],s),_["default"].selectChange(s.filter(function(e){return $.getElById(e)})))}var I=t.MiddlePanelEvent={contextMenu:function(e){var t=l["default"].getView(),n=t.mode,i=t.multiViewType,o=[],a=[e.clientX,e.clientY],s=["全选",function(){window.Mousetrap.trigger(window.hotKey.command+"+a")},window.hotKey.comKey+"+A"];if("multi-view"!=n){r["default"].getActiveInterface().length>0&&o.push(s),window.localStorage.copy&&(o.push(["粘贴",function(){$("body").trigger("paste")},window.hotKey.comKey+"+V"]),o.push(["粘贴到当前位置",function(){$.pasteFunc(window.event,a)},window.hotKey.comKey+"+"+window.hotKey.shiftKey+"+V"]));var c=u["default"].getSymbolMask();c.isShow&&(c.parentArr.length>0&&o.push(["返回上一个引用",function(){u["default"].exitAndSave()},"tab"]),o.push(["返回页面",function(){u["default"].exitAndSave(undefined,!0)},0==c.parentArr.length?"[tab]":undefined]))}else o.push(s),o.push(["粘贴",function(){$("body").trigger("paste")},window.hotKey.comKey+"+V"]),"free-view"==i&&o.push(["粘贴到当前位置",function(){C["default"].getPageFromClipboard(a)},window.hotKey.comKey+"+"+window.hotKey.shiftKey+"+v"]);$.hasClass(e.target,"mainBoxBorder")&&o.push(["修改页面背景色",function(){var e=$.getElById("pageSetLabel");e&&e.click(),setTimeout(function(){var e=$.getElById("interfaceBgPicker");e&&e.click()},0)}]),o.length>0&&y["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:o}),e.stopPropagation(),e.preventDefault()},dragEnter:function(e){$.addClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},dragOver:function(e){$.addClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},dragLeave:function(e){$.removeClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},dropImage:function(e){f["default"].getCutImageShow()&&$.exitCutImage(!0);for(var t=[e.clientX,e.clientY],n=[],r=e.dataTransfer.files,i=function(e){!function(i){var o=r[e],a=new window.Image,s=new window.FormData;o.size/1048576<=1?(s.append("imgs",o),a.src=window.URL.createObjectURL(o),a.onload=function(){_["default"].createImageContr({src:a.src,oriName:o.name,oriWidth:a.width,oriHeight:a.height,fd:s,posi:t})}):n.push(o.name),e==r.length-1&&n.length>0&&b["default"].moreThanOneMB(n)}()},o=0;o<r.length;o++)i(o);$.removeClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},mouseDown:function(e){if(!(!window.noNew||window.noNew&&l["default"].getIsInit()))return!1;var t=s["default"].getZoom()/100,n=l["default"].getView().mode,a=u["default"].getSymbolMaskShow()&&"multi-view"!=n;if(o["default"].getIsWrapEdit())setTimeout(function(){o["default"].wrapBoxEditOut(),_["default"].selectChange([])},0);else if(a){var c=r["default"].getThisSymbolChildContr(!0),d=$.offset($.getElById("symbolWrapper"));$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=$.getEventPosi(e);m["default"].changePosi({width:n.width,height:n.height,left:n.left,top:n.top}),j(n,!1,c,t,d)},endFunc:function(e){var n=$.getEventPosi(e);m["default"].show(!1),j(n,!0,c,t,d)}})}else if("multi-view"!=n&&"keyframe"!=n){var p=r["default"].getActiveInterface(),f=$.offset(o["default"].getMergeBoxIn()?$.getElById("mergeMainBox"):window.document.querySelector(".mainBox.active"));if($.isUndefined(f))return!1;$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=$.getEventPosi(e);m["default"].changePosi({width:n.width,height:n.height,left:n.left,top:n.top}),j(n,!1,p,t,f)},endFunc:function(e){m["default"].show(!1),j($.getEventPosi(e),!0,p,t,f)}})}else if("multi-view"==n){for(var h=$.queryAll("#phoneConWrapBox .mainBox:not(.hide)"),g={},y=0;y<h.length;y++)g[h[y].id.replace("mainBox","")]=$.offset(h[y],!0);$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getEventPosi(e),n={width:t.width,height:t.height,left:t.left,top:t.top};m["default"].changePosi(n),function(e){var t=[];for(var n in g){var r=g[n];$.collide([e.left+2,e.top+2,e.width,e.height],[r.left,r.top,r.width,r.height])&&t.push(n)}v["default"].selectChange(t)}(n)},endFunc:function(){m["default"].show(!1)}}),v["default"].selectChange([])}"history"==i["default"].getLabel()[0].btnType?"multi-view"!=n?i["default"].reset():$.getElById("historyLabel")&&(i["default"].change([{tabType:"struct",isFold:!0,rename:"行为记录"}]),setTimeout(function(){i["default"].reset()},300)):"pageStruct"==i["default"].getLabel()[0].btnType&&"multi-view"==n&&$.getElById("pageStructLabel")&&setTimeout(function(){$(".iconfont.showPageStruct").mousedown()},0),$.initKeyDown(),e.stopPropagation()},click:function(){($.hasClass($.getElById("noteLabel"),"active")||c["default"].hasEditNote())&&c["default"].editBlur()},wheel:function(e){var t=d["default"].getCurPos(),n=t.left,r=t.top,i=l["default"].getView(),o=s["default"].getZoom(),a=void 0,c=void 0;if(!window.mouseDownTarget.name)if(window.isKeyDown.isAlt)x-=5*e.deltaY,c=$.getScrollSize(e.deltaY)*x/10,$.isUndefined(c)||(x=0,"multi-view"==i.mode?(a=$.setRegion(Math.round(100*i.zoom+.5*c),25,75),100*i.zoom!=a&&v["default"].changeZoom(a)):o!=(a=$.setRegion(Math.round(o+c),50,200))&&g["default"].change(a));else if(l["default"].isMultiFixed())P||(P=$.getFixedViewMinTop(i.zoom)),h["default"].move({left:0,top:r-e.deltaY,transition:!1,autoOff:!0,isMultiFixed:!0,minTop:P});else{var u=p["default"].getSize(),f=d["default"].getCurPos(),m=o/100,_=n-e.deltaX/m,y=r-e.deltaY/m;if(window.isPc){var w=l["default"].getActivePage(!0),b=w&&w.pageHeight||window.phoneSize.height;_=$.setRegion(_,(u.left+200-window.phoneSize.width*m-window.document.body.parentNode.clientWidth/2*(1-m))/m,(window.document.body.parentNode.clientWidth/2*(1+m)-200-270)/m),y=$.setRegion(y,(u.top+200-b*m-window.document.body.parentNode.clientHeight/2*(1-m))/m,(window.document.body.parentNode.clientHeight/2*(1+m)-200)/m),Math.abs(_-f.left)>Math.abs(y-f.top)?y=f.top:_=f.left}h["default"].move({left:_,top:y,transition:!1,autoOff:!0})}clearTimeout(E),E=setTimeout(function(){P=null},1e3),e.preventDefault()},dblclick:function(e){if(!o["default"].getMergeBoxShow()&&!window.isPc){var t=l["default"].getView(),n=t.mode,r=t.editing,i=t.multiViewType,s=t.zoom;if("multi-view"!=n)v["default"].zoomOut(),a["default"].createData({type:"changeToMultiView",name:"[多视图] 切换为多视图",handleObjType:"viewChange",autoSaveType:"none"});else if(r||"free-view"!=i)r||"fixed-view"!=i||(w["default"].show("固定模式下，请点击左侧 [+] 创建页面"),$.addAttention("addInterface"));else{var c=$.offset($.query(".phoneConBox")),u={left:(e.pageX-c.left)/s-window.phoneSize.width/2,top:(e.pageY-c.top)/s-window.phoneSize.height/2,isNew:!0};v["default"].create(u),setTimeout(function(){var e=t.total;$.removeClass($.getElById("mainBox"+e),"scale-hide"),l["default"].removeIsNew(e),a["default"].createData({type:"createPage",name:"[页面 "+e+"] 创建",handleObjType:"page",autoSaveType:"changePages"})},0)}}}},k=I;t["default"]=k,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(x,"oldScrollY","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),t.register(E,"fixedScrollTimer","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),t.register(P,"fixedViewMinTop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),t.register(T,"oldSelectArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),t.register(j,"_collideCheck","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),t.register(I,"MiddlePanelEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),t.register(k,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(8)),i=f(n(3)),o=f(n(15)),a=f(n(28)),s=f(n(37)),l=f(n(30)),c=f(n(94)),u=f(n(82)),d=f(n(70)),p=f(n(7));function f(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var h={pageToClipboard:function(e,t){if(window.noLogin)return p["default"].show("用户未登录"),!1;var n=$.objToString(e),i=new Date;r["default"].setLocalPageClipboard(n,i,t),$.ajax("/page/setClipboard",{content:n,projectId:r["default"].getView().proid||$.getUrlParam("proid"),date:i,selectStructArr:t},function(e){0==e.code&&p["default"].show("复制页面成功")})},addPageFromClipboard:function(e,t,n){r["default"].setLoad(!1);var u=r["default"].getActivePage();setTimeout(function(){var d=[],p=r["default"].getView().zoom,f=r["default"].isMultiFixed(),h=$.getSelectPageList().reverse(),g={},m=void 0;if(t){var _=$.offset($.getElById("phoneConBox"));m={left:Math.round((t[0]-_.left)/p),top:Math.round((t[1]-_.top)/p)}}e.forEach(function(e,n){var i=void 0;i=t?{left:m.left+(window.phoneSize.width+90)*n,top:m.top}:r["default"].getNewPagePosi(),r["default"].create(i);var o=r["default"].getViewTotal();r["default"].updateProp(o,{serverKey:e.serverKey,backColor:e.backColor,pageHeight:e.pageHeight,isLandscape:e.isLandscape,events:e.events,name:e.name}),g[e.key]=o}),e.forEach(function(e){i["default"].importPage(e.contrs,g[e.key],undefined,undefined,e.key,e.isLandscape,n?undefined:g),s["default"].pageAddGuideAllLine($.stringToObj(e.guideLine),g[e.key]),l["default"].pageAddNote($.stringToObj(e.note),g[e.key]),d.push(""+g[e.key])}),f&&(h&&h>0&&$.extend(!0,[],d).reverse().forEach(function(e){r["default"].addStructPageAfter([h[0],"page"],e)}),setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+d[0]),r["default"].getZoom())},0)),r["default"].isMultiView()?r["default"].selectChange(d,!0):(r["default"].choosePage(d[d.length-1],!0,!0),c["default"].emitChange()),r["default"].emitViewChange(),r["default"].emitPagesChange(),i["default"].emitChange(),setTimeout(function(){r["default"].setLoad(!0)},0),window.renderAll=!1,r["default"].setAutoSaveChangePages("changeSymbol",undefined,!0),o["default"].createData({type:"createNotMutiviewPage",name:"页面粘贴",handleObjType:"page",lastPage:u,autoSaveType:"changePages"}),f?($.removeClass($.getElById("mainBox"+d[d.length-1]),"scale-hide"),a["default"].setCenter({activePage:r["default"].getPageByKey(d[d.length-1]),isFixedView:!0,isMultiFixed:!0,minTop:$.getFixedViewMinTop(p)}),r["default"].removeIsNew(d[d.length-1])):t||($.removeClass($.getElById("mainBox"+d[d.length-1]),"scale-hide"),a["default"].setCenter({activePage:r["default"].getPageByKey(d[d.length-1])}),r["default"].removeIsNew(d[d.length-1]))},0)},getPageFromClipboard:function(e){if(window.noLogin)return p["default"].show("用户未登录"),!1;$.ajax("/page/getClipboardDate",{},function(t){var n=r["default"].getLocalPageClipboard();if(0==t.code){var i=function(){$.ajax("/page/getClipboard",{},function(t){0==t.code?h.addPageFromClipboard($.stringToObj(t.content),e):n.date&&h.addPageFromClipboard($.stringToObj(n.content),e,!0)})};if(n.date){var o=(new Date).getTime();Math.abs(o-new Date(t.date).getTime())<Math.abs(o-n.date.getTime())?i():h.addPageFromClipboard($.stringToObj(n.content),e,!0)}else i()}else n.date&&h.addPageFromClipboard($.stringToObj(n.content),e,!0)},undefined,function(){var t=r["default"].getLocalPageClipboard();t.date&&h.addPageFromClipboard($.stringToObj(t.content),e,!0)})},deletePage:function(e){var t=e||r["default"].getActivePage(!0),n=[""+t.key];if(r["default"].isMultiView())r["default"].isMultiFixed()&&$.scrollPhoneConBoxPage($.getElById("mainBox"+t.key),r["default"].getZoom()),u["default"].selectChange(n),setTimeout(function(){u["default"].deletePages(n),o["default"].createData({type:"deletePage",name:"["+t.name+"] 删除",handleObjType:"page",autoSaveType:"changePages"})},0);else if(t.active&&window.isPc)if(1==r["default"].getPageNum())p["default"].show("不能删除最后一个页面");else{var i=$.extend(!0,{},r["default"].getPages()),a=$.extend(!0,[],r["default"].getStructHierarchy());r["default"].deletePages(n),r["default"].resetPagePos(),r["default"].choosePage(r["default"].getPageIndexKey(),undefined,!0,!0),o["default"].createData({type:"deletePageNotMutiview",name:"["+t.name+"] 删除",handleObjType:"page",deletePage:t.key,pages:i,structHierarchy:a,autoSaveType:"changePages"})}else if(t.active)setTimeout(function(){$.getElById("toMutiviewBtn").click(),u["default"].selectChange(n)},0),setTimeout(function(){u["default"].deletePages(n),o["default"].createData({type:"deletePage",name:"["+t.name+"] 删除",handleObjType:"page",autoSaveType:"changePages"})},500);else{var s=$.extend(!0,{},r["default"].getPages()),l=$.extend(!0,[],r["default"].getStructHierarchy());r["default"].deletePages(n),r["default"].resetPagePos(),o["default"].createData({type:"deletePageNotMutiview",name:"["+t.name+"] 删除",handleObjType:"page",deletePage:t.key,pages:s,structHierarchy:l,autoSaveType:"changePages"})}},selectPage:function(e,t,n){r["default"].getActivePage()!=t&&(i["default"].selectChange([]),u["default"].choosePage(t),n||o["default"].createData({type:"changeFromMultiView",name:"["+e+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"}))},interfaceAlign:function(e){var t=$.getWinSize(),n=[160,100],i=[90,130],a=r["default"].getPages(),s=r["default"].getView(),l=Math.ceil((t.width-2*n[0])/((window.phoneSize.width+i[0])*s.zoom)),c=0,u=[(s.num>l?l:s.num)*(window.phoneSize.width+i[0])-i[0],Math.ceil(s.num/l)*(window.phoneSize.height+i[1])-i[1]],p={left:(t.width-u[0])/2,top:(t.height-u[1])/2},f=!1;(t.height-u[1]*s.zoom)/2>n[1]?p.top=(t.height-u[1])/2:p.top=(t.height-2*(t.height/2-n[1])/s.zoom)/2,d["default"].move({left:0,top:0,transition:!0}),r["default"].getStructAll().forEach(function(e){var t=a[e.key];if("page"==e.type&&!e.parentHide&&t.isShow){var n={left:c%l*(window.phoneSize.width+i[0])+p.left,top:Math.floor(c/l)*(window.phoneSize.height+i[1])+p.top};t.left==n.left&&t.top==n.top||(r["default"].updateProp(e.key,n),f=!0),c++}}),f&&(r["default"].emitPageStructChange(),e||o["default"].createData({type:"interfaceAlign",name:"[所有页面] 对齐重新排列",handleObjType:"multiView",autoSaveType:"changePagesPosi"}))}},g=h;t["default"]=g,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(h,"pageHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/pageHandle.js"),t.register(g,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/pageHandle.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(135)),i=s(n(128)),o=s(n(91)),a=s(n(132));function s(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var l={getHistoryImages:function(e){window.noLogin||i["default"].getHistoryIsDownload()?e&&e():$.ajax("/image/myAllHistory",{},function(t){i["default"].initHistoryImages(t.data),e&&e()})},getImageLib:function(e){window.noLogin||i["default"].getIsDownload()?e&&e():$.ajax("/image/myAll",{},function(t){o["default"].init(t.data,!0),e&&e()})},getPublicImageLib:function(e){i["default"].getPublicIsDownload()?e&&e():$.ajax("/image/publicAll",{},function(t){o["default"].initPublic(t.data,!0),e&&e()})},getPageLib:function(e){window.noLogin||r["default"].getIsDownload()?e&&e():$.ajax("/page/myAll",{isEditer:!0,platform:window.isPc?"web":""},function(t){a["default"].init(t.data,!0,t.otherNum),e&&e()})},getPublicPageLib:function(e){!window.noLogin||window.isDevelop||r["default"].getPublicIsDownload()?window.noLogin||r["default"].getPublicIsDownload()?e&&e():$.ajax("/page/myList",{type:"quote",isEditer:!0,platform:window.isPc?"web":""},function(t){a["default"].initPublic(t.data,!0),e&&e()}):$.ajax("/page/noLoginList",{},function(t){a["default"].initPublic(t.data,!0,t.otherNum),e&&e()})}},c=l;t["default"]=c,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(l,"LoadFromServer","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/LoadFromServer.js"),t.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/LoadFromServer.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){function r(e){"null"==e&&(e=[]);var t=[e[0]||1,e[1]||0,e[2]||0,e[3]||1,e[4]||0,e[5]||0];return t.getAngle=function(){return Math.atan2(this[1],this[0])},t.concat=function(e){return r([this[0]*e[0]+this[2]*e[1],this[1]*e[0]+this[3]*e[1],this[0]*e[2]+this[2]*e[3],this[1]*e[2]+this[3]*e[3],this[0]*e[4]+this[2]*e[5]+this[4],this[1]*e[4]+this[3]*e[5]+this[5]])},t.rotate=function(e,t){return this.concat(r.rotate(e,t))},t.setRotation=function(e,t){return this.rotate(e-this.getAngle(),t)},t.scale=function(e,t,n){return this.concat(r.scale(e,t,n))},t.translate=function(e,t){return this.concat(r.translate(e,t))},t.toCSSTransform=function(){return"matrix("+this.join(", ")+")"},t}Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}(),r.rotate=function(e,t){var n=r([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]);return t&&(n=r.translate(t[0],t[1]).concat(n).concat(r.translate(-t[0],-t[1]))),n},r.scale=function(e,t,n){var i=r([e,0,0,t=t||e,0,0]);return n&&(i=r.translate(n[0],n[1]).concat(i).concat(r.translate(-n[0],-n[1]))),i},r.translate=function(e,t){return r([1,0,0,1,e,t])};var i=r;t["default"]=i,function(){var t=n(1)["default"],o=n(1).leaveModule;t&&(t.register(r,"Matrix","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/Matrix.js"),t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/Matrix.js"),o(e))}()}).call(this,n(2)(e))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={contrKey:null},a=(0,r["default"])({},i.prototype,{init:function(e){o.contrKey=e},exit:function(){o={contrKey:null}},getChildKey:function(){return o.contrKey},isShow:function(){var e=n(3)["default"].getSelect();return o.contrKey&&e&&1==e.length&&"symbol"==e[0].split("_")[0]},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),t.register(o,"__childSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),t.register(a,"SymbolChildStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(104)),i=o(n(4));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={chooseAnim:function(e,t){i["default"].dispatch({actionType:r["default"].ANIM_CHOOSEANIM,animId:e,index:t})},unselectAnim:function(){i["default"].dispatch({actionType:r["default"].ANIM_UNSELECTANIM})},unselectFrame:function(){i["default"].dispatch({actionType:r["default"].ANIM_UNSELECTFRAME})},editFrameKey:function(e,t){i["default"].dispatch({actionType:r["default"].ANIM_EDITFRAMEKEY,prevKey:e,currKey:t})},createFrame:function(e,t){i["default"].dispatch({actionType:r["default"].ANIM_CREATEFRAME,key:e,contrKey:t})},chooseFrame:function(e){i["default"].dispatch({actionType:r["default"].ANIM_CHOOSEFRAME,key:e})},deleteFrame:function(e){i["default"].dispatch({actionType:r["default"].ANIM_DELETEFRAME,key:e})},emptyFrame:function(){i["default"].dispatch({actionType:r["default"].ANIM_EMPTYFRAME})},editTrProps:function(e,t){i["default"].dispatch({actionType:r["default"].ANIM_EDITTRPROPS,options:e,trData:t})},editContrProps:function(e,t,n){i["default"].dispatch({actionType:r["default"].ANIM_EDITCONTRPROPS,options:e,contrId:t,total:n})},editAllEasing:function(e){i["default"].dispatch({actionType:r["default"].ANIM_EDITALLEASING,easing:e})},editStateDelay:function(e,t){i["default"].dispatch({actionType:r["default"].ANIM_EDITSTATEDELAY,delay:e,contrId:t})},toggleDisabled:function(){i["default"].dispatch({actionType:r["default"].ANIM_TOGGLEDISABLED})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"AnimActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(59),o=new(function(){function e(){this.ZoomActionID=i.a}return e.prototype.change=function(e){r["default"].dispatch({actionType:i.a.ZOOM_CHANGE,zoom:e})},e}());t["default"]=o},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(11),o=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));r["default"].register(function(e){}),t["default"]=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={user:{},choosePage:{}},a=(0,r["default"])({},i.prototype,{setCooperationUser:function(e,t){var n={},r={};e.list.forEach(function(e){n[e.id]=$.extend(!0,{},e),o.choosePage[e.id]?r[e.id]=o.choosePage[e.id]:e.id!=window.loginInfo.userId&&(r[e.id]={pageKey:e.pageIndexKey,socketId:e.socketId})}),o.choosePage=r,o.user=n,t||a.emitChoosePageChange()},setChoosePage:function(e,t){o.choosePage[e.userId]={pageKey:e.pageKey,socketId:e.socketId},t||a.emitChoosePageChange()},getChoosePageUser:function(){var e={};for(var t in o.choosePage)if(t!=window.loginInfo.userId){var n=o.choosePage[t];e[n.pageKey]||(e[n.pageKey]=[]),o.user[t]&&e[n.pageKey].push(o.user[t])}return e},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitChoosePageChange:function(){this.emit("change")},addChoosePageChangeListener:function(e){this.on("change",e)},removeChoosePageChangeListener:function(e){this.removeListener("change",e)}}),s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/UserHandleStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/UserHandleStore.js"),t.register("change","CHANGE_CHOOSEPAGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/UserHandleStore.js"),t.register(o,"__handleData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/UserHandleStore.js"),t.register(a,"UserHandleStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/UserHandleStore.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/UserHandleStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(283));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={hide:function(){r["default"].dispatch({actionType:i["default"].POPSELECT_HIDE})},toggleTransition:function(){r["default"].dispatch({actionType:i["default"].POPSELECT_TOGGLETRANSITION})},toggleEasing:function(e,t,n){r["default"].dispatch({actionType:i["default"].POPSELECT_TOGGLEEASING,selected:e,contrId:t,bottom:n})},showEasing:function(e,t,n){r["default"].dispatch({actionType:i["default"].POPSELECT_SHOWEASING,selected:e,contrId:t,bottom:n})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"PopSelectActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PopSelectActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PopSelectActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(103)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={isShow:!1,left:0,top:0,content:[]};function c(e){l.left=e.left,l.top=e.top,l.content=e.content}var u=(0,r["default"])({},s.prototype,{getRightMenu:function(){return l},rightMenuUpdate:function(e){c(e),u.rightMenuShow(!0),u.emitChange()},rightMenuShow:function(e,t){l.isShow!=e&&(l.isShow=e,t&&u.emitChange())},getRightMenuShow:function(){return l.isShow},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].RIGHTMENU_UPDATE:c(e),u.rightMenuShow(!0),u.emitChange();break;case i["default"].RIGHTMENU_SHOW:u.rightMenuShow(e.isShow),u.emitChange()}});var d=u;t["default"]=d,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RightMenuStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RightMenuStore.js"),t.register(l,"rightMenu","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RightMenuStore.js"),t.register(c,"rightMenuUpdate","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RightMenuStore.js"),t.register(u,"RightMenuStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RightMenuStore.js"),t.register(d,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/RightMenuStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(17)),i=a(n(0)),o=a(n(13));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s={moreThanOneMB:function(e){o["default"].init({width:620,title:"上传图片文件过大",content:i["default"].createElement("div",{className:"popup-content"},"以下文件的大小超过了1MB，网站不支持上传，请压缩以后上传：",i["default"].createElement("br",null),e.join(", "),i["default"].createElement("br",null),"建议去",i["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"base-link",href:"https://tinypng.com/"},"https://tinypng.com/"),"对图片进行压缩")})},imageSearch:function(e){var t={key:"3255823-e43ec56e0a4b8b5aaf6d579dd",pretty:!0,lang:"zh"};e&&(t.q=e),r["default"].get("https://pixabay.com/api").query(t).set({"API-Key":"foobar",Accept:"application/json"}).end(function(e,t){log(t)})}},l=s;t["default"]=l,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"TopPopHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/TopPopHandle.js"),t.register(l,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/TopPopHandle.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r={action:[{"3d_rotation":"三维 3D旋转"},{accessibility:"辅助功能 可访问"},{accessible:"辅助功能 无障碍 易使用 可访问 亲近的 轮椅"},{account_balance:"账户结余 账户余额 账户 存款 储蓄 银行"},{account_balance_wallet:"钱包 账户 结账 存款"},{account_box:"账户 个人 方形"},{account_circle:"账户 个人 圆形"},{add_shopping_cart:"加入 购物车 添加"},{alarm:"闹钟 闹铃 报时 时间 钟"},{alarm_add:"添加 新增 闹钟 闹铃"},{alarm_off:"停止 关闭 闹钟 闹铃"},{alarm_on:"开启 打开 闹铃 闹钟"},{all_out:"控制 信号"},{android:"安卓 机器人 系统"},{announcement:"公告 通告 提醒 通知 发表"},{aspect_ratio:"缩放 比例 宽高比 尺寸"},{assessment:"评估 评价 方形 数据 条形 统计"},{assignment:"作业 分配 任务表"},{assignment_ind:"任务 申请 分配 个人 我的 任务表"},{assignment_late:"任务 延时 已延时 提醒 警告 任务表"},{assignment_return:"任务 分配 下达 分配中 提交 任务表"},{assignment_returned:"任务 已提交 已分配 已下达 任务表"},{assignment_turned_in:"任务 完成 成功 确认 任务表"},{autorenew:"自动 更新 刷新 箭头"},{backup:"云备份 上传"},{book:"书 图书 读书 阅读 加入书签"},{bookmark:"书签 阅读 标记 标签"},{bookmark_border:"书签 阅读 标记 标签 线形"},{bug_report:"bug 反馈 错误 报告 问题 虫"},{build:"工具 修理 建造 维修 创建 设置 工具栏 工具箱"},{cached:"缓存 数据缓存 正在缓存 箭头"},{camera_enhance:"清晰度 美化 调节 相机 照片 增强"},{card_giftcard:"礼物 礼包 送礼 包装 礼品"},{card_membership:"会员卡 礼品卡 打卡"},{card_travel:"交通卡 卡包 旅行包"},{change_history:"记录 修订 修改 历史 更改 三角形"},{check_circle:"完成 勾选 选中 确认 选择 成功 通过 认证 勾选 圆形"},{chrome_reader_mode:"谷歌 阅读器 阅读 模式 管理 矩形 列表"},{code:"代码 编码 准则 括号"},{compare_arrows:"对比 箭头 往返 互换 排版"},{copyright:"版权 符号 C 标识"},{credit_card:"信用卡 记帐卡 借记卡 记账卡 卡片 银行卡 矩形"},{dashboard:"控制面板 控制中心 操作中心 四方格"},{date_range:"日程表 时间表 日期 范围 选择 排期"},{"delete":"删除 垃圾箱 清理 回收站 清除数据 缓存"},{delete_forever:"永久删除 垃圾箱 清理 清除 回收站 清除数据 清空"},{description:"描述 说明书 文件 信纸 文档"},{dns:"域名 服务器 文件 矩形"},{done:"完成 勾选 选择 选中 成功 确认 通过 认证"},{done_all:"一键勾选 完成 全部 确认 通过 勾选 全选"},{donut_large:"环形 数据 统计 分区 圆环 占比 按比例 大"},{donut_small:"扇形 数据 统计 分区 扇形图 占比 按比例 小"},{eject:"喷射 发射 发布 展开 三角形"},{euro_symbol:"欧元 货币 符号 €"},{event:"事件 任务 日程表 时间表 档期"},{event_seat:"赛事 沙发 主要 主事件"},{exit_to_app:"退出app 退出应用 登出 退出登录 右箭头"},{explore:"广场 探索 safari 浏览器 更多 拓展 扩展 指南针"},{extension:"拓展 扩展 延伸 拼图"},{face:"面部识别 人脸 识别 头像"},{favorite:"喜欢 点赞 赞同 like 同感 爱心"},{favorite_border:"喜欢 点赞 赞同 like 同感 爱心 线形"},{feedback:"用户反馈 意见 信息 警告 ! 感叹号"},{find_in_page:"当页 当前页 页面 查找页 搜索页 放大镜"},{find_replace:"查找替换 替换 查找 搜索"},{fingerprint:"指纹 解锁 识别 验证身份"},{flight_land:"着陆 飞机 降落 出行"},{flight_takeoff:"起飞 飞机 出行"},{flip_to_back:"点击 下一层 底层"},{flip_to_front:"点击 上一层 顶层"},{g_translate:"谷歌翻译 语言翻译 Google"},{gavel:"拍卖 敲定 判决 审判 小木槌 锤子"},{get_app:"应用获取 获取app 下载app 箭头"},{gif:"动态图 动图"},{grade:"评分 等级 星标 级别 五角星 星星"},{group_work:"团队合作 小组作业 分工 豆瓣电影 放映"},{help:"帮助 疑问 提示 问号 圆形"},{help_outline:"帮助 疑问 提示 问号 线形 圆形"},{highlight_off:"关闭 取消 叉 圆形"},{history:"历史记录 重置 加载"},{home:"主页 首页 房子"},{hourglass_empty:"停止计时 时间 沙漏 空 线形"},{hourglass_full:"开始计时 时间 沙漏"},{http:"前缀 网络 协议 互联网 网址"},{https:"加密 安全锁 锁定 网络 协议 互联网 网址"},{important_devices:"重要 服务 装置 设备 锁定 电脑 终端传输 加密传输"},{input:"输入 信息录入 资料输入 箭头 框"},{invert_colors:"反色 颜色 反相 对比 形态 水滴"},{label:"标签 商标 标注 标记"},{label_outline:"标签 商标 标注 标记 线形"},{language:"语言 多国语 国际化 全球化 地球"},{launch:"发布 发送 加载 转发 箭头"},{lightbulb_outline:"创意 思考 亮点 电力 灵感 灯泡 线形"},{line_style:"线条 风格 样式 选项"},{line_weight:"线条 宽度 线条 样式 选项 宽度"},{list:"列表 排列 清单 目录 名单"},{lock:"锁定 锁屏 锁"},{lock_open:"解锁 未锁定 线形"},{lock_outline:"锁定 锁屏 锁 线形"},{loyalty:"喜爱 喜欢 标签 忠诚度 信赖度 依赖度 心"},{markunread_mailbox:"标记 未读邮件 标记未读"},{motorcycle:"快递 外卖 路程 旅途 配送 运送 投递 摩托车 交通 运输"},{note_add:"新建笔记 增加 文本 页面 新增 添加 加号"},{offline_pin:"离线 固定 脱机 确定 完成 勾 圆形"},{opacity:"不透明度 样式 设置 水滴"},{open_in_browser:"浏览器 打开 上传到 项目 箭头"},{open_in_new:"新页面打开 展开 新窗口打开 新视图打开 箭头"},{open_with:"打开方式 拖动 拖拽 方向键 上下左右 箭头"},{pageview:"浏览量 点击量 访问量 搜索量 页面 放大镜 搜索 查找"},{pan_tool:"平移 拖拽 移动视图 拖动工具 手掌 手势"},{payment:"付款 支付 银行卡 刷卡"},{perm_camera_mic:"语音相机 音频 声音 相机"},{perm_contact_calendar:"联系人 列表 联系人列表 联系人日程"},{perm_data_setting:"数据转换 设置"},{perm_device_information:"终端 信息 设备 手机"},{perm_identity:"我 个人 身份 验证 线形"},{perm_media:"媒体库 图片 文件夹"},{perm_phone_msg:"电话 留言 信箱 语音 留言"},{perm_scan_wifi:"无线网络 扫描"},{pets:"宠物 百度 logo 脚印"},{picture_in_picture:"画中画 右上角 定位 矩形"},{picture_in_picture_alt:"画中画 右下角 定位 矩形"},{play_for_work:"加入 添加 箭头"},{polymer:"聚合"},{power_settings_new:"开机 开关机 电源"},{pregnant_woman:"孕妇 人 社会 生活"},{print:"打印机 印刷 影印"},{query_builder:"查询 加载 等待"},{question_answer:"问答 答疑 客服 聊天 回复 气泡"},{receipt:"收据 收入 小票 提单"},{record_voice_over:"旁白 语音 口述"},{redeem:"兑换 礼品 兑换码 礼包 奖品"},{remove_shopping_cart:"移出 购物车 移除 禁止"},{reorder:"排列 排序 整理 列表 菜单"},{restore:"恢复 还原 历史数据"},{restore_page:"页面 恢复 还原 重新加载 刷新"},{room:"定位 空间 坐标"},{rounded_corner:"圆角 圆角设置"},{rowing:"划船 赛艇 人物 活动"},{schedule:"时刻表 时间表 时钟 时间 安排 计划"},{search:"查找 查询 搜索 放大镜"},{settings:"设置 齿轮"},{settings_applications:"应用 设置 app 齿轮 方形"},{settings_backup_restore:"备份 刷新 重置 箭头"},{settings_bluetooth:"蓝牙 设置 连接"},{settings_brightness:"亮度 调整 设置 明亮 对比"},{settings_cell:"手机 连接 设置 设备"},{settings_ethernet:"以太网 设置 拓展 链接"},{settings_input_antenna:"天线 输入 信号 接收 强弱 设置"},{settings_input_component:"组件 设置 供给 零部件"},{settings_input_hdmi:"接口 入口 端口 设置"},{settings_input_svideo:"视频 输入 端口 设置"},{settings_overscan:"设置 自适应 屏幕 缩放"},{settings_phone:"电话 设置 来电 拨号"},{settings_power:"电源 设置 开关"},{settings_remote:"远程 设置 服务器 主机"},{settings_voice:"语音 设置 音频 输出"},{shop:"商店 googleplay"},{shop_two:"商店 多个 googleplay 拓展"},{shopping_basket:"购物袋 购物包 手提包"},{shopping_cart:"购物车 购买"},{speaker_notes:"备注 文稿 聊天 内容 谈话 笔记 对话 文本"},{speaker_notes_off:"关闭 备注 文稿 禁止 记录 内容 聊天 对话 文本"},{spellcheck:"拼写检查 文字 输入 支持"},{stars:"星标 星星 圆形"},{store:"商店 店铺 商家 销售中心 购物 商城"},{subject:"主题 列表 菜单"},{supervisor_account:"客户 主管 多人 账户 合作"},{swap_horiz:"横向 交换 左右 滑动 切换 箭头"},{swap_vert:"纵向 交换 上下 滑动 切换 箭头"},{swap_vertical_circle:"纵向 交换 上下 滑动 切换 箭头 圆形"},{system_update_alt:"系统更新 载入"},{tab:"标签 选项卡 制表符"},{tab_unselected:"未选中 标签 选项卡 制表符"},{theaters:"电影 影片 胶片 胶卷"},{thumb_down:"差评 批评 不喜欢 手势 评价"},{thumb_up:"好评 点赞 喜欢 大拇指 手势 评价"},{thumbs_up_down:"互动 手势 评价"},{timeline:"时间轴 折线图 数据 走势 图表"},{toc:"目录 列表 列举"},{today:"今日 日程 任务 任务表"},{toll:"数额 数量 服务 线形"},{touch_app:"交互 点触应用 接触 点击"},{track_changes:"修订 追踪 修改 文档 目标"},{translate:"翻译 多语言"},{trending_down:"向下 走势 下滑 趋势 下降 涨幅"},{trending_flat:"向右 走势 平缓 趋势 不变 涨幅"},{trending_up:"向上 走势 上涨 趋势 涨幅"},{turned_in:"标签"},{turned_in_not:"标签 线形"},{update:"更新 数据 修正 还原"},{verified_user:"用户 认证 实名 安全 开启保护"},{view_agenda:"日程 视图 等宽 显示事件 矩形"},{view_array:"阵列 系列 主视图 切换 矩形"},{view_carousel:"轮播 视图 呈现 矩形"},{view_column:"纵列 视图 专栏 矩形"},{view_day:"日程 视图 当日 概览 矩形"},{view_headline:"标题 视图 内容 提要 视图"},{view_list:"列表 图文 列表 视图"},{view_module:"宫格 视图 模块 矩形"},{view_quilt:"拼凑 视图 分格 瀑布流"},{view_stream:"集成 视图 矩形"},{view_week:"周视图 三列 矩形"},{visibility:"可视 可见 未隐藏 眼睛"},{visibility_off:"不可视 不可见 隐藏 眼睛"},{watch_later:"手表 延时任务 时间"},{work:"工作 公文包 上班"},{youtube_searched_for:"youtube 查找 搜索"},{zoom_in:"放大 比例 缩放 放大镜"},{zoom_out:"缩小 比例 缩放 放大镜"}],alert:[{add_alert:"添加提醒 闹铃 响铃 铃声"},{error:"错误 出错 提示 系统"},{error_outline:"错误 出错 提示 错误 线形"},{warning:"警告 标志 警示 三角形"}],av:[{add_to_queue:"加入 队列 行列 添加"},{airplay:"无线 播放"},{album:"唱片 专辑 音乐"},{art_track:"艺术轨迹 图文列表"},{av_timer:"计时器 视频 定时器"},{branding_watermark:"水印 右下角 矩形"},{call_to_action:"唤醒"},{closed_caption:"隐藏 字幕 闭合 关闭 cc"},{equalizer:"均衡器 平衡器 条形图"},{explicit:"显性 e"},{fast_forward:"快进 下一首 播放 下一个"},{fast_rewind:"快退 上一首 播放 上一个"},{featured_play_list:"主要 特定 主列表 播放列表"},{featured_video:"主视频 主要 特定视频"},{fiber_dvr:"录像机 徽标 标识"},{fiber_manual_record:"人工记录 开始录制 录制 圆形"},{fiber_new:"最新 更新 徽标"},{fiber_pin:"钉住 标记 徽标"},{fiber_smart_record:"智能 录制 记录 圆形"},{forward_10:"前进 快进 十"},{forward_30:"前进 快进 三十"},{forward_5:"前进 快进 五"},{games:"游戏中心 娱乐 十字型"},{hd:"高清 徽标"},{hearing:"听写 听力 收听 耳朵"},{high_quality:"高品质 HQ 徽标"},{library_add:"加入 资料库 添加 媒体库"},{library_books:"图书库 资料库"},{library_music:"音乐库 资料库"},{loop:"循环 播放 环绕"},{mic:"录音 麦克风 语音"},{mic_none:"录音 麦克风 语音 线形"},{mic_off:"禁止 语音 关闭 闭麦"},{movie:"电影 影片 观影"},{music_video:"音乐 录影带 mv 视频"},{new_releases:"新版本 提醒 最新 发布"},{not_interested:"禁止 不感兴趣 不再推送"},{note:"便签 便笺 记录 注解 页面标注 标记"},{pause:"暂停 播放"},{pause_circle_filled:"暂停 播放 圆形"},{pause_circle_outline:"暂停 播放 圆形 线形"},{play_arrow:"继续 播放 三角形 右"},{play_circle_filled:"继续 播放 三角形 右 圆形"},{play_circle_outline:"继续 播放 三角形 右 圆形 线形"},{playlist_add:"加入 播放列表 添加"},{playlist_add_check:"完成 播放列表 成功 加入 添加"},{playlist_play:"播放 当前列表 开始 播放列表"},{queue:"队列 添加到 添加 加入"},{queue_music:"音乐队列 播放列表 音乐"},{queue_play_next:"播放 添加到 下一首"},{radio:"收音机 电台"},{recent_actors:"最近艺人 听歌 音乐 歌手列表 最近歌手"},{remove_from_queue:"移除 移出队列"},{repeat:"回放 重复播放 循环播放"},{repeat_one:"单曲循环"},{replay:"重播 箭头"},{replay_10:"重播 十"},{replay_30:"重播 三十"},{replay_5:"重播 五"},{shuffle:"打乱 顺序 乱序 随机"},{skip_next:"跳转 切换 下一首"},{skip_previous:"切换 跳转 上一首"},{slow_motion_video:"慢动作 录像机"},{snooze:"再睡一会 暂停 待会再响 闹铃 闹钟"},{sort_by_alpha:"字母 排列 排序 顺序"},{stop:"停止播放 方形"},{subscriptions:"订阅 队列 播放"},{subtitles:"字幕 弹幕 文字"},{surround_sound:"环绕音 放音 外音播放 开启外音"},{video_call:"视频 通话 加入"},{video_label:"视频 标签"},{video_library:"视频 播放 资料库 视频库"},{videocam:"视频 拍摄 摄录 录像 录影 摄像头"},{videocam_off:"关闭 摄录 录像 视频 拍摄 录影 摄像头"},{volume_down:"减小 音量 降低"},{volume_mute:"音量 最小 最低"},{volume_off:"关闭 音量 静音"},{volume_up:"增大 提高 音量"},{web:"网页 视图"},{web_asset:"网页 内容 网址 输入栏"}],communication:[{business:"商务 合作伙伴 交易中心 商业伙伴 写字楼 办公 建筑"},{call:"拨号 电话 通话 联系方式"},{call_end:"挂断 电话 通话 结束"},{call_made:"已拨电话 拨出"},{call_merge:"电话 合并 线路 通话 转接"},{call_missed:"电话 未接来电"},{call_missed_outgoing:"电话 无人接听 拨号 失败"},{call_received:"电话 已接来电"},{call_split:"电话 呼叫转移 分离 转接"},{chat:"聊天 信息 聊天内容"},{chat_bubble:"聊天 信息 气泡"},{chat_bubble_outline:"聊天 信息 气泡 线形"},{clear_all:"清除 清空 记录"},{comment:"评论 编写 撰写 填写"},{contact_mail:"联系人邮箱 邮件 记录 往来"},{contact_phone:"联系人电话 通话 记录 往来"},{contacts:"联系人 列表"},{dialer_sip:"拨号代理 电话 通话"},{dialpad:"拨号盘 拨号键盘 电话 圆点"},{email:"邮件 电子邮件 邮箱"},{forum:"论坛 讨论 话题 聊天 气泡"},{import_contacts:"导入联系人 书"},{import_export:"进出 导出 导入 来电"},{invert_colors_off:"禁止 反色 停用 颜色 色彩 反相 不对比 关闭 形态对比 水滴"},{live_help:"在线 帮助 客服 疑问 问答"},{location_off:"关闭 取消 定位 共享 位置"},{location_on:"开启定位 允许 定位 共享 位置"},{mail_outline:"邮件 电子邮件 线形"},{message:"信息 短信 消息 msg"},{no_sim:"未插卡 SIM卡 无"},{phonelink_erase:"清除 禁用 电话 连接 屏蔽 来电"},{phonelink_lock:"锁定 连接 电话"},{phonelink_ring:"来电 铃声 提示音 电话"},{phonelink_setup:"电话 连接 设置 来电"},{portable_wifi_off:"关闭 便携WiFi 无线 网络 禁止 个人热点"},{present_to_all:"上传 提交 箭头 矩形"},{ring_volume:"铃声 来电 响铃 音量 电话"},{rss_feed:"RSS 订阅 简讯 聚合"},{screen_share:"共享 分享 屏幕 投射 箭头"},{speaker_phone:"免提 扬声器 无线 对讲 电话 放音"},{stay_current_landscape:"横向 同步 切换 当前 手机 移动设备 屏幕"},{stay_current_portrait:"纵向 同步 切换 当前 手机 移动设备 屏幕"},{stay_primary_landscape:"保持 横向 手机 移动设备 屏幕"},{stay_primary_portrait:"保持 纵向 手机 移动设备 屏幕"},{stop_screen_share:"停止 共享屏幕 禁止 停用 投屏 右箭头"},{swap_calls:"切换 呼叫等待 通话 曲线 箭头"},{textsms:"短信 文本 讯息 简讯 短信 气泡"},{voicemail:"语音 信箱 邮件 留言"},{vpn_key:"密钥 个人 网络 私人 密码 钥匙"}],content:[{add:"添加 加入"},{add_box:"添加 加入 方形"},{add_circle:"添加 加入 圆形"},{add_circle_outline:"添加 加入 线形"},{archive:"压缩 存档 归档 档案 文件 箭头 方形"},{backspace:"返回 退出 退格 上一页 回到 上一级"},{block:"禁止符号 封闭 禁止操作"},{content_copy:"复制 文本 内容 多页面 矩形"},{content_cut:"剪切 裁剪 切割 剪刀"},{content_paste:"粘贴 文本 内容 文档 档案夹"},{create:"新建 编辑 操作 铅笔 笔"},{delete_sweep:"清理 垃圾 整理 自动清理 扫描 垃圾箱"},{drafts:"草稿箱 已打开 已读 信件 邮件"},{filter_list:"过滤清单 过滤表 过滤器 筛选"},{flag:"旗标 旗标邮件 旗帜"},{font_download:"下载 盒子 字体 方形 字体库"},{forward:"发送 传送 跳转 箭头"},{gesture:"手势 无规则"},{inbox:"收件箱 盒子 文件夹 文件"},{link:"连接 链接 关联 相关"},{low_priority:"低优先级 较后处理 稍后 调整 指示 箭头"},{mail:"邮件 邮箱 email 信件 信封"},{move_to_inbox:"移入 收件箱 移至 向下箭头 方形"},{next_week:"滞后 公文包 文件"},{undo:"撤销 返回 箭头"},{redo:"重置 下一步 恢复 箭头"},{remove:"移除 线形 减少 删除 减号"},{remove_circle:"移除 删除 减少 减号 圆形"},{remove_circle_outline:"移除 删除 减少 减号 圆形 线形"},{reply:"回复 返回 撤回 箭头"},{reply_all:"全部回复 自动 箭头"},{report:"提醒 报错 报告"},{save:"保存 存储 磁盘"},{select_all:"全选 框选 全部选择"},{send:"发送 传送 纸飞机"},{sort:"分类 排序 整理"},{text_format:"文本 样式 文字 格式"},{unarchive:"解档 解压 上箭头 方形"},{weekend:"沙发 休闲 休息 娱乐"}],device:[{access_alarm:"闹铃 闹钟 选择 选取 使用"},{access_time:"选择时间 时间表 时间 时钟 表"},{add_alarm:"添加 提醒 新增 闹铃 闹钟"},{airplanemode_active:"飞行模式 开启 飞机"},{airplanemode_inactive:"飞行模式 关闭 飞机"},{battery_alert:"电池 提醒 警告 充电"},{battery_charging_full:"电池 充电 充电中 闪电"},{battery_full:"电池 充满 充电结束 电量"},{battery_unknown:"电池 未知 电量"},{bluetooth:"蓝牙"},{bluetooth_connected:"连接蓝牙 连接中"},{bluetooth_disabled:"蓝牙 关闭 禁用 停用 未连接"},{bluetooth_searching:"蓝牙 搜索 搜索蓝牙 搜索中"},{brightness_auto:"亮度 自动 亮度调节"},{brightness_high:"高亮度 太阳"},{brightness_low:"低亮度 暗 太阳"},{brightness_medium:"亮度 适中 均衡 太阳"},{data_usage:"内存 存储空间 数据 使用 数据使用"},{developer_mode:"开发者模式 开发人员 手机"},{devices:"设备 服务器 连接"},{dvr:"刻录 监控 系统 电脑"},{gps_fixed:"定位 GPS 固定 锁定 目标"},{gps_not_fixed:"定位 GPS 取消固定 空 锁定 目标"},{gps_off:"关闭 无定位 关闭定位 GPS"},{graphic_eq:"均衡器 图形 频率 波动 波形"},{location_disabled:"无法定位 禁用"},{location_searching:"定位 查找定位"},{nfc:"近场通讯 近距离 通信"},{screen_lock_landscape:"横屏 锁屏 锁定 横屏 手机 锁"},{screen_lock_portrait:"竖屏 锁屏 锁定 竖屏 手机 锁"},{screen_lock_rotation:"转屏 锁定 旋转屏幕 手机 方向"},{screen_rotation:"允许 转屏 旋转屏幕 手机 方向 旋转 屏幕"},{sd_storage:"SD卡 存储卡"},{settings_system_daydream:"云 系统 设置 框"},{signal_cellular_4_bar:"信号格 满格 4格"},{signal_cellular_connected_no_internet_4_bar:"信号格 信号 提醒 警告"},{signal_cellular_no_sim:"记忆卡 未插卡 SIM卡 卡"},{signal_cellular_null:"信号格 信号 空 无信号"},{signal_cellular_off:"无信号 关闭信号 信号 无"},{signal_wifi_4_bar:"wifi 信号 满格 4格"},{signal_wifi_4_bar_lock:"wifi 信号 锁定 4格"},{signal_wifi_off:"关闭 禁用"},{storage:"存储 储存 内存 占用 文件"},{usb:"usb接口 端口"},{wallpaper:"壁纸 墙纸 图片 图库"},{widgets:"工具 部件 控件 组件 应用 插件"},{wifi_tethering:"wifi共享 热点 个人热点"}],editor:[{attach_file:"抄送 附加 添加 附件 回形针"},{attach_money:"金额 添加 美元"},{border_all:"边框 线 添加 全部 描边"},{border_bottom:"底边 线 边框"},{border_clear:"清除 无边框"},{border_color:"边框颜色 编辑 设置 笔"},{border_horizontal:"中线 横线 内部 边框 边线"},{border_inner:"内部 描边 边线 边框"},{border_left:"左边框 边线 外部"},{border_outer:"外边框 外框 边线"},{border_right:"右边框 边线 外部"},{border_style:"边缘 样式 边框 风格"},{border_top:"上边框 顶部 边线 外部"},{border_vertical:"中线 竖线 纵线 内部 边框 边线"},{bubble_chart:"气泡 图表 个性化"},{drag_handle:"拖动 拖拽 移动"},{format_align_center:"中心 居中 对齐 段落 文本 样式 格式"},{format_align_justify:"两端 对齐 段落 文本 样式 格式"},{format_align_left:"左 对齐 段落 文本 样式 格式"},{format_align_right:"右 对齐 段落 文本 样式 格式"},{format_bold:"加粗 文本 文字 段落 样式 格式"},{format_clear:"清除 文本 文字 段落 样式 格式"},{format_color_fill:"颜色 填充 文本 文字 段落 样式 格式"},{format_color_reset:"重设 颜色 清除 填充 文本 文字 段落 样式 格式"},{format_color_text:"文字 颜色 颜色 填充 文本 文字 段落 样式 格式"},{format_indent_decrease:"向左 缩进 减少 文本 文字 段落 样式 格式"},{format_indent_increase:"向右 缩进 增加 文本 文字 段落 样式 格式"},{format_italic:"斜体 文本 文字 段落 样式 格式"},{format_line_spacing:"行间距 调整 文本 文字 段落 样式 格式"},{format_list_bulleted:"无序 列表 项目 符号 序号 文本 文字 段落 样式 格式"},{format_list_numbered:"排序 列表 有序 编号 序号 文本 文字 段落 样式 格式"},{format_paint:"格式刷 文本 文字 段落 样式 格式 刷子 颜色"},{format_quote:"引用 文本 文字 段落 样式 格式 引号"},{format_shapes:"形状 大小 文本框 文字 段落 样式 格式"},{format_size:"字体 大小 字号 文本 文字 段落 样式 格式"},{format_strikethrough:"删除线 添加 中划线 文本 文字 段落 样式 格式"},{format_textdirection_l_to_r:"格式 正文 方向 从左到右"},{format_textdirection_r_to_l:"格式 正文 方向 从右到左"},{format_underlined:"下划线 文本 文字 段落 样式 格式"},{functions:"功能 符号 公式 运行"},{highlight:"高光 突出 强调 标亮 标记 手电筒"},{insert_chart:"插入 图表 条形图 柱状图 统计图 数据 方形 添加"},{insert_comment:"插入 评论 添加 文字 文本 添加"},{insert_drive_file:"文件 插入 驱动 添加 页面 添加"},{insert_emoticon:"插入 表情 符号 添加"},{insert_invitation:"插入 邀请 加入 日程 行程 添加"},{insert_link:"添加 插入 超链接 网络"},{insert_photo:"添加 插入图片 照片"},{linear_scale:"标尺 线性 比例 缩放 线段"},{merge_type:"合并格式 样式 文字 段落"},{mode_comment:"评论 样式 气泡"},{mode_edit:"编辑 笔 样式"},{monetization_on:"货币 汇率 换算 金额 美元 圆形"},{money_off:"货币 汇率 换算 金额 美元 折扣 满减"},{multiline_chart:"对比 折线图 图表"},{pie_chart:"饼图 扇形图 图表 圆形"},{pie_chart_outlined:"饼图 扇形图 图表 线形"},{publish:"发表 发布 发送 公开 箭头"},{short_text:"短文本 字段 字符 文字 段落 样式 格式"},{show_chart:"折线图 统计图 统计数据 数据图 图表"},{space_bar:"空格 间隔 空白字符 距离 订书钉"},{strikethrough_s:"删除线 添加 文本 中划线"},{text_fields:"文本域 文本框 占位 文字 字符 段落 格式 样式"},{title:"标题 正文 内容 文本 段落 格式 样式"},{vertical_align_bottom:"底对齐 底部 段落 文本 对齐 格式 样式"},{vertical_align_center:"中对齐 居中 段落 文本 对齐 格式 样式"},{vertical_align_top:"顶对齐 顶部 段落 文本 对齐 格式 样式"},{wrap_text:"文本 换行 自动 段落 格式 样式"}],file:[{attachment:"抄送 附加 添加附件 回形针"},{cloud:"云端 云服务 云盘 多云 天气"},{cloud_circle:"云端 云服务 云盘 多云 圆形"},{cloud_done:"云端 完成 成功 已完成 云盘"},{cloud_download:"云端 云服务 云盘 下载"},{cloud_off:"关闭 云端 关闭云服务"},{cloud_queue:"云端 云服务 云盘 多云 天气 线形"},{cloud_upload:"云端 云服务 云盘 上传 上传到云"},{create_new_folder:"新建 文件夹 新文件 添加到"},{file_download:"下载文件 已下载 服务 箭头"},{file_upload:"上传 更新 已上传 服务 箭头"},{folder:"文件夹"},{folder_open:"文件夹 打开 打开文件 打开文件夹 线形"},{folder_shared:"共享文件夹 分享"}],hardware:[{cast:"投射屏幕 映射 屏幕映射 线形"},{cast_connected:"投射屏幕 映射 屏幕映射"},{desktop_mac:"苹果 Mac 电脑 台式机"},{desktop_windows:"Windows 微软 电脑 台式机"},{developer_board:"开发底板 开发者"},{device_hub:"设备管理器 数据"},{devices_other:"其他设备 多设备 管理 数据 同步"},{dock:"播放器 设备"},{gamepad:"游戏中心 游戏"},{headset:"耳机 头戴式 听歌 音乐"},{headset_mic:"麦克风 耳机 客服 聊天 答疑"},{keyboard:"键入 打字 虚拟键盘 键盘输入"},{keyboard_backspace:"键盘 退格 删除 返回 回退"},{keyboard_capslock:"键盘 大写锁定 大小写 箭头"},{keyboard_hide:"键盘 隐藏 收起"},{keyboard_return:"键盘 返回 回车 确定 输入"},{keyboard_tab:"键盘 跳格键 跳转 输入"},{keyboard_voice:"键盘 语音输入"},{laptop:"笔记本电脑 笔电 设备"},{laptop_chromebook:"笔电 笔记本 电脑 设备 谷歌"},{laptop_mac:"Mac 苹果 笔记本 笔电 电脑"},{laptop_windows:"微软笔记本 笔电 电脑"},{memory:"记忆芯片 硬件 电脑 配件 内置芯片"},{mouse:"鼠标 配件 硬件 电脑 设备"},{phone_android:"安卓手机 移动设备 智能机"},{phone_iphone:"苹果手机 移动设备 智能机"},{phonelink:"电话连接 设备"},{phonelink_off:"关闭 电话 连接 设备"},{power_input:"电源输入 功率 电路"},{router:"路由器 无线路由"},{scanner:"扫描仪 扫描器 打印机"},{security:"防护 安全 助手 卫士"},{sim_card:"SIM卡 电话卡"},{smartphone:"智能手机 移动设备"},{speaker:"音箱 音响 播放器 扬声器 播放设备"},{speaker_group:"音箱 音响 扬声器 播放器 播放设备 设备组"},{tablet:"平板 电脑 移动设备"},{tablet_android:"安卓 平板 电脑 移动设备"},{tablet_mac:"iPad iOS 苹果 平板电脑 移动设备"},{toys:"玩具 风车 娱乐中心 娱乐"},{tv:"电视 设备 显示屏"},{videogame_asset:"手柄 游戏 游戏中心 娱乐"},{watch:"手表 iWatch 智能 设备"}],image:[{add_a_photo:"添加 照片 图片 加入 相机"},{add_to_photos:"相册 添加 相册集"},{adjust:"调整 校正 适应 选中 校准"},{assistant:"助手 助理 辅助 功能 工具 美化"},{assistant_photo:"拍照助手 光助 摄影助理"},{audiotrack:"音轨 声道 录音 音符"},{blur_circular:"模糊 图片 处理 效果 美化 圆形"},{blur_linear:"模糊 图片 处理 效果 美化 线形"},{blur_off:"关闭 停用 模糊 图片 处理 美化 效果"},{blur_on:"开启 使用 模糊 图片处理 效果"},{brightness_1:"明亮 亮度1"},{brightness_2:"明亮 亮度2"},{brightness_3:"明亮 亮度3"},{brightness_4:"明亮 亮度4"},{brightness_5:"明亮 亮度5"},{brightness_6:"明亮 亮度6"},{broken_image:"失效 图片 失败 无法打开"},{brush:"笔刷 油画棒 绘图 美术 艺术 画笔 添加 笔画 手绘"},{burst_mode:"编组 分组 组别 图片组 文件夹"},{camera:"相机 拍照 摄像 摄影 照相 光圈"},{camera_alt:"切换 打开 相机 拍照 摄影 照相"},{camera_front:"前置 相机 拍照"},{camera_rear:"后置 相机 拍照"},{camera_roll:"胶卷 相机 拍照"},{center_focus_strong:"聚焦 放大 对焦 拍照 相机"},{center_focus_weak:"聚焦 缩小 对焦 拍照 相机"},{collections:"图片集 图库 文件夹 收藏夹"},{collections_bookmark:"图书集 书库 文件夹 收藏夹"},{color_lens:"画板 调色板 调色盘 色彩 绘画 绘图"},{colorize:"取色器 着色器 上色 滴管"},{compare:"图片 前后 对比"},{control_point:"控制点 控制器 添加 线形"},{control_point_duplicate:"复制点 控制器"},{crop:"截图 截取 裁剪 切割 尺寸 图片 编辑"},{crop_16_9:"截图 截取 裁剪 切割 尺寸 编辑 16:9"},{crop_3_2:"截图 截取 裁剪 切割 尺寸 编辑 3:2"},{crop_5_4:"截图 截取 裁剪 切割 尺寸 编辑 5:4"},{crop_7_5:"截图 截取 裁剪 切割 尺寸 编辑 7:5"},{crop_din:"截图 截取 裁剪 切割 尺寸 编辑 标准"},{crop_free:"截图 截取 切割 尺寸 编辑 自由裁剪"},{crop_original:"截图 截取 裁剪 切割 编辑 原始尺寸"},{crop_portrait:"截图 截取 裁剪 切割 尺寸 编辑 肖像 竖屏"},{crop_rotate:"截图 截取 裁剪 切割 尺寸 编辑 旋转"},{crop_square:"截图 截取 裁剪 切割 尺寸 编辑 1:1 正方形"},{dehaze:"去霾 效果 美化 编辑 处理"},{details:"清晰度 效果 美化 编辑 处理"},{edit:"编辑 美化 图片 编辑 笔 操作"},{exposure:"曝光 效果 美化 图片 编辑 处理"},{exposure_neg_1:"曝光度 -1 效果 美化 编辑 处理"},{exposure_neg_2:"曝光度 -2 效果 美化 编辑 处理"},{exposure_plus_1:"曝光度 +1 效果 美化 编辑 处理"},{exposure_plus_2:"曝光度 +2 效果 美化 编辑 处理"},{exposure_zero:"曝光度 0 效果 美化 编辑 处理"},{filter:"滤镜 图片 效果 美化 图片 编辑 处理"},{filter_1:"滤镜 1 图片 效果 美化 编辑 处理"},{filter_2:"滤镜 2 图片 效果 美化 编辑 处理"},{filter_3:"滤镜 3 图片 效果 美化 编辑 处理"},{filter_4:"滤镜 4 图片 效果 美化 编辑 处理"},{filter_5:"滤镜 5 图片 效果 美化 编辑 处理"},{filter_6:"滤镜 6 图片 效果 美化 编辑 处理"},{filter_7:"滤镜 7 图片 效果 美化 编辑 处理"},{filter_8:"滤镜 8 图片 效果 美化 编辑 处理"},{filter_9:"滤镜 9 图片 效果 美化 编辑 处理"},{filter_9_plus:"滤镜 拓展 更多 9+ 图片 效果 美化 编辑 处理"},{filter_b_and_w:"滤镜 黑白 图片 效果 美化 编辑 处理"},{filter_center_focus:"滤镜 焦点 聚焦 图片 效果 美化 编辑 处理"},{filter_drama:"滤镜 反差色 效果 美化 编辑 处理"},{filter_frames:"滤镜 框架 滤框 图片 效果 美化 编辑 处理"},{filter_hdr:"滤镜 光照渲染 HDR 图片 效果 美化 编辑 处理"},{filter_none:"无滤镜 图片 效果 美化 编辑 处理"},{filter_tilt_shift:"滤镜 移轴镜头 移轴 偏移 图片 效果 美化 编辑 处理"},{filter_vintage:"滤镜 复古 图片 效果 美化 编辑 处理"},{flare:"闪光 光线 图片 效果 编辑 处理"},{flash_auto:"闪光灯 自动 图片 效果 美化 编辑 处理"},{flash_off:"闪光灯 关闭 图片 效果 美化 编辑 处理"},{flash_on:"闪光灯 打开 图片 效果 美化 编辑 处理"},{flip:"翻转 图片 效果 美化 编辑 处理"},{gradient:"倾斜 图片 效果 美化 编辑 处理"},{grain:"纹理 图片 效果 美化 编辑 处理"},{grid_off:"关闭 停用 网格 图片 效果 美化 编辑 处理"},{grid_on:"打开 使用 开启 网格 图片 效果 美化 编辑 处理"},{hdr_off:"关闭 图片 效果 美化 编辑 处理"},{hdr_on:"开启 打开 图片 效果 美化 编辑 处理"},{hdr_strong:"细节 强 图片 效果 美化 编辑 处理"},{hdr_weak:"细节 弱 图片 效果 美化 编辑 处理"},{healing:"修复 修补 图片 效果 美化 编辑 处理 创可贴"},{image:"添加图片"},{image_aspect_ratio:"宽高比 图片 效果 美化 编辑 处理"},{iso:"映像 格式 图片 效果 美化 编辑 处理"},{landscape:"风景 图片 效果 美化 编辑 处理"},{leak_add:"添加 漏光 图片 效果 美化 编辑 处理"},{leak_remove:"移除 漏光 图片 效果 美化 编辑 处理"},{lens:"透镜 镜头 图片 效果 美化 编辑 处理"},{linked_camera:"连接相机 相机 图片 效果 美化 编辑 处理"},{looks:"外观 预设 图片 效果 编辑 处理"},{looks_one:"外观 预设 1 图片 效果 美化 编辑 处理"},{looks_two:"外观 预设 2 图片 效果 美化 编辑 处理"},{looks_3:"外观 预设 3 图片 效果 美化 编辑 处理"},{looks_4:"外观 预设 4 图片 效果 美化 编辑 处理"},{looks_5:"外观 预设 5 图片 效果 美化 编辑 处理"},{looks_6:"外观 预设 6 图片 效果 美化 编辑 处理"},{loupe:"放大镜 放大器 图片 效果 美化 编辑 处理"},{monochrome_photos:"单色 黑白 图片 效果 美化 编辑 处理"},{movie_creation:"影片 电影 影片创作 创作 制作"},{movie_filter:"影片 电影 滤镜 美化"},{music_note:"乐谱 音乐 记录 音符"},{nature:"自然 风格 环境 树"},{nature_people:"环境 友好 环保 人与自然 人物活动"},{palette:"调色板 色板"},{panorama_fish_eye:"全景 图像 鱼眼 相机 拍照 效果"},{panorama_horizontal:"全景 图像 横向 相机 拍照 效果"},{panorama_vertical:"全景 图像 纵向 相机 拍照 效果"},{panorama_wide_angle:"全景 图像 广角 相机 拍照 效果"},{photo:"图片 照片 图册"},{photo_album:"图片 照片 相册 图册 图库"},{photo_camera:"照相机 相机 拍照"},{photo_filter:"滤镜 美化 图片 编辑 效果"},{photo_library:"图库 图册 图片 收藏"},{photo_size_select_actual:"图片 尺寸 选择 标准 正常"},{photo_size_select_large:"图片 尺寸 放大"},{photo_size_select_small:"图片 尺寸 缩小"},{picture_as_pdf:"导出PDF 图片 导出"},{portrait:"人像 照片 肖像"},{remove_red_eye:"消除红眼 可视 眼睛"},{rotate_90_degrees_ccw:"逆时针 旋转 90° 九十度"},{rotate_left:"左旋转 旋转"},{rotate_right:"右旋转 旋转"},{slideshow:"幻灯片 放映 自动 播放"},{straighten:"变直 拉直 直尺"},{style:"风格 卡片 便签"},{switch_camera:"转换 相机 照相 摄影"},{switch_video:"转换 摄影 电影 影片"},{tag_faces:"人脸 面部 表情"},{texture:"纹理 质地 美化 图片编辑"},{timelapse:"定时拍摄 摄影 延时"},{timer:"计时器 定时器 秒表"},{timer_10:"延时 10秒 拍摄 定时"},{timer_3:"延时 3秒 拍摄 定时"},{timer_off:"关闭定时 停止计时 禁用"},{tonality:"色调 图像 色彩 调节 颜色 美化"},{transform:"转换 转化"},{tune:"均衡器 调节 调音"},{view_comfy:"视图 排布 舒适"},{view_compact:"视图 排布 密集"},{vignette:"光晕 光圈 图像 美化 图片 编辑"},{wb_auto:"白平衡 自动 图像 美化 图片 编辑"},{wb_cloudy:"白平衡 阴天 图像 美化 图片 编辑"},{wb_incandescent:"白平衡 白炽灯 图像 美化 图片 编辑"},{wb_iridescent:"白平衡 闪光 图像 美化 图片 编辑"},{wb_sunny:"白平衡 阳光 晴 图像 美化 图片 编辑"}],maps:[{add_location:"添加 地点 新增 位置 增加 坐标"},{beenhere:"已到达 到达 完成 勾"},{directions:"方位 目标 地点 坐标 方向"},{directions_bike:"方位 骑行 骑车 自行车 交通 行为 生活"},{directions_boat:"方位 轮船 乘坐 船 交通 行为 生活"},{directions_bus:"方位 公交 乘坐 乘车 公交车 交通 行为 生活"},{directions_car:"方位 开车 自驾 汽车 轿车 交通 行为 生活"},{directions_railway:"方位 火车 乘坐 乘车 交通 行为 生活"},{directions_run:"方位 走路 跑步 行为 生活"},{directions_subway:"方位 地铁 乘坐 乘车 交通 行为 生活"},{directions_walk:"方位 步行 走路 行为 生活"},{edit_location:"编辑位置 位置 更改 当前位置 更改信息 坐标"},{ev_station:"充电站 充电 地点 生活"},{hotel:"旅馆 宾馆 休息 睡眠 睡觉 行为 生活"},{layers:"图层面板 图层 叠加"},{layers_clear:"清除图层 清除 叠加"},{local_activity:"当地 活动 推荐 吃喝玩乐 行为 生活"},{local_airport:"当地 飞机 航班 飞行 衣食住行 交通 行为 生活"},{local_atm:"当地 取款 存款 ATM 金额 美元 衣食住行 行为 生活"},{local_bar:"当地 酒吧 酒杯 聚会 吃喝玩乐 行为 生活"},{local_cafe:"当地 咖啡 下午茶 饮食 美食 杯子 衣食住行 吃喝玩乐 行为 生活"},{local_car_wash:"当地 洗车 车 衣食住行 吃喝玩乐 行为 生活"},{local_convenience_store:"当地 便利店 24小时 营业 社会 衣食住行 行为 生活"},{local_dining:"当地 饮食 吃喝玩乐 吃饭 美食 衣食住行 行为 生活"},{local_drink:"当地 水 饮食 杯子 衣食住行 行为 生活"},{local_florist:"当地 花 花店 杯子 衣食住行 行为 生活"},{local_gas_station:"当地 加油站 出行 加油 衣食住行 行为 生活"},{local_grocery_store:"当地 购物车 购物 衣食住行 行为 生活"},{local_hospital:"当地 医院 看病 健康 衣食住行 行为 生活"},{local_hotel:"当地 旅馆 宾馆 衣食住行 行为 生活"},{local_laundry_service:"当地 清洗 衣服 洗衣机 衣食住行 生活"},{local_library:"当地 图书馆 阅读 读书 行为 生活"},{local_mall:"当地 商城 商场 购物 购物袋 衣食住行 吃喝玩乐 行为 生活"},{local_movies:"当地 电影 电影院 吃喝玩乐 行为 生活"},{local_offer:"当地 特价 减价 削价 消费 吃喝玩乐 衣食住行 行为 生活"},{local_parking:"当地 停车 P 停车场 出行 衣食住行 行为 生活"},{local_pharmacy:"当地 药房 药店 买药 看病 衣食住行 行为 生活"},{local_phone:"当地 电话 公用电话 打电话 通讯 衣食住行 行为 生活"},{local_pizza:"当地 美食 订餐 外卖 饮食 衣食住行 吃喝玩乐 披萨 行为 生活"},{local_play:"当地 支付 付款 买单 衣食住行 吃喝玩乐 行为 生活"},{local_post_office:"当地 邮局 邮件 信件 衣食住行 行为 生活"},{local_printshop:"当地 印刷 打印 打印店 印务馆 衣食住行 吃喝玩乐 行为 生活"},{local_see:"当地 拍照 参观 摄影 衣食住行 吃喝玩乐 行为 生活"},{local_shipping:"当地 运输 快递 卡车 衣食住行 吃喝玩乐 行为 生活"},{local_taxi:"当地 打车 出行 的士 滴滴 衣食住行 吃喝玩乐 行为 生活"},{map:"出行 行为 生活 谷歌地图"},{my_location:"我的位置 坐标 定位 所在地"},{navigation:"导航 方向"},{near_me:"附近 靠近 正在进行 行走中 导航中"},{person_pin:"个人 地图 标记"},{person_pin_circle:"个人 地图 标记 圆形"},{pin_drop:"坐落 停留 到达 标记"},{place:"地点 坐标 方位 位置 标记"},{rate_review:"评分 评价 写评价 撰写 编写 气泡"},{restaurant:"餐馆 饮食 三餐 衣食住行 吃喝玩乐 生活 餐饮"},{restaurant_menu:"菜单 餐馆 美食 衣食住行 吃喝玩乐 生活 餐饮"},{satellite:"卫星 卫星定位 方形"},{store_mall_directory:"商店 商场 目录 购物 消费指南 生活"},{streetview:"街道视图 街景地图 街景 生活"},{subway:"地铁 地铁站 出行 交通 生活"},{terrain:"地形 地势 地带 地形图"},{traffic:"交通 运输 贸易 生活"},{train:"火车 出行 交通 运输 生活"},{tram:"电车 出行 交通 运输 生活"},{transfer_within_a_station:"换乘 站内换乘 出行 交通 生活"},{zoom_out_map:"缩放 地图缩放 地图"}],navigation:[{apps:"应用中心"},{arrow_back:"退回一步 返回 上一步 箭头"},{arrow_downward:"向下 箭头 引导"},{arrow_drop_down:"展开 向下 收起 三角形"},{arrow_drop_down_circle:"展开 向下展开 三角形 圆形"},{arrow_drop_up:"展开 向上 收起 三角形"},{arrow_forward:"前进一步 前进 跳转 向前 进入 向右箭头"},{arrow_upward:"向上 箭头 引导"},{cancel:"取消 关闭 叉 圆形"},{check:"完成 检查 勾选 选择 选中"},{chevron_left:"左 返回 回退 上一页 向左 V箭头"},{chevron_right:"右 前进 下一页 向右 V箭头"},{close:"关闭 取消 关闭窗口 叉"},{expand_less:"收起 向上 V箭头"},{expand_more:"展开 向下 V箭头"},{first_page:"第一页 跳转"},{fullscreen:"全屏显示 全屏预览"},{fullscreen_exit:"退出全屏"},{last_page:"最后一页 跳转"},{menu:"下拉菜单 列表"},{more_horiz:"更多 拓展 横向"},{more_vert:"更多 拓展 纵向"},{refresh:"刷新 箭头"},{subdirectory_arrow_left:"分目录 左三角"},{subdirectory_arrow_right:"分目录 右三角"}],notification:[{adb:"客户端 命令 指令"},{airline_seat_flat:"航班座位 平躺 人 行为"},{airline_seat_flat_angled:"航班座位 斜趟 人 行为"},{airline_seat_individual_suite:"航班座位 单人座椅 人 行为"},{airline_seat_legroom_extra:"航班座位 人 行为"},{airline_seat_legroom_normal:"航班座位 人 行为"},{airline_seat_legroom_reduced:"航班座位 人 行为"},{airline_seat_recline_extra:"航班座位 人 行为"},{airline_seat_recline_normal:"航班座位 人 行为"},{bluetooth_audio:"蓝牙 音频 连接蓝牙"},{confirmation_number:"确认号码 验证码 确认码"},{disc_full:"光盘 存储 存盘 磁盘已满"},{do_not_disturb:"勿扰模式 禁止 打扰 防打扰"},{do_not_disturb_alt:"勿扰模式 禁止打扰 防打扰"},{do_not_disturb_off:"关闭勿扰 勿扰模式"},{do_not_disturb_on:"打开 勿扰模式 打开勿扰"},{drive_eta:"行车 预计抵达 行车抵达"},{enhanced_encryption:"加密 编译密码"},{event_available:"可接 事件 行程 行程完成 完成事件"},{event_busy:"行程冲突 忙碌 不可接 未完成事件"},{event_note:"事件记录 事件笔记"},{folder_special:"星标文件夹 特别 特殊 星标"},{live_tv:"直播 哔哩哔哩 播放"},{mms:"短信 消息 图片信息 彩信 气泡"},{more:"更多"},{network_check:"网络检查 联网"},{network_locked:"锁定网络 信号栏"},{no_encryption:"未加密 不加密"},{ondemand_video:"VOD 视频点播 视频"},{personal_video:"个人视频"},{phone_bluetooth_speaker:"蓝牙电话 通话 音箱"},{phone_forwarded:"呼出 转拨 拨出 电话 转接"},{phone_in_talk:"正在通话 通话中 电话"},{phone_locked:"电话锁定 通话 电话"},{phone_missed:"未接来电 电话"},{phone_paused:"电话 通话暂停"},{power:"插电 充电 电力 接入电源"},{priority_high:"高优先级"},{sd_card:"SD卡 记忆卡"},{sim_card_alert:"SIM卡 提醒 警告"},{sms:"消息 短信 气泡"},{sms_failed:"消息提醒 短信 接收失败 气泡"},{sync:"同步 箭头"},{sync_disabled:"同步失败"},{sync_problem:"同步 问题"},{system_update:"系统更新 下载 箭头"},{tap_and_play:"轻触"},{time_to_leave:"离开时间 离开 车"},{vibration:"手机 震动"},{voice_chat:"语音 视频 聊天 可视"},{vpn_lock:"锁定"},{wc:"厕所 男 女 生活 符号"},{wifi:"WIFI 无线网络"}],places:[{ac_unit:"空调 制冷 降温 雪花"},{airport_shuttle:"机场接送 摆渡车 巴士 机场 大巴 机场班车 班车"},{all_inclusive:"全部 包含 无限 无穷 符号"},{beach_access:"沙滩 生活 社会活动"},{business_center:"商务中心 贸易中心 商店 商业中心 公文包 生意"},{casino:"俱乐部 赌场 娱乐场所 赌博 色子 骰子"},{child_care:"儿童护理 托儿所 护理中心 生活"},{child_friendly:"爱儿 亲子 婴儿车"},{fitness_center:"健身 健身场所 健身中心 健身房 杠铃 生活 社会活动"},{free_breakfast:"免费早餐 服务 提供 咖啡杯 饮食 吃喝玩乐 生活 社会"},{golf_course:"高尔夫 球场 娱乐 社会活动"},{hot_tub:"热水 浴缸 泡澡 洗浴中心 澡堂 生活"},{kitchen:"厨房 厨具 家电 冰箱 生活"},{pool:"泳池 游泳 生活 娱乐 体育"},{room_service:"客房服务 送餐 服务"},{rv_hookup:"观光线路 娱乐车 游览车"},{smoke_free:"无烟区 禁烟"},{smoking_rooms:"吸烟区"},{spa:"温泉浴场 矿泉 疗养"}],social:[{cake:"蛋糕 生日 节日 庆祝 社会活动 吃喝玩乐 派对"},{domain:"地产 建筑 社会 生活 买卖 交易"},{group:"团队 合作 多人"},{group_add:"添加 团队 合作 多人 加入"},{location_city:"所在地 所在城市 位置 建筑"},{mood:"心情 情绪 开心 愉悦 表情"},{mood_bad:"心情 情绪 难过 不开心 表情"},{notifications:"提醒 消息 铃"},{notifications_active:"响铃 开启 提醒"},{notifications_none:"无提醒"},{notifications_off:"关闭提醒"},{notifications_paused:"暂停 提醒 响铃"},{pages:"页码"},{party_mode:"多人模式 室内聚会 聚会 社交 社会活动"},{people:"多人 人群 社会 社交"},{people_outline:"多人 人群 社会 线形"},{person:"个人 私人 我 我的 本人 社会 活动"},{person_add:"添加 添加好友 新增 好友 社会 行为"},{person_outline:"个人 私人 我的 本人 社会 活动 线形"},{plus_one:"+1 赞同 同意 新增 意见 观点 个人 行为 社会"},{poll:"投票 选举 选票 统计 票数 计票 数据 民意调查 问卷 社会 行为"},{"public":"公众 全球 集体 政府 社会 公共场所 公用 公立"},{school:"学校 教育 学习 学院 学派 群体 学位 博士 硕士 毕业 社会 行为 学士帽"},{sentiment_dissatisfied:"心情 情绪 态度 不满意 不喜欢 喜好 程度 满意度"},{sentiment_neutral:"心情 情绪 态度 一般 中立 喜好 程度 满意度"},{sentiment_satisfied:"心情 情绪 态度 满意 喜欢 点赞 喜好 程度 满意度"},{sentiment_very_dissatisfied:"心情 情绪 极其 不满意 差评 很差 中立 喜好 程度 满意度"},{sentiment_very_satisfied:"心情 情绪 态度 十分满意 非常满意 喜欢 点赞 喜好 程度 满意度"},{share:"分享 社交 链接"},{whatshot:"热点 热门 话题 资讯 主打 特别推荐 大家关注 流行 社交 社会 行为"}],toggle:[{check_box:"确认 勾选 完成 选择 事项 事件 项目 方形"},{check_box_outline_blank:"确认 勾选 未完成 无 待办 待办事项 事件 项目 方形 线形"},{indeterminate_check_box:"不确定 未定 待定 事项 删减 减少 删除"},{radio_button_checked:"单选 按钮 选中 确认 选择 事项 事件 项目"},{radio_button_unchecked:"单选 按钮 未选中 确认 未选择 事项 事件 项目"},{star:"星标 星星 评分 等级 rate 选中 五角星"},{star_border:"星标 星星 评分 等级 rate 未选中 五角星"},{star_half:"星标 星星 评分 等级 rate 半选 五角星"}]};t["default"]=r,function(){var t=n(1)["default"],i=n(1).leaveModule;t&&(t.register(r,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/data/iconData.js"),i(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r=["text","rect","roundRect","square","round","hLine","vLine","inputText"],i=[{name:"文本",type:"text",url:window.staticUrl+window.baseContrImg.textImg},{name:"矩形",type:"rect",url:window.staticUrl+window.baseContrImg.rectImg},{name:"圆角矩形",type:"roundRect",url:window.staticUrl+window.baseContrImg.roundRectImg},{name:"图片",type:"baseImage",url:window.staticUrl+window.baseContrImg.imageBasicImg},{name:"图标",type:"baseIcon",url:window.staticUrl+window.baseContrImg.IconImg},{name:"输入框",type:"inputText",url:window.staticUrl+window.baseContrImg.inputTextImg},{name:"备注",type:"note",url:window.staticUrl+window.baseContrImg.noteImg},{name:"热区",type:"hotspot",url:window.staticUrl+window.baseContrImg.hotspotImg},{name:"水平线",type:"hLine",url:window.staticUrl+window.baseContrImg.hLineImg},{name:"垂直线",type:"vLine",url:window.staticUrl+window.baseContrImg.vLineImg},{name:"正方形",type:"square",url:window.staticUrl+window.baseContrImg.squareImg},{name:"圆形",type:"round",url:window.staticUrl+window.baseContrImg.roundImg},{name:"表格",type:"baseTable",url:window.staticUrl+window.baseContrImg.tableImg}],o={getTextType:function(){return r},getBaseContr:function(){return i},createTextContr:function(e,t,n,r,i){$.changeNums({textContr:i.textContr+1});var o=i.textContr,a={id:$.getNumKey(o),name:"文本 "+o,type:"text",content:$.isUndefined(e.content)?"文本":e.content,fontSize:14,lineHeight:10,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",isEdit:!1,lastContent:null,width:t.width,height:t.height,left:t.left,top:t.top,filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0};return"text"==e.type&&(a=$.extend(a,{horizontal:"hL",vertical:"vT",autoW:!0,autoH:!0,width:28,height:21})),"rect"==e.type?a=$.extend(a,{name:e.name+" "+o,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"roundRect"==e.type?a=$.extend(a,{name:e.name+" "+o,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,radius:16,baseContrType:e.type}):"square"==e.type?a=$.extend(a,{name:e.name+" "+o,content:"",WHrelation:!0,hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"round"==e.type?a=$.extend(a,{name:e.name+" "+o,content:"",WHrelation:!0,hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isMaxRadius:!0,isBaseShape:!0,baseContrType:e.type}):"vLine"==e.type||"hLine"==e.type?a=$.extend(a,{name:e.name+" "+o,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"inputText"==e.type&&(a=$.extend(a,{name:e.name+" "+o,content:"输入内容",textColor:"rgba(51, 51, 51, 1)",border:["rgba(153, 153, 153, 1)",1],indent:5,fontSize:12,radius:2,horizontal:"hL",baseContrType:e.type})),a},createIconContr:function(e,t,n,r,i){$.changeNums({iconContr:i.iconContr+1});var o=i.iconContr;return{id:$.getNumKey(o),name:"图标 "+o,type:"icon",iconKey:$.isUndefined(e.iconKey)?"insert_emoticon":e.iconKey,width:t.width,height:t.height,left:t.left,top:t.top,filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!0}},createHotspotContr:function(e,t,n,r,i){$.changeNums({hotspotContr:i.hotspotContr+1});var o=i.hotspotContr;return{id:$.getNumKey(o),name:"热区 "+o,type:"hotspot",width:t.width,height:t.height,left:t.left,top:t.top,isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!0}}},a=o;t["default"]=a,function(){var t=n(1)["default"],s=n(1).leaveModule;t&&(t.register(r,"TEXT_TYPE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/CreateContrHandle.js"),t.register(i,"BASE_CONTR","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/CreateContrHandle.js"),t.register(o,"CreateContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/CreateContrHandle.js"),t.register(a,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/handle/CreateContrHandle.js"),s(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(12));!function(){var t=n(1).enterModule;t&&t(e)}();var i=n(10).EventEmitter,o={list:[],index:-1},a=(0,r["default"])({},i.prototype,{setList:function(e){o.list=e},initVersion:function(e,t){o.list=e,t&&a.emitChange()},addVersion:function(e){o.list.push({title:e.title,desc:e.desc,time:e.time,key:e.key}),a.emitChange()},changeVersion:function(e){o.list.every(function(t){return t.key!==e.key||(t.title=e.title,t.desc=e.desc,!1)})},deleteVersion:function(e){var t=void 0;o.list.every(function(n,r){return n.key===e.key&&(t=r),!0}),o.list.splice(t,1),a.emitChange()},getVersion:function(){return o},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/VersionStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/VersionStore.js"),t.register(o,"version","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/VersionStore.js"),t.register(a,"VersionStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/VersionStore.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/VersionStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(149)),i=f(n(297)),o=f(n(38)),a=f(n(8)),s=f(n(28)),l=f(n(296)),c=f(n(70)),u=f(n(144)),d=f(n(58)),p=f(n(148));function f(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var h=void 0,g=void 0,m=void 0,_=null,v=[];function y(e){var t=[e.pageX,e.pageY],n=a["default"].isFixedView(),r=a["default"].getZoom(),i="",o=void 0;if(t[1]>window.document.body.clientHeight-Math.max(100,window.phoneSize.height*r+50)&&t[0]>window.document.body.clientWidth-Math.max(100,window.phoneSize.width*r+50)?i="":t[1]<100?i="top":t[1]>window.document.body.clientHeight-100?i="bottom":t[0]<100&&!n?i="left":t[0]>window.document.body.clientWidth-100&&!n&&(i="right"),""!=i){switch(o=s["default"].getCurPos(),$.isUndefined(g)||window.cancelAnimationFrame(g),i){case"top":_=function(){a["default"].isMultiFixed()&&(m||(m=$.getFixedViewMinTop(r))),c["default"].move({left:o.left,top:o.top+40*r*(1-Math.max(t[1]-0,0)/100),transition:!1,autoOff:!0,isMultiFixed:n,minTop:m}),g=window.requestAnimationFrame(_),n||w()};break;case"bottom":_=function(){a["default"].isMultiFixed()&&(m||(m=$.getFixedViewMinTop(r))),c["default"].move({left:o.left,top:o.top-40*r*(1-(window.document.body.clientHeight-t[1])/100),transition:!1,autoOff:!0,isMultiFixed:!0,minTop:m}),g=window.requestAnimationFrame(_),n||w()};break;case"left":_=function(){c["default"].move({left:o.left+40*r*(1-(t[0]-0)/100),top:o.top,transition:!1,autoOff:!0}),g=window.requestAnimationFrame(_),w()};break;case"right":_=function(){c["default"].move({left:o.left-40*r*(1-(window.document.body.clientWidth-t[0])/100),top:o.top,transition:!1,autoOff:!0}),g=window.requestAnimationFrame(_),w()}}_()}else $.isUndefined(g)||(window.cancelAnimationFrame(g),_=null,g=undefined)}function w(){var e=s["default"].getPageMoveDspl(),t=s["default"].getDspl();0===v.length&&a["default"].getPageSelect().forEach(function(e,t){v[t]=$.getElById("mainBox"+e)}),v.forEach(function(n){n.style.transform=$.setTranslateVals({x:e[0]-t[0],y:e[1]-t[1],z:0})})}var b={mouseDown:function(){h=null,r["default"].rightMenuShow(!1,!0)},mouseMove:function(e){window.mouseDownTarget.name?h&&(!h||e.clientX==h[0]&&e.clientY==h[1])||(window.mouseDownTarget.moveFunc(e),h=[e.clientX,e.clientY]):i["default"].getAnimLine().show&&l["default"].move({eX:e.pageX,eY:e.pageY}),a["default"].isMultiView()&&(o["default"].getIsDrag()||$.hasClass($.getElById("allPanel"),"dragTarget"))&&y(e),window.mousePosi=[e.pageX,e.pageY]},mouseUp:function(e){var t=$.getElById("reactBox");window.mouseDownTarget.name&&(window.mouseDownTarget.endFunc(e),$.mouseDownTargetInit()),$.isUndefined(g)||(window.cancelAnimationFrame(g),_=null,g=undefined),!e.altKey&&$.hasClass(t,"isAltKey")&&$.removeClass(t,"isAltKey"),v=[]},contextMenu:function(e){r["default"].rightMenuShow(!1,!0),e.preventDefault()},click:function(){var e=window.document.querySelector("body>.C_tip");"keyframe"!=a["default"].getView().mode&&u["default"].unselectFrame(),d["default"].hide(),p["default"].hide(),e&&(e.style.display="none")},wheel:function(e){}},C=b;t["default"]=C,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(h,"lastPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(g,"funcId","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(m,"fixedViewMinTop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(_,"scrollFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(v,"selectPageDoms","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(y,"_multiScrollMove","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(w,"_pagesMove","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(b,"MainEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),t.register(C,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/MainEvent.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({LEFTLABEL_CHANGE:null,LEFTLABEL_FOLD:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/LeftLabelConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(31)),i=a(n(76)),o=a(n(28));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s={moveWindowToCenterByContr:function(e,t,n){if(!window.isPc)return!1;var a=t||$.query(".mainBox.active #"+e);if(a){var s=$.offset($.query(".mainBox.active"),!0),l=s.left,c=s.top,u=s.width,d=s.height,p=r["default"].getZoom()/100,f=i["default"].getSize(),h=$.getMidPosi(),g=$.offset(a,!0,!0),m=$.getMinPosi({mainboxPosi:[l,c,u,d],midPosi:h},!0);!n&&$.collide(m,g)||o["default"].changePos({left:-((g[0]-l+g[2]/2)/p-f.width/2-f.left/p+(window.document.body.clientWidth-f.width)/2*(1-p)/p),top:-((g[1]-c+g[3]/2)/p-f.height/2-f.top/p+(window.document.body.clientHeight-f.height)/2*(1-p)/p),transition:!1,autoOff:!0})}}},l=s;t["default"]=l,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"ContrPosiEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/common/ContrPosiEvent.js"),t.register(l,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/common/ContrPosiEvent.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({EVENT_CREATE:null,EVENT_EDIT:null,EVENT_CHANGETYPE:null,EVENT_DELETE:null,EVENT_USEORIGIN:null,EVENT_DELETEACTION:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/EventConstants.js"),r(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({POPSELECT_HIDE:null,POPSELECT_TOGGLETRANSITION:null,POPSELECT_TOGGLEEASING:null,POPSELECT_SHOWEASING:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PopSelectConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({MOUSE_POSI:null,MOUSE_SHOW:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/MouseBoxConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(284));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={changePosi:function(e){r["default"].dispatch({actionType:i["default"].MOUSE_POSI,width:e.width,height:e.height,left:e.left,top:e.top})},show:function(e){r["default"].dispatch({actionType:i["default"].MOUSE_SHOW,isShow:e})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"MouseBoxActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/MouseBoxActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/MouseBoxActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({NOTE_ADD:null,NOTE_UPDATE:null,NOTE_REMOVE:null,NOTE_SWITCHDISPLAY:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/NoteConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(25));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={init:function(e,t){var n=r["default"].getContrByAll(t);i["default"].wrapBoxEdit(n,e),r["default"].emitChange()}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"WrapBoxEdit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/WrapBoxEdit.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/WrapBoxEdit.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({PREVIEW_SETPREVIEWDATA:null,PREVIEW_MOVE:null,PREVIEW_STOP:null,PREVIEW_PAUSE:null,PREVIEW_PLAY:null,PREVIEW_EXIT:null,PREVIEW_PREVIEW:null,PREVIEW_SETUNITW:null,PREVIEW_PREVIEWGROUP:null,PREVIEW_PREVIEWEVENT:null,PREVIEW_RESTART:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PreviewConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({SAVEDATA_CREATE:null,SAVEDATA_UNDO:null,SAVEDATA_REDO:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/SaveDataConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({CUTIMAGE_INIT:null,CUTIMAGE_EXIT:null,CUTIMAGE_CHANGECUTVALS:null,CUTIMAGE_ISCUTSPOT:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/CutImageConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({MERGEBOX_MOVE:null,MERGEBOX_INIT:null,MERGEBOX_BACKCOLOR:null,MERGEBOX_THISCONTR:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/MergeBoxConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({BOTTOMPANEL_TOGGLEFOLD:null,BOTTOMPANEL_CHANGEHEIGHT:null,BOTTOMPANEL_CHANGESCALE:null,BOTTOMPANEL_CHANGELEFT:null,BOTTOMPANEL_REVERSE:null,BOTTOMPANEL_CORRECTRANGE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/BottomPanelConstants.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=n(43),l=n.n(s),c=n(24),u=n(5),d=n(81),p=n.n(d),f=n(27),h=n.n(f),g=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_=window.$,v=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.columnIndex,o=n.lineIndex,s=n.i,l=n.left,d=n.top,f=n.isActivePage,g=s.child&&s.child[r+"_"+o],v=u["default"].isEditingTableCell({columnIndex:r,lineIndex:o}),y=s.columnPosi,w=s.linePosi,b=g&&g.text&&g.text.content||v,C={},S={},x=!1,E=s.columnPosi[r],P=s.linePosi[o],T="";if(b){t=(I=u["default"].getOneCellData({columnIndex:r,lineIndex:o},s)).text,v&&(t.isEdit=!0),S=h.a.getStyles({contr:I,type:"textBox"})}else{var j=s.child&&s.child[r+"_"+o];if(j&&j.hasBackColor){var I=u["default"].getOneCellData({columnIndex:r,lineIndex:o},s);x=!0,S=h.a.getStyles({contr:I,type:"textBox"})}}if(C=v?{onContextMenu:_.stopPropagation,onMouseDown:c.a.editMouseDownFunc}:{onContextMenu:c.a.cellContextMenu,onMouseDown:c.a.cellMouseDown,onMouseEnter:c.a.cellMouseEnter,onDoubleClick:c.a.celldbclick},g&&g.mergeColumn)for(var k=r+1;k<=r+g.mergeColumn;k++)E+=s.columnPosi[k];if(g&&g.mergeLine)for(k=o+1;k<=o+g.mergeLine;k++)P+=s.linePosi[k];return b&&(T=" "+t.horizontal+" "+t.vertical+(t.isB?" tB":"")+(t.isI?" tI":"")+(t.isU?" tU":"")),S&&delete S.borderRadius,i.a.createElement("div",m({className:a()("table-cell",{"is-editing":v,textC:b,"first-column":0===r,"last-row":r===w.length-1,"first-line":0===o,"last-line":o===y.length-1,"even-row":r%2==1,"even-line":o%2==1,"odd-column":r%2==0,"odd-line":o%2==0}),"data-columnindex":r,"data-lineindex":o},C,{style:{width:E,height:P,left:l,top:d}}),b?i.a.createElement("div",{className:a()("contrTextBox stretch-wrapper",(e={isEdit:v},e[""+t.horizontal]=!0,e[""+t.vertical]=!0,e.tB=t.isB,e.tI=t.isI,e.tU=t.isU,e.tS=t.isS,e)),style:S},i.a.createElement(p.a,{contrId:_.getContrId(s),contr:_.extend(!0,{width:E},t),isActivePage:f,isTable:!0,alignClass:T})):x?i.a.createElement("div",{className:a()("contrTextBox stretch-wrapper"),style:S}):undefined)},t}(i.a.Component),y=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=window.$,b=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.render=function(){for(var e=this.props,t=e.i,n=e.lineIndex,r=e.top,o=e.mergeObj,a=e.isActivePage,s=t.child,l=[],c=0,u=0;u<t.columnPosi.length;u++){var d=s[u+"_"+n];d&&(d.mergeColumn||d.mergeLine)&&w.addMergeKey(o,{columnIndex:u,lineIndex:n},d),-1===o.mergeCellArr.indexOf(u+"_"+n)&&l.push(i.a.createElement(v,{key:n+u,lineIndex:n,columnIndex:u,i:t,top:r,left:c,isActivePage:a})),c+=t.columnPosi[u]}return l},t}(i.a.Component),C=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=[["left","左","right",-22,-9],["right","右","left",10,-9],["top","上","bottom",14,0],["bottom","下","top",14,0]],x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={tableData:u["default"].getTableData()},n._onChange=n._onChange.bind(n),n._getCopyDom=n._getCopyDom.bind(n),n}return C(t,e),t.prototype.componentWillMount=function(){u["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){u["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({tableData:u["default"].getTableData()})},t.prototype._getCopyDom=function(){var e=[],t=u["default"].getTableSelectCell();return S.forEach(function(n){if(t){var r=t[0],o=r.columnIndex,a=r.lineIndex,s=t[1],l=s.columnIndex;if(s.lineIndex!==a&&("top"===n[0]||"bottom"===n[0])||l!==o&&("left"===n[0]||"right"===n[0]))return}e.push(i.a.createElement("div",{key:n[0],className:"copy-line copy-"+n[0]+"-line"},i.a.createElement("div",{"data-type":n[0],className:"copy-spot a_c","data-contr":"hovertip","data-option":'{"text":"向'+n[1]+'拖拽复制填充", "direction": "'+n[2]+'", "changePosi": '+n[3]+', "changeOtherPosi": '+n[4]+"}",onMouseDown:c.a.copySpotMouseDown})))}),i.a.createElement("div",{className:"copy-box"},e)},t.prototype.render=function(){var e=u["default"].getSelectCellPosi(),t=u["default"].getStartCellPosi();return i.a.createElement("div",{className:"table-select",style:{left:e.left-1,top:e.top-1,width:e.width+1,height:e.height+1}},i.a.createElement("div",{className:"shadow-box"},i.a.createElement("div",{className:"selectCell",style:{left:t.left,top:t.top,width:t.width,height:t.height}})),this._getCopyDom())},t}(i.a.Component),E=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T=window.$,j=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragKey:undefined},n._dragMouseDown=n._dragMouseDown.bind(n),n}return E(t,e),t.prototype._dragMouseDown=function(e){var t=this,n=parseInt(e.currentTarget.getAttribute("data-key"));t.setState({dragKey:n}),c.a.tableLineMouseDown(e,function(){t.setState({dragKey:undefined})})},t.prototype.render=function(){for(var e=this.props,t=e.i,n=e.mergeObj,r=[],o=T.isUndefined(this.state.dragKey)?{onMouseEnter:c.a.lineMouseEnter,onMouseLeave:c.a.lineMouseLeave}:{},s=n.mergeLineData.lineArr,l=0;l<=t.linePosi.length;l++){var u=0!=l&&l!=t.linePosi.length;(T.isUndefined(this.state.dragKey)||l===this.state.dragKey)&&r.push(i.a.createElement("div",{className:a()("table-horizontal-drag-line table-drag-line",{active:l===this.state.dragKey}),key:l+"drag-line","data-key":l,onMouseDown:this._dragMouseDown,style:{top:(l?T.getAddValFromArray(t.linePosi,0,l-1):0)-2-3,left:0,width:"100%",height:3}}));for(var d=0;d<t.columnPosi.length;d++){var p=T.getBorderVal(t,{columnIndex:d,lineIndex:l},!1),f=p.isOuter,h=p.val,g=p.color,m=p.style;if(-1===s.indexOf(l+"|"+d)){var _=0==h?3:h;r.push(i.a.createElement("div",P({},o,{className:a()("table-horizontal-line table-line",{"outer-line":f,"table-line-hide":0==h}),key:l+"_"+d+"line","data-key":l,style:{top:(l?T.getAddValFromArray(t.linePosi,0,l-1):0)-1-Math.floor(_/2),left:(d?T.getAddValFromArray(t.columnPosi,0,d-1):0)-1-(0==d&&u?0:Math.floor(_/2)),width:t.columnPosi[d]+(d==t.columnPosi.length-1&&u?Math.floor(_/2):_)-(0==d&&u?Math.floor(_/2):0),height:_,borderTop:_+"px "+T.getBorderStyle("style",m)+" "+g}})))}}}return i.a.createElement("div",{className:a()("table-line-box",{isDraging:!T.isUndefined(this.state.dragKey)})},r)},t}(i.a.Component),I=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A=window.$,D=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragKey:undefined},n._dragMouseDown=n._dragMouseDown.bind(n),n}return I(t,e),t.prototype._dragMouseDown=function(e){var t=this,n=parseInt(e.currentTarget.getAttribute("data-key"));t.setState({dragKey:n}),c.a.tableLineMouseDown(e,function(){t.setState({dragKey:undefined})})},t.prototype.render=function(){for(var e=this.props,t=e.i,n=e.mergeObj,r=[],o=A.isUndefined(this.state.dragKey)?{onMouseEnter:c.a.lineMouseEnter,onMouseLeave:c.a.lineMouseLeave}:{},s=n.mergeLineData.rowArr,l=0;l<=t.columnPosi.length;l++){var u=0!=l&&l!=t.columnPosi.length;(A.isUndefined(this.state.dragKey)||l===this.state.dragKey)&&r.push(i.a.createElement("div",{className:a()("table-Vertical-drag-line table-drag-line",{active:l===this.state.dragKey}),key:l+"drag-line","data-key":l,onMouseDown:this._dragMouseDown,style:{top:0,left:(l?A.getAddValFromArray(t.columnPosi,0,l-1):0)-2-3,width:3,height:"100%"}}));for(var d=0;d<t.linePosi.length;d++){var p=A.getBorderVal(t,{columnIndex:l,lineIndex:d},!0),f=p.isOuter,h=p.val,g=p.color,m=p.style;if(-1===s.indexOf(l+"|"+d)){var _=0==h?3:h;r.push(i.a.createElement("div",k({},o,{className:a()("table-Vertical-line table-line",{"outer-line":f,"table-line-hide":0==h}),key:l+"_"+d+"line","data-key":l,style:{top:(d?A.getAddValFromArray(t.linePosi,0,d-1):0)-1-(0==d&&u?0:Math.floor(_/2)),left:(l?A.getAddValFromArray(t.columnPosi,0,l-1):0)-1-Math.floor(_/2),width:_,height:t.linePosi[d]+(d==t.linePosi.length-1&&u?Math.floor(_/2):_)-(0==d&&u?Math.floor(_/2):0),borderLeft:_+"px "+A.getBorderStyle("style",m)+" "+g}})))}}}return i.a.createElement("div",{className:a()("table-line-box",{isDraging:!A.isUndefined(this.state.dragKey)})},r)},t}(i.a.Component),O=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=window.$,M=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return O(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:"table-add-box"},i.a.createElement("div",{className:"column-add table-add-btn a_c","data-contr":"hovertip","data-option":$.objToString({text:"点击添加一列",direction:"left",changeOtherPosi:-5}),onMouseDown:c.a.tableAddColumnFunc}),i.a.createElement("div",{className:"line-add table-add-btn a_c","data-contr":"hovertip","data-option":$.objToString({text:"点击添加一行",direction:"top",changeOtherPosi:0}),onMouseDown:c.a.tableAddLineFunc}))},t}(i.a.Component),L=n(3),N=n.n(L),U=n(8),R=n.n(U);n.d(t,"TableContrComp",function(){return q});var B,H=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F=window.$,q=function(e){function t(t){var r=e.call(this,t)||this;return B=n(27)["default"],r._getTableCellList=r._getTableCellList.bind(r),r}return H(t,e),t.prototype._getTableCellList=function(e){for(var t=this.props,n=t.i,r=t.isInSymbol,o=n.interfaceId==R.a.getActivePage()||r,a=[],s=0,l=0;l<n.linePosi.length;l++)a.push(i.a.createElement(b,{key:l,lineIndex:l,i:n,top:s,mergeObj:e,isActivePage:o})),s+=n.linePosi[l];return a},t.prototype.render=function(){var e,t,n,r=this.props,o=r.i,s=r.isInSymbol,c=r.isStartState,d=r.specialType,p=r.isWrap,f=r.contrId,h=N.a.getSelect().length,g=o&&o.interfaceId==R.a.getActivePage()||s,m=B.getStyles({contr:o,type:"box"}),_=B.getStyles({contr:o,type:"tableBox"}),v={isC:!0,tableC:!0,isStartState:c,mDiv:!1,isHover:this.props.isHover},y={},w=!1,b={mergeCellArr:[],mergeLineData:{rowArr:[],lineArr:[]}};if(g&&"isInLib"!=d){var C=B.getEventTag(o),S=B.getAnimTag(o),E=B.getNoteTag(o),P=p?B.getmDivCoverEvent(c):B.getCoverEvent(c);if(t=i.a.createElement(l.a,V({},{isOpt:o.isOpt,width:o.width,height:o.height,rotate:0})),o.isOpt){var T=u["default"].getTableData(),I=T.selectContr,k=T.selectCell;I&&k&&(w=!0)}n=w?undefined:i.a.createElement("div",V({},P,{className:"cover"}),E,C,S),p&&(y={onMouseDown:F.stopPropagation})}return p?v.mDiv=!0:F.extend(v,{cDiv:!0,opt:o.isOpt,isOnlyOpt:1==h&&o.isOpt,lock:o.isLock,"select-cell":w}),i.a.createElement("div",V({key:f,ref:f,className:a()(v),id:f,"data-id":f,"data-type":o.type,style:m},y),t,i.a.createElement("div",{className:a()("table-cell-box",(e={},e["table-style-"+o.styleIndex]=!0,e)),style:_},this._getTableCellList(b),i.a.createElement(j,{mergeObj:b,i:o}),i.a.createElement(D,{mergeObj:b,i:o})),1==h&&o.isOpt?i.a.createElement(M,{i:o}):undefined,w?i.a.createElement(x,{i:o}):undefined,n)},t}(i.a.Component);t["default"]=q},function(e,t,n){"use strict";n.r(t),n.d(t,"createTableContr",function(){return a});var r=n(38),i=n.n(r),o=window.$;function a(e,t,n){var r=i.a.add({posi:t.posi}),a=window.isPc?{width:600,height:240,columnPosi:[150,150,150,150],linePosi:[48,48,48,48,48]}:{width:320,height:150,columnPosi:[80,80,80,80],linePosi:[30,30,30,30,30]},s="baseTable"==t.type?a:t;n&&o.extend(!0,s,n),r&&o.extend(!0,s,r),o.changeNums({tableContr:e.tableContr+1});var l=e.tableContr;return{id:o.getNumKey(l),name:"表格 "+l,type:"table",isLock:!1,isShow:!0,hasBackColor:!0,backColor:"rgba(255, 255, 255, 1)",opacity:100,rotate:0,isOpt:!0,width:s.width,height:s.height,left:s.left,top:s.top,columnPosi:s.columnPosi,linePosi:s.linePosi,rowMin:[],lineMin:[],child:{},outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],styleIndex:0,shadow:0}}t["default"]={createTableContr:a}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r={createSymbol:function(e){var t=n(8)["default"],r=n(7)["default"],i=t.getProid(),o=$.extend({Nums:{},symbolContrs:{},contrArr:[],widthHeight:[],name:"",symbol:{}},e);$.changeNums({symbol:o.Nums.symbol+1});var a=$.getNumKey(o.Nums.symbol);o.symbolContrs.symbols[a]||(o.symbolContrs.symbols[a]={});var s=o.symbolContrs.symbols[a];s.width=o.widthHeight[0],s.height=o.widthHeight[1];var l=s.hierarchy=[];return s.name=o.name,s.uniqueKey=i+a.toString(16)+(new Date).getTime().toString(16),window.userKey&&$.addUserKeyToContr(s),o.contrArr.forEach(function(e){var t=$.getContrId(e);o.symbolContrs.contrs[t]=e,l.unshift(t)}),setTimeout(function(){r.show("已生成【"+s.name+"】引用组件")},0),a},createSymbolFromImport:function(e,t,r,i){var o=n(8)["default"],a=n(26)["default"],s=n(7)["default"],l=o.getProid();$.changeNums({symbol:t.symbol+1});var c=$.getNumKey(t.symbol);return r.symbols[c]=$.extend(!0,{},e),window.userKey&&(r.symbols[c].userKey=window.userKey),i||(r.symbols[c].uniqueKey=l+c.toString(16)+(new Date).getTime().toString(16)),a.setAdding(!0),setTimeout(function(){a.setAdding(!1),s.show("已生成【"+e.name+"】引用组件")},0),c},createSymbolContr:function(e){var t=$.extend({contrs:{},symbolKey:"",contr:{},contrKey:""},e),n=t.contr;return{id:t.contrKey,symbolKey:t.symbolKey,name:n.name,type:"symbol",left:n.left,top:n.top,bgColor:"rgba(255, 255, 255, 1)",isLock:!1,isShow:!0,isOpt:!0,scale:10,rotate:0,opacity:100,children:{}}},contrToSymbolClearVal:function(e,t){var n=[t.left,t.top],i=$.getContrId(e);if(e.left=(e.left||0)-n[0],e.top=(e.top||0)-n[1],delete e.interfaceId,delete e.mergeName,r.removechildInterfaceId(e),e.states)for(var o in e.states)if(e.states[o]&&e.states[o].contrs[i]){var a=e.states[o].contrs[i];$.isUndefined(a.left)||(a.left=(a.left||0)-n[0]),$.isUndefined(a.left)||(a.top=(a.top||0)-n[1])}},removechildInterfaceId:function(e){if($.isUndefined(e.interfaceId)||delete e.interfaceId,"wrapbox"==e.type)for(var t in e.contrs)r.removechildInterfaceId(e.contrs[t])}},i=r;t["default"]=i,function(){var t=n(1)["default"],o=n(1).leaveModule;t&&(t.register(r,"contrSymbol","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Contr/symbol.js"),t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Contr/symbol.js"),o(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(102));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={show:function(e){r["default"].dispatch({actionType:i["default"].ANIMLINE_SHOW,pos:e})},move:function(e){r["default"].dispatch({actionType:i["default"].ANIMLINE_MOVE,endPos:e})},hide:function(){r["default"].dispatch({actionType:i["default"].ANIMLINE_HIDE})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"AnimLineActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimLineActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimLineActions.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(4)),o=a(n(102));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l={style:{},show:!1},c={};function u(e){var t=(c=$.extend(c,e)).sX-c.eX,n=c.sY-c.eY,r=Math.abs(t),i=Math.abs(n),o=Math.sqrt(r*r+i*i),a=$.getAngle(c.sX,c.sY,c.eX,c.eY,!0);l={style:{left:c.sX,top:c.sY,transform:"rotate("+a+"deg)",width:o-5},show:!0}}function d(){l.show=!1}var p=(0,r["default"])({},s.prototype,{getAnimLine:function(){return l},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});i["default"].register(function(e){switch(e.actionType){case o["default"].ANIMLINE_SHOW:u(e.pos),p.emitChange();break;case o["default"].ANIMLINE_MOVE:u(e.endPos),p.emitChange();break;case o["default"].ANIMLINE_HIDE:d(),p.emitChange()}});var f=p;t["default"]=f,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register(l,"animLine","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register(c,"pos","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register(u,"show","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register(d,"hide","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register(p,"AnimLineStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),t.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/AnimLineStore.js"),r(e))}()}).call(this,n(2)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrNoteComp=function(_React$Component){function ContrNoteComp(e){(0,_classCallCheck3["default"])(this,ContrNoteComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ContrNoteComp.__proto__||(0,_getPrototypeOf2["default"])(ContrNoteComp)).call(this,e));return t.state={},t._noteMouseEnter=t._noteMouseEnter.bind(t),t._noteMouseLeave=t._noteMouseLeave.bind(t),t}return(0,_inherits3["default"])(ContrNoteComp,_React$Component),(0,_createClass3["default"])(ContrNoteComp,[{key:"render",value:function(){var e=this.props.i,t=$.getContrId(e);return _react2["default"].createElement("div",{key:"note_"+t,className:"note-box contr-note-box",id:"noteBox"+t,"data-id":t,"data-content":e.noteContent,onMouseEnter:this._noteMouseEnter,onMouseLeave:this._noteMouseLeave,onClick:$.stopPropagation},_react2["default"].createElement("div",{className:"note",onMouseDown:this._noteMouseDown},"N"))}},{key:"_noteMouseEnter",value:function(e){$.addClass($.getElById("noteItem"+e.currentTarget.getAttribute("data-id")),"hover")}},{key:"_noteMouseLeave",value:function(e){$.removeClass($.getElById("noteItem"+e.currentTarget.getAttribute("data-id")),"hover")}},{key:"_noteMouseDown",value:function(){$("#rightPanel").addClass("hideSetting"),setTimeout(function(){$("#rightPanel").removeClass("hideSetting");var e=$.getElById("noteLabel");e&&e.click(),setTimeout(function(){var e=$.getElById("editNoteTextarea");e&&e.focus()},0)},0)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ContrNoteComp}(_react2["default"].Component),_default=ContrNoteComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrNoteComp,"ContrNoteComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/ContrNote.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/ContrNote.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_RotateBox=__webpack_require__(43),_RotateBox2=_interopRequireDefault(_RotateBox),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(8),_ViewStore2=_interopRequireDefault(_ViewStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,HotspotContrComp=function(_React$Component){function HotspotContrComp(e){(0,_classCallCheck3["default"])(this,HotspotContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(HotspotContrComp.__proto__||(0,_getPrototypeOf2["default"])(HotspotContrComp)).call(this,e));return ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(HotspotContrComp,_React$Component),(0,_createClass3["default"])(HotspotContrComp,[{key:"render",value:function(){var e=this.props.i,t=_ContrStore2["default"].getSelect().length,n=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,r=ContrHandle.getStyles({contr:e,type:"box"}),i=void 0,o=void 0,a={isC:!0,hotspotC:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},s={};if(n&&"isInLib"!=this.props.specialType){var l=ContrHandle.getEventTag(e),c=ContrHandle.getAnimTag(e),u=ContrHandle.getNoteTag(e),d=this.props.isWrap?ContrHandle.getmDivCoverEvent(this.props.isStartState):ContrHandle.getCoverEvent(this.props.isStartState);i=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),o=_react2["default"].createElement("div",(0,_extends3["default"])({},d,{className:"cover"}),u,l,c),this.props.isWrap&&(s={onMouseDown:$.stopPropagation})}return this.props.isWrap?$.extend(a,{mDiv:!0}):$.extend(a,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==t&&e.isOpt,lock:e.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(a),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:r},s),i,_react2["default"].createElement("div",{className:"hotspot-dom"}),o)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),HotspotContrComp}(_react2["default"].Component),_default=HotspotContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/HotspotContr.react.js"),e.register(HotspotContrComp,"HotspotContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/HotspotContr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/HotspotContr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_LinkLine=__webpack_require__(97),_LinkLine2=_interopRequireDefault(_LinkLine),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(8),_ViewStore2=_interopRequireDefault(_ViewStore),_DragContrStore=__webpack_require__(38),_DragContrStore2=_interopRequireDefault(_DragContrStore),_MergeBoxStore=__webpack_require__(25),_MergeBoxStore2=_interopRequireDefault(_MergeBoxStore),_SymbolMaskStore=__webpack_require__(26),_SymbolMaskStore2=_interopRequireDefault(_SymbolMaskStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,SymbolContrComp=function(_React$Component){function SymbolContrComp(e){(0,_classCallCheck3["default"])(this,SymbolContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(SymbolContrComp.__proto__||(0,_getPrototypeOf2["default"])(SymbolContrComp)).call(this,e));return ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(SymbolContrComp,_React$Component),(0,_createClass3["default"])(SymbolContrComp,[{key:"render",value:function(){var e=this.props.i,t=_ContrStore2["default"].getSelect().length,n=_ViewStore2["default"].getViewMode(),r=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,i=ContrHandle.getStyles({contr:e,type:"box"}),o=ContrHandle.getStyles({contr:e,styleList:["opacity"]}),a={},s=_SymbolMaskStore2["default"].getSymbolMask(),l="symbolMask"==this.props.specialType,c=[],u={},d={},p=void 0,f=void 0,h={isC:!0,wrapBox:!0,isStartState:this.props.isStartState,symbolDiv:"isInLib"!=this.props.specialType,isHover:this.props.isHover},g={},m=void 0;if(this.props.symbolChild?m=$.extend(!0,$.extend(!0,{},e.children),this.props.symbolChild):s.isShow?s.thisContrKey==$.getContrId(e)&&(m={}):m=$.extend(!0,{},e.children),e.hierarchy)for(var _=0;_<e.hierarchy.length;_++){var v=e.contrs[e.hierarchy[e.hierarchy.length-1-_]],y=void 0,w="keyframe"==this.props.specialType||"isInLib"==this.props.specialType?this.props.specialType:"";if(_DragContrStore2["default"].getIsDrag())y=v;else if(v&&(!this.props.isStartState&&v.hoverState&&v.hoverState.isEndHover?(y=_ContrStore2["default"].getAllValsContr({contrKey:v,type:"hover"}),p=!0):(y=_ContrStore2["default"].getAllValsContr({contrKey:v,type:this.props.isHover?"hover":this.props.isStartState?"start":undefined}),p=this.props.isHover),1==t&&this.props.contrastContr&&$.getContrId(this.props.contrastContr)==$.getContrId(v))){var b=_ContrStore2["default"].getAllValsContr({contrKey:v,type:"start"});c.push(ContrHandle.createContr(b,this.props.contrastContr,!1,!0,undefined,undefined,"symbolMask"==this.props.specialType)),c.push(_react2["default"].createElement(_LinkLine2["default"],{key:"linkLine",start:b,end:y}))}var C=y;if("preview"==n||"drag-preview"==n)_ContrStore2["default"].getSelect()[0]==$.getContrId(y)&&(w="preview");"isInLib"==this.props.specialType&&(w=this.props.specialType),e.isDragContr&&(C.isDragContr=!0),C&&c.push(ContrHandle.createContr(C,this.props.contrastContr,!l,this.props.isStartState,w,p,r,m))}if(r&&"isInLib"!=this.props.specialType){var S=ContrHandle.getEventTag(e),x=ContrHandle.getAnimTag(e),E=ContrHandle.getNoteTag(e),P=void 0,T=!0;if(e.isOpen&&!this.props.isStartState){var j=_MergeBoxStore2["default"].getThisContr(),I=!!j&&(e.isOpen&&e.type==j.type&&e.id==j.id);T=!1,$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,open:e.isOpen,openNow:I}),u={onMouseDown:ContrHandle._coverMouseDown}}else this.props.isWrap?(P=ContrHandle.getmDivCoverEvent(this.props.isStartState),g={onMouseDown:$.stopPropagation}):P=ContrHandle.getCoverEvent(this.props.isStartState);T&&(f=_react2["default"].createElement("div",(0,_extends3["default"])({},P,{className:"cover"}),E,S,x))}if(this.props.isWrap?h.mDiv=!0:$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,isOnlyOpt:!l&&1==t&&e.isOpt,isSymbolEdit:l}),"symbol"==e.type&&10!=e.scale){var k=e.scale/10;d={transform:"scale("+k+")",left:-1*k,top:-1*k},l||(i.width*=k,i.height*=k)}return l&&(a={background:_SymbolMaskStore2["default"].getSymbolBackColor(),width:i.width,height:i.height}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(h),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,"data-symbolkey":e.symbolKey,style:i},g),l?_react2["default"].createElement("div",{className:"symbol-bg-box",style:a}):undefined,"isInLib"!=this.props.specialType&&"symbolMask"!=this.props.specialType&&s.isShow&&s.thisContrKey==$.getContrId(e)&&"multi-view"!=_ViewStore2["default"].getViewMode()?undefined:_react2["default"].createElement("div",(0,_extends3["default"])({id:"isInLib"==this.props.specialType?"":"symbolWrapper",className:(0,_classnames2["default"])({contrWrapBox:!0,"symbol-wrapper":!0,"stretch-wrapper":!0,"symbol-edit-wrapper":l}),style:o},u),_react2["default"].createElement("div",{className:"contrGroup stretch-wrapper",style:d},c)),l?undefined:f)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SymbolContrComp}(_react2["default"].Component),_default=SymbolContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/SymbolContr.react.js"),e.register(SymbolContrComp,"SymbolContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/SymbolContr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/SymbolContr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_LinkLine=__webpack_require__(97),_LinkLine2=_interopRequireDefault(_LinkLine),_RotateBox=__webpack_require__(43),_RotateBox2=_interopRequireDefault(_RotateBox),_OuterBorderBox=__webpack_require__(79),_OuterBorderBox2=_interopRequireDefault(_OuterBorderBox),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(8),_ViewStore2=_interopRequireDefault(_ViewStore),_DragContrStore=__webpack_require__(38),_DragContrStore2=_interopRequireDefault(_DragContrStore),_MergeBoxStore=__webpack_require__(25),_MergeBoxStore2=_interopRequireDefault(_MergeBoxStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,WrapboxContrComp=function(_React$Component){function WrapboxContrComp(e){(0,_classCallCheck3["default"])(this,WrapboxContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(WrapboxContrComp.__proto__||(0,_getPrototypeOf2["default"])(WrapboxContrComp)).call(this,e));return ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(WrapboxContrComp,_React$Component),(0,_createClass3["default"])(WrapboxContrComp,[{key:"render",value:function(){for(var e=this.props.i,t=_ContrStore2["default"].getSelect().length,n=_ViewStore2["default"].getViewMode(),r=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,i=ContrHandle.getStyles({contr:e,type:"box"}),o=ContrHandle.getStyles({contr:e,styleList:["insetBorder","radius"]}),a=ContrHandle.getStyles({contr:e,styleList:["opacity","radius","outerHidden","backColor","shadow","filter"],isActivePage:r}),s=[],l={},c=void 0,u=void 0,d=!0,p=!0,f=void 0,h={isC:!0,wrapBox:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},g={},m=0;m<e.hierarchy.length;m++){var _=e.contrs[e.hierarchy[e.hierarchy.length-1-m]];try{var v=void 0,y="keyframe"==this.props.specialType?this.props.specialType:"";if(_DragContrStore2["default"].getIsDrag()||"isInLib"==this.props.specialType)v=_;else if(!this.props.isStartState&&_&&_.hoverState&&_.hoverState.isEndHover?(v=_ContrStore2["default"].getAllValsContr({contrKey:_,type:"hover"}),c=!0):(v=_ContrStore2["default"].getAllValsContr({contrKey:_,type:this.props.isHover?"hover":this.props.isStartState?"start":undefined}),c=this.props.isHover),1==t&&this.props.contrastContr&&$.getContrId(this.props.contrastContr)==$.getContrId(_)){var w=_ContrStore2["default"].getAllValsContr({contrKey:_,type:"start"});s.push(ContrHandle.createContr(w,this.props.contrastContr,!1,!0,undefined,undefined,this.props.isInSymbol)),s.push(_react2["default"].createElement(_LinkLine2["default"],{key:"linkLine",start:w,end:v}))}var b=v;if("preview"==n||"drag-preview"==n)_ContrStore2["default"].getSelect()[0]==$.getContrId(v)&&(y="preview");"isInLib"==this.props.specialType&&(y=this.props.specialType),e.isDragContr&&(b.isDragContr=!0),s.push(ContrHandle.createContr(b,this.props.contrastContr,!e.isOpen,this.props.isStartState,y,c,this.props.isInSymbol,this.props.symbolChild))}catch(I){log&&log(I)}}if(!r&&this.props.isWrap||"isInLib"==this.props.specialType)e.insetBorder&&"0"!=e.insetBorder[1]||(d=null),$.hasSpecialBorderStyle(e.border)||(p=null);else{var C=ContrHandle.getEventTag(e),S=ContrHandle.getAnimTag(e),x=ContrHandle.getNoteTag(e),E=void 0,P=!0;if(e.isOpen&&!this.props.isStartState){var T=_MergeBoxStore2["default"].getThisContr(),j=!!T&&(e.isOpen&&e.type==T.type&&e.id==T.id);a.overflow="visible",P=!1,$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,open:e.isOpen,openNow:j}),l={onMouseDown:ContrHandle._coverMouseDown}}else this.props.isWrap?(E=ContrHandle.getmDivCoverEvent(this.props.isStartState),g={onMouseDown:$.stopPropagation}):E=ContrHandle.getCoverEvent(this.props.isStartState);u=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),P&&(f=_react2["default"].createElement("div",(0,_extends3["default"])({},E,{className:"cover"}),x,C,S))}return d&&(d=_react2["default"].createElement("div",{className:"contrBorder stretch-wrapper",style:o})),p&&(p=_react2["default"].createElement(_OuterBorderBox2["default"],{contr:e,isActivePage:r})),this.props.isWrap?h.mDiv=!0:$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,isOnlyOpt:1==t&&e.isOpt}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(h),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:i},g),u,_react2["default"].createElement("div",(0,_extends3["default"])({className:"contrWrapBox stretch-wrapper",style:a},l),_react2["default"].createElement("div",{className:"contrGroup stretch-wrapper"},s),d),p,f)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),WrapboxContrComp}(_react2["default"].Component),_default=WrapboxContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/WrapboxContr.react.js"),e.register(WrapboxContrComp,"WrapboxContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/WrapboxContr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/WrapboxContr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,CoverImageComp=function(_React$Component){function CoverImageComp(e){(0,_classCallCheck3["default"])(this,CoverImageComp),ContrHandle=__webpack_require__(27)["default"];var t=(0,_possibleConstructorReturn3["default"])(this,(CoverImageComp.__proto__||(0,_getPrototypeOf2["default"])(CoverImageComp)).call(this,e));return t.state={isDroping:!1},t._inputChangeImg=t._inputChangeImg.bind(t),t._changeImage=t._changeImage.bind(t),t._imgDropImage=t._imgDropImage.bind(t),t._imgDragOver=t._imgDragOver.bind(t),t._imgDragEnter=t._imgDragEnter.bind(t),t._imgDragLeave=t._imgDragLeave.bind(t),t}return(0,_inherits3["default"])(CoverImageComp,_React$Component),(0,_createClass3["default"])(CoverImageComp,[{key:"render",value:function(){return _react2["default"].createElement("div",(0,_extends3["default"])({},this.props.coverEvent,{className:"cover"+(this.state.isDroping?" droping":""),style:this.props.coverStyle,onDrop:this._imgDropImage,onDragOver:this._imgDragOver,onDragEnter:this._imgDragEnter,onDragLeave:this._imgDragLeave}),ContrHandle.getNoteTag(this.props.contr),ContrHandle.getEventTag(this.props.contr),ContrHandle.getAnimTag(this.props.contr))}},{key:"_inputChangeImg",value:function(e){e.preventDefault(),this._changeImage(e.target.files[0])}},{key:"_changeImage",value:function(e){var t=new Image,n=new FormData;n.append("imgs",e),t.src=window.URL.createObjectURL(e),t.onload=function(){_ContrStore2["default"].updateImageContrData({src:t.src,name:e.name,width:t.width,height:t.height,fd:n})}}},{key:"_imgDropImage",value:function(e){e.preventDefault(),e.stopPropagation(),_ContrStore2["default"].selectChange([$(".cover.droping").parent().attr("id")]),this._changeImage(e.dataTransfer.files[0]),this.setState({isDroping:!1})}},{key:"_imgDragOver",value:function(e){this.setState({isDroping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragEnter",value:function(e){this.setState({isDroping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragLeave",value:function(e){this.setState({isDroping:!1}),e.preventDefault(),e.stopPropagation()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CoverImageComp}(_react2["default"].Component),_default=CoverImageComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/CoverImage.react.js"),e.register(CoverImageComp,"CoverImageComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/CoverImage.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/CoverImage.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_CoverImage=__webpack_require__(302),_CoverImage2=_interopRequireDefault(_CoverImage),_RotateBox=__webpack_require__(43),_RotateBox2=_interopRequireDefault(_RotateBox),_OuterBorderBox=__webpack_require__(79),_OuterBorderBox2=_interopRequireDefault(_OuterBorderBox),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_CutImageStore=__webpack_require__(40),_CutImageStore2=_interopRequireDefault(_CutImageStore),_ViewStore=__webpack_require__(8),_ViewStore2=_interopRequireDefault(_ViewStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,ImageContrComp=function(_React$Component){function ImageContrComp(e){(0,_classCallCheck3["default"])(this,ImageContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ImageContrComp.__proto__||(0,_getPrototypeOf2["default"])(ImageContrComp)).call(this,e));return ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(ImageContrComp,_React$Component),(0,_createClass3["default"])(ImageContrComp,[{key:"render",value:function(){var e=this.props.i;e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"src"),e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"cutVals");var t=_CutImageStore2["default"].getCutImage(),n=t.isShow&&$.getContrId(e)==t.thisImageKey,r=_ContrStore2["default"].getSelect().length,i=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,o=ContrHandle.getStyles({contr:e,type:"box"}),a=ContrHandle.getStyles({contr:e,styleList:["insetBorder","radius"]}),s=ContrHandle.getStyles({contr:e,styleList:e.layers&&e.layers.length>0||e.isSvg?["opacity","shadow","radius"]:["opacity","backColor","shadow","radius"],isActivePage:i}),l=void 0,c=!0,u=!0,d=void 0,p={isC:!0,imageC:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},f={};return i&&"isInLib"!=this.props.specialType?(l=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),this.props.isWrap?(f={onMouseDown:$.stopPropagation},d=_react2["default"].createElement("div",(0,_extends3["default"])({},ContrHandle.getmDivCoverEvent(this.props.isStartState),{className:"cover"}),ContrHandle.getNoteTag(e),ContrHandle.getEventTag(e),ContrHandle.getAnimTag(e))):d=_react2["default"].createElement(_CoverImage2["default"],{contr:e,coverEvent:ContrHandle.getCoverEvent(this.props.isStartState),isStartState:this.props.isStartState})):(e.insetBorder&&"0"!=e.insetBorder[1]||(u=null),$.hasSpecialBorderStyle(e.border)||(c=null)),u&&(u=_react2["default"].createElement("div",{className:"contrBorder stretch-wrapper",style:a})),c&&(c=_react2["default"].createElement(_OuterBorderBox2["default"],{contr:e,isActivePage:i})),this.props.isWrap?p.mDiv=!0:$.extend(p,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==r&&e.isOpt,lock:e.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(p),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:o},f),l,n?undefined:_react2["default"].createElement("div",{className:"cutImgOutBox stretch-wrapper",style:s},ContrHandle.getImageNode(e),u),c,d)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ImageContrComp}(_react2["default"].Component),_default=ImageContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/ImageContr.react.js"),e.register(ImageContrComp,"ImageContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/ImageContr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/ImageContr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_RotateBox=__webpack_require__(43),_RotateBox2=_interopRequireDefault(_RotateBox),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(8),_ViewStore2=_interopRequireDefault(_ViewStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0,IconContrComp=function(_React$Component){function IconContrComp(e){(0,_classCallCheck3["default"])(this,IconContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(IconContrComp.__proto__||(0,_getPrototypeOf2["default"])(IconContrComp)).call(this,e));return ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(IconContrComp,_React$Component),(0,_createClass3["default"])(IconContrComp,[{key:"render",value:function(){var e=this.props.i;e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"iconKey");var t=_ContrStore2["default"].getSelect().length,n=1,r=1,i=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,o=ContrHandle.getStyles({contr:e,type:"box"}),a={fontSize:Math.ceil(Math.max(e.width,12)),color:e.iconColor,opacity:e.opacity/100,WebkitFilter:$.getFilter(e.filter)},s=Math.ceil(e.width),l=void 0,c=void 0,u={isC:!0,iconC:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},d={};if(e.width!=e.height&&(r=e.height/e.width),e.width<12&&(n=n*s/12,r=r*s/12),1==n&&1==r||(a.transform=(1!=n?"scaleX("+n+")":"")+(1!=r?" scaleY("+r+")":"")),i&&"isInLib"!=this.props.specialType){var p=ContrHandle.getEventTag(e),f=ContrHandle.getAnimTag(e),h=ContrHandle.getNoteTag(e),g=this.props.isWrap?ContrHandle.getmDivCoverEvent(this.props.isStartState):ContrHandle.getCoverEvent(this.props.isStartState);l=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),c=_react2["default"].createElement("div",(0,_extends3["default"])({},g,{className:"cover"}),h,p,f),this.props.isWrap&&(d={onMouseDown:$.stopPropagation})}return this.props.isWrap?u.mDiv=!0:$.extend(u,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==t&&e.isOpt,lock:e.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(u),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:o},d),l,_react2["default"].createElement("i",{className:"material-icons icon iconfont",style:a},e.iconKey),c)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconContrComp}(_react2["default"].Component),_default=IconContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/IconContr.react.js"),e.register(IconContrComp,"IconContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/IconContr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/IconContr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_RotateBox=__webpack_require__(43),_RotateBox2=_interopRequireDefault(_RotateBox),_OuterBorderBox=__webpack_require__(79),_OuterBorderBox2=_interopRequireDefault(_OuterBorderBox),_TextArea=__webpack_require__(81),_TextArea2=_interopRequireDefault(_TextArea),_ContrStore=__webpack_require__(3),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(8),_ViewStore2=_interopRequireDefault(_ViewStore),_AutoSaveStore=__webpack_require__(66),_AutoSaveStore2=_interopRequireDefault(_AutoSaveStore);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrHandle=void 0;function _divPropClick(e){$(e.target).find("textarea").focus(),e.stopPropagation()}var TextContrComp=function(_React$Component){function TextContrComp(e){(0,_classCallCheck3["default"])(this,TextContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(TextContrComp.__proto__||(0,_getPrototypeOf2["default"])(TextContrComp)).call(this,e));return t.state={symbolContrKey:undefined},ContrHandle=__webpack_require__(27)["default"],t}return(0,_inherits3["default"])(TextContrComp,_React$Component),(0,_createClass3["default"])(TextContrComp,[{key:"render",value:function(){var e=this.state.symbolContrKey,t=this.props.i,n=$.getContrId(t),r=((t=$.copyContrChangeSymbolVal(t,this.props.symbolChild,"content",n)).interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol)&&"isInLib"!=this.props.specialType,i=_ContrStore2["default"].getSelect().length,o="hLine"==t.baseContrType||"vLine"==t.baseContrType,a=ContrHandle.getStyles({contr:t,type:"box",textCorrect:!(t.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol),isActivePage:r}),s=" "+t.horizontal+" "+t.vertical+(t.isB?" tB":"")+(t.isI?" tI":"")+(t.isU?" tU":"")+(t.isS?" tS":""),l=ContrHandle.getStyles({contr:t,type:"textBox",isActivePage:r}),c=void 0,u=!0,d=void 0,p=void 0,f={isC:!0,textC:!0,isStartState:this.props.isStartState,noEdit:!(t.isEdit&&!this.props.isStartState),isLine:o,autoW:t.autoW,autoH:t.autoH,isHover:this.props.isHover},h={},g={};if((r||t.autoW)&&"isInLib"!=this.props.specialType){var m={pointerEvents:t.isEdit&&!this.props.isStartState?"none":"auto"},_=ContrHandle.getEventTag(t),v=ContrHandle.getAnimTag(t),y=ContrHandle.getNoteTag(t),w=this.props.isWrap?ContrHandle.getmDivCoverEvent(this.props.isStartState):ContrHandle.getCoverEvent(this.props.isStartState),b=["content","letterSpacing","fontSize","textIndent","lineHeight","isB","isU","isI","autoH","autoW"],C={};if(b.forEach(function(e){C[e]=t[e]}),p=_react2["default"].createElement("div",(0,_extends3["default"])({},w,{className:"cover",style:m}),y,_,v),e&&t.autoW){var S=_AutoSaveStore2["default"].getSymbolSizeData(e);if(S){var x=S.data,E=x.width,P=x.height,T=x.left;l.width=$.isUndefined(E)?t.width:E,l.height=$.isUndefined(P)?t.height:P,a.left=$.isUndefined(T)?t.left:T}}else l.width=t.width,l.height=t.height,a.left=t.left;g.width=l.width||t.width,g.height=l.height||t.height,c=_react2["default"].createElement(_RotateBox2["default"],(0,_extends3["default"])({isOpt:t.isOpt,rotate:t.rotate},g)),d=_react2["default"].createElement("div",{className:"contrTextBox stretch-wrapper"+s+(t.isEdit&&!this.props.isStartState?" isEdit":""),style:l},_react2["default"].createElement(_TextArea2["default"],(0,_extends3["default"])({contrId:n,contr:t,isActivePage:r,alignClass:s,textChangeArr:b,parentComp:this,isInSymbol:this.props.isInSymbol},C))),this.props.isWrap?h={onMouseDown:$.stopPropagation}:t.isEdit&&!this.props.isStartState&&(h={onClick:_divPropClick,onMouseDown:$.stopPropagation,onContextMenu:$.stopPropagation})}else $.extend(!0,a,l),t.content&&(d=_react2["default"].createElement(_TextArea2["default"],{contrId:n,contr:t,isActivePage:r&&!this.props.isStartState,alignClass:s,parentComp:this,isInSymbol:this.props.isInSymbol})),$.hasSpecialBorderStyle(t.border)||(u=null);return u&&(u=_react2["default"].createElement(_OuterBorderBox2["default"],{contr:t,isActivePage:r})),this.props.isWrap?f.mDiv=!0:$.extend(f,{cDiv:!0,opt:t.isOpt,isOnlyOpt:1==i&&t.isOpt,lock:t.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,className:(0,_classnames2["default"])(f),id:this.props.contrId,"data-id":this.props.contrId,"data-type":t.type,style:a},h),c,d,u,p)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TextContrComp}(_react2["default"].Component),_default=TextContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),e.register(_divPropClick,"_divPropClick","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),e.register(TextContrComp,"TextContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";(function(e,t){var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(85));!function(){var t=n(1).enterModule;t&&t(e)}();var i=void 0!==e&&e.exports&&void 0!==t?t:undefined||window;(i._gsQueue||(i._gsQueue=[])).push(function(){var e=i._gsDefine.plugin({propName:"text",API:2,version:"0.5.1",init:function(e,t,n){var i,o;if(!("innerHTML"in e))return!1;if(this._target=e,"object"!=(void 0===t?"undefined":(0,r["default"])(t))&&(t={value:t}),void 0===t.value)return this._text=this._original=[""],!0;for(this._delimiter=t.delimiter||"",this._original=function r(e){var t=e.nodeType,n="";if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===t||4===t)return e.nodeValue;return n}(e).replace(/\s+/g," ").split(this._delimiter),this._text=t.value.replace(/\s+/g," ").split(this._delimiter),this._runBackwards=!0===n.vars.runBackwards,this._runBackwards&&(i=this._original,this._original=this._text,this._text=i),"string"==typeof t.newClass&&(this._newClass=t.newClass,this._hasClass=!0),"string"==typeof t.oldClass&&(this._oldClass=t.oldClass,this._hasClass=!0),o=0>(i=this._original.length-this._text.length)?this._original:this._text,this._fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),0>i&&(i=-i);--i>-1;)o.push(this._fillChar);return!0},set:function(e){e>1?e=1:0>e&&(e=0),this._runBackwards&&(e=1-e);var t,n,r,i=this._text.length,o=e*i+.5|0;this._hasClass?(t=this._newClass&&0!==o,n=this._oldClass&&o!==i,r=(t?"<span class='"+this._newClass+"'>":"")+this._text.slice(0,o).join(this._delimiter)+(t?"</span>":"")+(n?"<span class='"+this._oldClass+"'>":"")+this._delimiter+this._original.slice(o).join(this._delimiter)+(n?"</span>":"")):r=this._text.slice(0,o).join(this._delimiter)+this._delimiter+this._original.slice(o).join(this._delimiter),this._target.innerHTML="&nbsp;"===this._fillChar&&-1!==r.indexOf("  ")?r.split("  ").join("&nbsp;&nbsp;"):r}}).prototype;e._newClass=e._oldClass=e._delimiter=""}),i._gsDefine&&i._gsQueue.pop()(),function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"_gsScope","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/TextPlugin.min.js"),r(e))}()}).call(this,n(2)(e),n(138))},,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,function(e,t,n){var r={"./af":281,"./af.js":281,"./ar":280,"./ar-dz":279,"./ar-dz.js":279,"./ar-kw":278,"./ar-kw.js":278,"./ar-ly":277,"./ar-ly.js":277,"./ar-ma":276,"./ar-ma.js":276,"./ar-sa":275,"./ar-sa.js":275,"./ar-tn":274,"./ar-tn.js":274,"./ar.js":280,"./az":273,"./az.js":273,"./be":272,"./be.js":272,"./bg":271,"./bg.js":271,"./bm":270,"./bm.js":270,"./bn":269,"./bn.js":269,"./bo":268,"./bo.js":268,"./br":267,"./br.js":267,"./bs":266,"./bs.js":266,"./ca":265,"./ca.js":265,"./cs":264,"./cs.js":264,"./cv":263,"./cv.js":263,"./cy":262,"./cy.js":262,"./da":261,"./da.js":261,"./de":260,"./de-at":259,"./de-at.js":259,"./de-ch":258,"./de-ch.js":258,"./de.js":260,"./dv":257,"./dv.js":257,"./el":256,"./el.js":256,"./en-au":255,"./en-au.js":255,"./en-ca":254,"./en-ca.js":254,"./en-gb":253,"./en-gb.js":253,"./en-ie":252,"./en-ie.js":252,"./en-il":251,"./en-il.js":251,"./en-nz":250,"./en-nz.js":250,"./eo":249,"./eo.js":249,"./es":248,"./es-do":247,"./es-do.js":247,"./es-us":246,"./es-us.js":246,"./es.js":248,"./et":245,"./et.js":245,"./eu":244,"./eu.js":244,"./fa":243,"./fa.js":243,"./fi":242,"./fi.js":242,"./fo":241,"./fo.js":241,"./fr":240,"./fr-ca":239,"./fr-ca.js":239,"./fr-ch":238,"./fr-ch.js":238,"./fr.js":240,"./fy":237,"./fy.js":237,"./gd":236,"./gd.js":236,"./gl":235,"./gl.js":235,"./gom-latn":234,"./gom-latn.js":234,"./gu":233,"./gu.js":233,"./he":232,"./he.js":232,"./hi":231,"./hi.js":231,"./hr":230,"./hr.js":230,"./hu":229,"./hu.js":229,"./hy-am":228,"./hy-am.js":228,"./id":227,"./id.js":227,"./is":226,"./is.js":226,"./it":225,"./it.js":225,"./ja":224,"./ja.js":224,"./jv":223,"./jv.js":223,"./ka":222,"./ka.js":222,"./kk":221,"./kk.js":221,"./km":220,"./km.js":220,"./kn":219,"./kn.js":219,"./ko":218,"./ko.js":218,"./ky":217,"./ky.js":217,"./lb":216,"./lb.js":216,"./lo":215,"./lo.js":215,"./lt":214,"./lt.js":214,"./lv":213,"./lv.js":213,"./me":212,"./me.js":212,"./mi":211,"./mi.js":211,"./mk":210,"./mk.js":210,"./ml":209,"./ml.js":209,"./mn":208,"./mn.js":208,"./mr":207,"./mr.js":207,"./ms":206,"./ms-my":205,"./ms-my.js":205,"./ms.js":206,"./mt":204,"./mt.js":204,"./my":203,"./my.js":203,"./nb":202,"./nb.js":202,"./ne":201,"./ne.js":201,"./nl":200,"./nl-be":199,"./nl-be.js":199,"./nl.js":200,"./nn":198,"./nn.js":198,"./pa-in":197,"./pa-in.js":197,"./pl":196,"./pl.js":196,"./pt":195,"./pt-br":194,"./pt-br.js":194,"./pt.js":195,"./ro":193,"./ro.js":193,"./ru":192,"./ru.js":192,"./sd":191,"./sd.js":191,"./se":190,"./se.js":190,"./si":189,"./si.js":189,"./sk":188,"./sk.js":188,"./sl":187,"./sl.js":187,"./sq":186,"./sq.js":186,"./sr":185,"./sr-cyrl":184,"./sr-cyrl.js":184,"./sr.js":185,"./ss":183,"./ss.js":183,"./sv":182,"./sv.js":182,"./sw":181,"./sw.js":181,"./ta":180,"./ta.js":180,"./te":179,"./te.js":179,"./tet":178,"./tet.js":178,"./tg":177,"./tg.js":177,"./th":176,"./th.js":176,"./tl-ph":175,"./tl-ph.js":175,"./tlh":174,"./tlh.js":174,"./tr":173,"./tr.js":173,"./tzl":172,"./tzl.js":172,"./tzm":171,"./tzm-latn":170,"./tzm-latn.js":170,"./tzm.js":171,"./ug-cn":169,"./ug-cn.js":169,"./uk":168,"./uk.js":168,"./ur":167,"./ur.js":167,"./uz":166,"./uz-latn":165,"./uz-latn.js":165,"./uz.js":166,"./vi":164,"./vi.js":164,"./x-pseudo":163,"./x-pseudo.js":163,"./yo":162,"./yo.js":162,"./zh-cn":161,"./zh-cn.js":161,"./zh-hk":160,"./zh-hk.js":160,"./zh-tw":159,"./zh-tw.js":159};function i(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=336},,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(13)),o=a(n(383));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s={sharePopup:function(e){i["default"].init({title:e.title?"分享「"+e.title+"」":"分享",width:e.others||"lib"==e.type?500:640,content:r["default"].createElement(o["default"],e),noBottom:!0})}},l=s;t["default"]=l,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"Share","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/common/Share.js"),t.register(l,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/common/Share.js"),r(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.SIZE_UNIT="SIZE_UNIT",e.COLOR_UNIT="COLOR_UNIT",e.CSS_STYLE="CSS_STYLE",e.SCALE="SCALE",e.CHANGE_DISTANCE="CHANGE_DISTANCE"}(r||(r={}))},,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(116));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={changeLabel:function(e){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_CHANGELABEL,label:e})},zoom:function(e,t){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_ZOOM,type:e,scale:t})},zoomFit:function(){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_ZOOMFIT})},switchMode:function(e){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_SWITCHMODE,mode:e})},toggleCatalog:function(){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_TOGGLECATALOG})},toggleNote:function(){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_TOGGLENOTE})},setProps:function(e){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_SETPROPS,options:e})},resetFrameSize:function(e){r["default"].dispatch({actionType:i["default"].PROTOPREVIEW_RESETFRAMESIZE,size:e})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"ProtoPreviewActions","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/ProtoPreviewActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/ProtoPreviewActions.js"),r(e))}()}).call(this,n(2)(e))},,,,,,,,,function(e,t,n){"use strict";(function(e){function r(e){var t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(e))}function i(){var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}function o(e,t){t=t||window;for(var n={top:e.offsetTop,left:e.offsetLeft},r=e.offsetParent;null!=r&&r!=t;)n.left+=r.offsetLeft,n.top+=r.offsetTop,r=r.offsetParent;return n}function a(e,t){do{if(t(e))return e}while(e=e&&e.parentNode)}function s(){var e=i();if(e){var t=e.cloneRange();return t.collapse(!0),t.setStart(t.endContainer,0),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyRange=r,t.getRange=i,t.getOffset=o,t.closest=a,t.getPrecedingRange=s,function(){var t=n(1).enterModule;t&&t(e)}(),function(){var t=n(1)["default"],l=n(1).leaveModule;t&&(t.register(r,"applyRange","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),t.register(i,"getRange","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),t.register(o,"getOffset","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),t.register(a,"closest","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),t.register(s,"getPrecedingRange","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),l(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=n(84),l=n(7),c=n(6),u=n.n(c),d=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={defaultValue:n.props.value,value:n.props.value||""},n}return d(t,e),t.prototype.render=function(){return i.a.createElement("input",{id:"setPassword",className:this.props.className,ref:"input",autoComplete:"off",maxLength:6,value:this.state.value,onChange:this._onChange,onBlur:this.props.modifyCallback?this._onBlur:$.noop})},t.prototype._onChange=function(e){/^[0-9]*$/g.test(e.target.value)&&e.target.value.length<=6&&this.setState({value:e.target.value})},t.prototype._onBlur=function(){var e=this;e.verify()&&e.state.value!=e.state.defaultValue&&e.setState({defaultValue:e.state.value},function(){e.props.modifyCallback(!0),l["default"].show("密码修改成功")})},t.prototype.verify=function(){if(!(this.state.value.length<6))return!0;this.setState({value:this.state.defaultValue},function(){l["default"].show("访问密码必须为6位数字")})},p([u.a],t.prototype,"_onChange",null),p([u.a],t.prototype,"_onBlur",null),p([u.a],t.prototype,"verify",null),t}(i.a.Component),h=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},m=n(328),_={0:{type:"public",name:"公开(可下载)"},1:{type:"public",name:"公开(仅预览)"},2:{type:"private",name:"私有"},3:{type:"password",name:"密码访问"}},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={permission:t.permission,permissionType:_[t.permission].type,isPublish:$.isString(t.isPublish)?"true"==t.isPublish:t.isPublish,password:t.password},n}return h(t,e),t.prototype.componentDidMount=function(){new m(".copy-link-btn"),new m(".qrcode-img")},t.prototype._changePermission=function(e,t,n,r){var i=this,o=t||{"public":"0","private":"2",password:"3"}[e],a={id:i.props.id,permission:o};"password"==e&&(a.password=n||i.state.password),"public"==i.state.permissionType&&i.state.isPublish?l["default"].show("项目已发布到广场，请先取消发布再修改权限"):"password"!=e||i.state.password?$.ajax("/project/setPermission",a,function(){i.setState({permission:o,permissionType:e},function(){if(i.props.callback){var t={};r||(t.permission=o),"password"==e&&(t.password=a.password),i.props.callback(t)}}),r||l["default"].show("访问权限已修改为「"+_[o].name+"」")}):i.setState({permissionType:e})},t.prototype._publish=function(){var e=this;$.ajax("/project/setPublish",{id:e.props.id,isPublish:!e.state.isPublish},function(){e.setState({isPublish:!e.state.isPublish},function(){e.props.callback&&e.props.callback({isPublish:e.state.isPublish})}),l["default"].show("已"+(e.state.isPublish?"":"取消")+"发布到精选广场")})},t.prototype._setPassword=function(e){var t=this,n=t.refs.password.refs.input.value;t.refs.password.verify()&&t.setState({password:n},function(){t._changePermission(t.state.permissionType,null,n,e)})},t.prototype.render=function(){var e=this,t=[],n=[],r=e.props.others||"item"==e.props.type;return(r?["copyLink","qrcode"]:"password"==e.state.permissionType&&$.isUndefined(e.state.password)?["password-set"]:{"public":["operate","copyLink","qrcode"],password:["password","copyLink","qrcode"],"private":["copyLink","qrcode"]}[e.state.permissionType]).forEach(function(t){switch(t){case"password":n.push(i.a.createElement("div",{key:"proj-pwd",className:"proj-pwd-box"},i.a.createElement("span",null,"访问密码(6位数字)："),i.a.createElement(f,{ref:"password",className:"popup-input pwd-input",value:e.state.password,modifyCallback:e._setPassword})));break;case"operate":var r=["可以下载","仅供预览"],o=[0,1];"lib"==e.props.type&&(r[0]="可以引用"),n.push(i.a.createElement("div",{key:"publish",className:"public-autority-box clearfix"},i.a.createElement(s["default"],{key:"selectOperate",className:"operate-select",text:r[e.state.permission],value:o[e.state.permission],texts:r,values:o,callback:function(t,n){e._changePermission(e.state.permissionType,n)},width:90}),i.a.createElement("div",{key:"publish-btn",className:"base-hollow-btn publish-square-btn"+(e.state.isPublish?" a_c":""),"data-contr":"hovertip","data-option":'{"text":"点击取消发布到精选广场"}',onClick:e._publish},e.state.isPublish?"已发布":"发布到广场")));break;case"copyLink":n.push(i.a.createElement("div",{key:"proj-link",className:"proj-link-box clearfix"},i.a.createElement("input",{className:"popup-input link-input",id:"projectLink",autoComplete:"off",value:e.props.url,onChange:$.noop}),i.a.createElement("div",{className:"base-btn copy-link-btn","data-clipboard-text":e.props.url,onClick:function(){$.copyUrl("linkCopiedTips")}},"复制链接",i.a.createElement("div",{id:"linkCopiedTips",className:"copied-tips"},"复制成功"))));break;case"qrcode":if("web"==e.props.platform)return!1;n.push(i.a.createElement("div",{key:"qrcode",className:"qrcode-box clearfix"},i.a.createElement("img",{className:"qrcode-img",src:e.props.img,"data-clipboard-text":e.props.url,onClick:function(){$.copyUrl("imgCopiedTips")}}),i.a.createElement("div",{id:"imgCopiedTips",className:"copied-tips"},"复制成功"),i.a.createElement("p",null,"扫一扫，分享给","lib"==e.props.type&&"private"==e.state.permissionType?"协作者":"朋友")));break;case"password-set":n.push(i.a.createElement("div",{key:"password-set",className:"password-set-box"},i.a.createElement("span",null,"设置访问密码(6位数字)："),i.a.createElement(f,{ref:"password",className:"popup-input pwd-set-input"}),i.a.createElement("div",{className:"base-btn save-pwd-btn",onClick:e._setPassword},"保存密码")))}}),r||{project:[{type:"public",name:"公开",desc:"从工作台和链接均能访问"},{type:"password",name:"密码访问",desc:"仅有密码的人可以访问"},{type:"private",name:"私有",desc:"仅知道链接的人可以访问"}],lib:[{type:"public",name:"公开",desc:"从工作台和链接均能访问"},{type:"private",name:"私有",desc:"仅协作者可以访问"}]}[e.props.type].forEach(function(n){t.push(i.a.createElement("div",{key:n.type,className:"permission-option clearfix"+(n.type==e.state.permissionType?" active":""),onClick:function(){e._changePermission(n.type)}},i.a.createElement("div",{className:"material-icons iconfont permission-checkbox"}),i.a.createElement("div",{className:"permission-item-info"},i.a.createElement("p",{className:"permission-name"},n.name),i.a.createElement("p",{className:"permission-desc"},n.desc))))}),i.a.createElement("div",{className:a()("popup-content share-popup share-"+e.props.type+" "+e.props.platform+" permission-"+e.state.permissionType,{"no-setting":r})},i.a.createElement("div",{className:"share-left"},t),i.a.createElement("div",{className:"share-right"},n))},g([u.a],t.prototype,"_changePermission",null),g([u.a],t.prototype,"_publish",null),g([u.a],t.prototype,"_setPassword",null),t}(i.a.Component);v.defaultProps={permission:0};t["default"]=v},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),window.phoneTypeObj={ip5:["iPhone 5/SE (320*568)",320,568],ip6:["iPhone 6-8 (375*667)",375,667],ip6p:["iPhone 6-8 Plus (414*736)",414,736],ipx:["iPhone X (375*734)",375,734],AN:["Android主流 (360*640)",360,640],SMs8:["Galaxy S8 (360*740)",360,740],XMmix2:["小米Mix2 (360*720)",360,720],XMmix:["小米Mix (360*680)",360,680]},window.webTypeObj={1200:["Base (1200)",1200,2e3],1440:["Mac (1440)",1440,2e3],1680:["Wide (1680)",1680,2e3],1920:["HD (1920)",1920,2e3]},t["default"]="initSize"},,,,,function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(640));!function(){var t=void 0!==e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in document){for(r=0,t=e.length;r<t;r++)o[n[0][r]]=e[r];return o}return!1}(),o={request:function(e){var t=i.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:i};i?((0,r["default"])(o,{isFullscreen:{get:function(){return Boolean(document[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[i.fullscreenEnabled])}}}),t?e.exports=o:window.screenfull=o):t?e.exports=!1:window.screenfull=!1}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=a(n(539)),o=a(n(4));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=n(10).EventEmitter,l="[暂无信息]",c={isShow:!1,left:0,top:0,content:l};function u(e){if(c.isShow=!0,c.content=e.content||l,e.noteTag){var t=$.offset(e.noteTag,!0),n=$.getElById("tempNotePopover");$.getElById("tempContent").innerHTML=c.content;var r=n.clientHeight,i=n.clientWidth,o=$.getWinSize(),a=t.left+t.width+8,s=t.top;s+r+10>o.height&&(s=t.top+t.height-r),a+i+10>o.width&&(a=t.left-8-i),c.left=a,c.top=s}}function d(){c.isShow=!1}var p=(0,r["default"])({},s.prototype,{getNotePopover:function(){return c},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o["default"].register(function(e){switch(e.actionType){case i["default"].NOTEPOPOVER_SHOW:u(e.options),p.emitChange();break;case i["default"].NOTEPOPOVER_HIDE:d(),p.emitChange()}});var f=p;t["default"]=f,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register(l,"DEFAULTCONTENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register(c,"notePopover","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register(u,"show","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register(d,"hide","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register(p,"NotePopoverStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),t.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r={getPage:function(e,t){var n=void 0,r=void 0;return window.pages.every(function(t,i){return t.key!=e||(n=i,r=t,!1)}),t?r:n},getPageContrs:function(e){return r.getPage(e,!0).contrsObj},getActivePage:function(e){var t=void 0,n=void 0;return window.pages.every(function(e,r){return!e.active||(t=r,n=e,!1)}),e?n:t},getActiveContrs:function(){return r.getActivePage(!0).contrsObj},getContrByAll:function(e,t,n){if((t=t||($.isUndefined(n)?r.getActiveContrs():r.getPageContrs(n)))[e])return t[e];for(var i in t){var o=t[i];if("wrapbox"==o.type){var a=r.getContrByAll(e,o.contrs,n);if(a)return a}else if("symbol"==o.type){var s=r.getSymbolChildContr(o.symbolKey),l=r.getContrByAll(e,s,n);if(l)return l}}},getSymbolChildContr:function(e,t){var n=window.symbolContrs.symbols[e];if(n&&n.hierarchy||log("警告：getSymbolChildContr"),t&&n&&n.hierarchy){var r=[];return n.hierarchy.forEach(function(e){r.push(window.symbolContrs.contrs[e])}),r}var i={};return n&&n.hierarchy&&n.hierarchy.forEach(function(e){i[e]=window.symbolContrs.contrs[e]}),i},hasStates:function(e){return e&&e.states&&$.objLength(e.states)>0},isUsedState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)},getStateIndex:function(e,t,n){if(r.hasStates(e)){if(n&&$.getContrId(e)==$.getContrId(n))return e.hoverState.hoverEndIndex;if(t&&$.getContrId(e)==$.getContrId(t))return e.state.startState;if(-1!=e.state.endState)return e.state.endState}},getContrState:function(e){return r.getAllValsContr({contrKey:e,getLastState:!0})},getSymbol:function(e){var t=window.symbolContrs.symbols[e];if(!t)return{};var n=t.hierarchy||[],r={};return n.forEach(function(e){r[e]=window.symbolContrs.contrs[e]}),{contrs:r,hierarchy:n,width:t.width,height:t.height}},getSymbolContrVals:function(e){var t=$.isObject(e)?$.getContrId(e):e,n=r.getContrByAll(t,!1),i=$.extend(!0,{},n);return $.extend(!0,i,r.getSymbol(n.symbolKey)),i},getAllValsContr:function(e){if($.isEmptyObj(e.contrKey))return e.contrKey;var t={contrKey:undefined,notCopy:undefined,type:"end",parentContrKey:undefined,parentStateIndex:undefined,breakContrKey:undefined,thisContrs:undefined,stateIndex:undefined,parentSaveContrVals:undefined,parentSaveContrId:undefined,getLastState:!1,symbolChild:undefined},n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=e.parentContr,c=!1,u=!1,d=!1,p={};t=$.extend(t,e),$.isUndefined(t.parentStateIndex)||(l=r.getContrByAll(t.parentContrKey)),t.contrKey.id?(n=$.getContrId(t.contrKey),i="symbol"==t.contrKey.type?r.getSymbolContrVals(n):t.contrKey):i="symbol"==(n=t.contrKey).split("_")[0]?r.getSymbolContrVals(n):r.getContrByAll(n,t.thisContrs),o=t.notCopy?i:$.extend(!0,{},i);var f=r.getContrAllParent(i,!0,!1,t.thisContrs);if(f&&f.every(function(e){var i=$.getContrId(e);if(t.breakContrKey&&t.breakContrKey==i)return!1;if(r.hasStates(e)){var s=p[i],f=void 0,h=void 0;if(t.symbolChild&&t.symbolChild[i]&&!$.isUndefined(t.symbolChild[i].endState)&&(h=+t.symbolChild[i].endState),$.isUndefined(h))if(l&&t.parentContrKey!=n&&i==$.getContrId(l))$.isUndefined(s)?!$.isUndefined(t.parentStateIndex)&&e.states[t.parentStateIndex]&&(u||(u=!0),f=e.states[t.parentStateIndex]):f=e.states[t.parentStateIndex];else if($.isUndefined(s)){if(!u){var g=r.getStateIndex(e,l);!$.isUndefined(g)&&e.states[g]&&(u=!0,f=e.states[g])}}else f=e.states[s.isEndHover?s.hoverEndIndex:s.endState];else f=e.states[h];if(f){if(f.contrs[n]&&(t.getLastState&&f.contrs[n].state&&(a=f.contrs[n].state),c=!0,o=$.extend(!0,o,f.contrs[n]),t.parentSaveContrId))if(d)for(var m in f.contrs[n])$.isUndefined(t.parentSaveContrVals[m])||delete t.parentSaveContrVals[m];else i==t.parentSaveContrId&&(d=!0);for(var _ in f.contrs)if(r.getContrByAll(_)){var v=f.contrs[_];_!=n&&"wrapbox"==_.split("_")[0]&&(p[_]=r.isUsedState(v)?v.state:r.getContrByAll(_).state)}else;}}return!0}),t.symbolChild&&t.symbolChild[n]&&!$.isUndefined(t.symbolChild[n].endState)&&(s=+t.symbolChild[n].endState),$.isUndefined(s)){if(n!=t.breakContrKey&&r.hasStates(o)){var h=t.parentContrKey==n?t.parentStateIndex:r.getStateIndex(o,l);if(!$.isUndefined(h)&&o.states[h]){var g=$.extend(!0,{},o.state);if(c=!0,t.parentSaveContrId&&t.parentSaveContrId!=n)for(var m in o.states[h].contrs[n])$.isUndefined(t.parentSaveContrVals[m])||delete t.parentSaveContrVals[m];(o=$.extend(!0,o,o.states[h].contrs[n])).state=g}}}else{var _=s;if(!$.isUndefined(_)&&i.states[_]&&i.states[_].contrs[n]){var v=$.extend(!0,{},o.state);c=!0,$.handleEventsData(o,i.states[_].contrs[n].events),(o=$.extend(!0,o,i.states[_].contrs[n])).state=v}}return c&&(o.getAllVal=!0),t.getLastState?a||i.state:c?o:i},getContrAllParent:function(e,t,n,i,o){if(i=i||r.getActiveContrs(),e&&i[$.getContrId(e)])return o||[];for(var a in i){var s=o?[].concat(o):[],l=i[a];if("wrapbox"==l.type||"symbol"==l.type&&l.contrs){n&&!r.hasStates(l)||s.push(t?l:$.getContrId(l));var c=r.getContrAllParent(e,t,n,l.contrs,s);if(c)return c}}},getStartEndContrs:function(e,t,n){return{start:r.getAllValsContr({contrKey:e,parentContrKey:t,parentStateIndex:n}),end:r.getAllValsContr({contrKey:e})}},changeState:function(e){var t=r.getContrState(e.contrId);window.pagesCache[e.pageIndex]||(window.pagesCache[e.pageIndex]=$.extend(!0,{},window.pages[e.pageIndex])),t.endState=e.state},initPageState:function(e){var t=window.pagesCache[e],n=void 0;t&&(t.hierarchy&&delete t.hierarchy,t.contrsObj&&delete t.contrsObj,(n=window.pages[e]=$.extend(!0,{},t)).active=!0,n.hierarchy=[],n.contrsObj={},n.contrs.forEach(function(e){var t=$.getContrId(e);n.hierarchy.push(t),n.contrsObj[t]=e}))}},i=r;t["default"]=i,function(){var t=n(1)["default"],o=n(1).leaveModule;t&&(t.register(r,"DataHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/DataHandle.js"),t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/DataHandle.js"),o(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(538)),i=a(n(735)),o=a(n(734));function a(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var s=void 0,l=void 0,c={},u={},d=[],p=[],f=null,h={},g=["leftMenu","rightMenu","leftNav","rightNav"],m=["leftMenuBack","rightMenuBack","leftNavBack","rightNavBack"],_={setUpdateFunc:function(e,t){l=e,s=t},getEventType:function(e){return{tA:"tap",dT:"doubletap",hV:"hover",sH:"swipeH",sV:"swipeV",sL:"swipeleft",sR:"swiperight",sT:"swipeup",sD:"swipedown",tM:"timer"}[e]},setEvents:function(e){var t=[],n={},i=void 0,o=!1;for(var a in e.events)e.events[a].disable||(i=a,"tM"==a?(o=!0,_.isParentMoving(e.updateParent)||function(){var n=e.events[a];t[t.length]=setTimeout(function(){_.triggerActions(n.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent})},100*n.delay)}()):"hV"==a?function(){var t=e.events[a],n=_.getContrSelector(e);n.on("mouseenter",function(){_.triggerActions(t.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent,eventType:"mouseenter"})}),n.off("mouseleave").on("mouseleave",function(){_.triggerActions(t.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent,eventType:"mouseleave"})})}():function(){var t=_.getContrSelector(e)[0],i=(0,r["default"])(new window.Hammer(t,{touchAction:"auto"})),o=e.events[a].actions,s=_.getEventType(a);-1!==["swipeV","swipedown","swipeup"].indexOf(s)&&i.get("swipe").set({direction:window.Hammer.DIRECTION_VERTICAL}),"swipeH"!=s&&"swipeV"!=s||(s="swipe"),function(r,o){n[r]={hammertime:i,func:function(n){$.hasClass(t,"moving")&&$.isUndefined($(t).attr("data-prevstate"))||_.triggerActions(o,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent}),n.stopPropagation(),n.preventDefault()}},i.on(r,n[r].func)}(s,o)}());if(i){var s='<div class="gesture-tag">'+("tA"==i?"":"<img src='"+window.staticUrl+window.gestureImg[i]+"'/>")+"</div>";_.getContrSelector(e).append(s).addClass("event-show "+i)}return d=d.concat(t),_.saveTmEventData(e,o),{timers:t,eventHammers:n,eTypeClass:i}},saveTmEventData:function(e,t){!h[e.pageKey]&&t&&(h[e.pageKey]={}),t?h[e.pageKey][e.targetId]=!0:h[e.pageKey]&&h[e.pageKey][e.targetId]&&delete h[e.pageKey][e.targetId],h[e.pageKey]&&0===$.objLength(h[e.pageKey])&&delete h[e.pageKey]},triggerActions:function(e,t){if($.query(".mode-btn-mark.active"))return!1;var n=[];$(".current .event-show").removeClass("animating"),e.forEach(function(e){if("state"==e.type){var r=void 0,a=void 0;if(t.symbolParent)for(var l=t.symbolParent.length;l>0;l--){var p=$("#"+t.symbolParent.slice(0,l).join(" #")).find("."+e.contr);if(p){r=p,a=t.symbolParent.slice(0,l);break}}else r=$("#"+e.contr);var f=e.endState,h=+r.attr("data-state"),g=e.contr;if(a&&(g=a.join("_")+"_"+e.contr),"mouseleave"==t.eventType){var m=r.attr("data-prevstate");if(h!=f&&h!=m)return!1;f=m}if(f==h||r.attr("data-nextstate")==f)return u[g]&&f==h&&_.killTimeline({contrId:e.contr,endState:h,pageIndex:t.pageIndex,timelineContrId:g,contr:r}),!1;if("mouseenter"==t.eventType&&r.attr("data-prevstate",h),!1===e.animOn)s({contrId:e.contr,state:f,pageIndex:t.pageIndex,parentArr:_.getParentArr(r)});else{u[g]&&(_.killTimeline({contrId:e.contr,endState:f,pageIndex:t.pageIndex,timelineContrId:g,contr:r}),h=f);var v=i["default"].getTimeline(g,h,f);v||(v=o["default"].getTimeline({contrId:e.contr,curr:h,next:f,symbolParent:a}),i["default"].setTimeline(g,h,f,v)),"disabled"==v?s({contrId:e.contr,state:f,pageIndex:t.pageIndex}):"noChange"==v?s({contrId:e.contr,state:f,pageIndex:t.pageIndex,parentArr:_.getParentArr(r)}):(u[g]=v,r.addClass("moving").attr("data-nextstate",f),n.push(v),c[e.contr]=!0,v.eventCallback("onComplete",function(){r.removeAttr("data-nextstate"),s({contrId:e.contr,state:f,pageIndex:t.pageIndex,parentArr:_.getParentArr(r)}),delete u[g],c[e.contr]&&delete c[e.contr]}))}}else if("page"==e.type){var y=$.isUndefined(e.delay)?0:e.delay,w=setTimeout(function(){_.goToPage({curr:t.pageKey,next:e.page,transition:e.transition,time:e.time,distance:e.distance,reset:e.reset})},100*y);d=d.concat(w)}}),n.forEach(function(e){e.play(0)})},goToPage:function(e){if(e.next==e.curr&&!e.reset||$("#page"+e.curr).hasClass("moving")||-1==e.next&&0===p.length||f==e.curr)return!1;var t=$("#page"+e.curr),n=void 0,i=$("#pageContainer"),o=e.next==e.curr;if(_.completeTimeline(),o&&(e.transition="empty"),-1==e.next){var a=p[p.length-1],s=$.isUndefined(e.transition)||"default"==e.transition;n=!0,e.next=a.page,e.transition=s?a.transition:e.transition,e.distance=s?a.distance:e.distance,p.pop()}$(".page.prev").removeClass("prev"),t.removeClass("current").addClass("prev").removeAttr("style");var l=$("#page"+e.next).addClass("current").removeAttr("style"),c=t.attr("data-islandscape")!=l.attr("data-islandscape");if(i.attr("class","pageContainer"),e.transition&&"empty"!=e.transition&&"0"!=e.time?(i.addClass("mobile-"+$.humpToHythen(e.transition)+" page-animating"),-1==g.indexOf(e.transition)&&-1==m.indexOf(e.transition)||$.isUndefined(e.distance)||($.setKeyframes(e.transition,e.distance),i.addClass("mobile-"+$.humpToHythen(e.transition)+"-"+$.getDistance(e.distance))),$.isUndefined(e.time)||(t.css("animationDuration",100*e.time+"ms"),l.css("animationDuration",100*e.time+"ms")),t.addClass("moving").on("webkitAnimationEnd",function(){t.off("webkitAnimationEnd"),_.resetPage({currPageDom:t,nextPageDom:l,transition:e.transition,curr:e.curr,next:e.next})}),l.addClass("moving").on("webkitAnimationEnd",function(){l.off("webkitAnimationEnd"),_.resetPage({currPageDom:t,nextPageDom:l,transition:e.transition,curr:e.curr,next:e.next})})):_.resetPage({currPageDom:t,nextPageDom:l}),-1!=g.indexOf(e.transition)){var u=(0,r["default"])(new window.Hammer($.getElById("pageMask"),{touchAction:"auto"}));u.on("tap",function t(n){var r=_.goToPage({curr:e.next,next:-1,transition:"default",time:e.time,distance:e.distance});$.isUndefined(r)&&u.off("tap",t),n.stopPropagation()})}n||o||(p.length>0&&-1!=m.indexOf(p[p.length-1].transition)?p[p.length-1].transition="empty":p.push({page:e.curr,transition:$.transitionReverse(e.transition),distance:$.isUndefined(e.distance)?undefined:e.distance}));o||(f=e.curr),_.setPageInfo({curr:e.curr,next:e.next,notToparent:e.notToparent,reset:e.reset,nextPageDom:l}),e.transition&&"empty"!=e.transition&&(window.fixedData[e.curr]&&_.correctFixedContr(t),window.fixedData[e.next]&&_.correctFixedContr(l)),c&&window.initResize()},setPageInfo:function(e){var t=_.getPageIndex(e.curr),n=_.getPageIndex(e.next);window.pages[t].active=!1,window.pages[n].active=!0,e.reset&&(e.nextPageDom[0].scrollTop=0),l(n,e.reset),e.notToparent||window.setPreviewActivePage&&window.setPreviewActivePage(t,n)},resetPage:function(e){e.currPageDom.removeClass("moving"),e.nextPageDom.removeClass("moving"),-1==g.indexOf(e.transition)&&($("#pageContainer").attr("class","pageContainer"),e.transition&&(window.fixedData[e.curr]&&_.correctFixedContr(e.currPageDom,!0),window.fixedData[e.next]&&_.correctFixedContr(e.nextPageDom,!0)))},getPageIndex:function(e){var t=void 0;return window.pages.some(function(n,r){return n.key==e&&(t=r),n.key==e}),t},correctFixedContr:function(e,t){var n=e[0].scrollTop;e.find(".fixed").each(function(){var e=$(this);if(t)e.css({top:"",bottom:""}),window.isLocal&&e.css({left:""});else{var r=$(this)[0].offsetTop;window.isLocal?e.css({left:$(this).attr("data-ori-left"),top:+$(this).attr("data-ori-top")+n,bottom:0}):e.css({top:n+r,bottom:0})}})},offEvents:function(e){var t=_.getContrSelector(e);for(var n in e.eventHammers){var r=e.eventHammers[n];r.hammertime.off(n,r.func)}t.attr("data-prevstate")&&t.off("mouseenter"),t.removeClass("event-show "+e.eTypeClass).removeAttr("style").children(".gesture-tag").remove(),"text"==e.type&&t.find("p").removeAttr("style"),"wrapbox"==e.type&&t.find(".insetBorder").removeAttr("style"),t.find(".outerBorderBox")&&t.find(".outerBorderBox").removeAttr("style"),e.timers.forEach(function(e){clearTimeout(e)})},completeTimeline:function(){for(var e in u)u[e].progress(1);d.forEach(function(e){clearTimeout(e)}),d=[]},killTimeline:function(e){e.contr.removeAttr("data-nextstate"),u[e.timelineContrId].kill(),s({contrId:e.contrId,state:e.endState,pageIndex:e.pageIndex,parentArr:_.getParentArr(e.contr)}),delete u[e.timelineContrId]},isParentMoving:function(e){if(!e)return!1;for(var t in c)if(-1!=e.indexOf(t))return!0;return!1},hasTmEvents:function(e){return!!h[e]},getContrSelector:function(e){var t=void 0,n="";return e.symbolParent?(t=e.symbolParent.concat()).push(e.targetId):t=[e.targetId],t.forEach(function(e){n+="#"+e+" "}),$(n)},getParentArr:function(e){var t=[];return e.parents(".cDiv, .mDiv").forEach(function(e){t.push(e.id)}),0==t.length?null:t.reverse()}},v=_;t["default"]=v,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"UpdateContrFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(l,"UpdatePageFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(c,"ChangingContr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(u,"RunningTimeline","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(d,"RunningTimer","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(p,"PageHistory","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(f,"PrevPage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(h,"pageContrTm","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(g,"EFFECTARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(m,"BACKEFFECTARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(_,"EventHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),t.register(v,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),r(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return e.phoneView||!!window.isPrototypeTool&&"ipx"==window.phoneSize.type&&this.props.backColor!=e.backColor||e.isLandscape!=this.props.isLandscape},t.prototype.render=function(){var e,t=this.props.phoneView,n=t?window.previewFrameSize:window.phoneSize,r={},o=t?window.phoneTypeObj[window.previewFrameSize.type]:window.phoneTypeObj[window.phoneSize.type],a=this.props.backColor&&t?$.colorToGray(this.props.backColor,!0):0,s=window.phoneModelSizeObj[n.type]||$.getOtherPhoneSize(n);return this.props.isLandscape&&(r.transformOrigin=Math.floor(n.width/2+s[4])+1+"px "+(Math.floor(n.width/2+s[2])+1)+"px"),o&&"ip5"!=n.type?e="ipx"==n.type?i.a.createElement("div",{className:"mobile-model",style:r},i.a.createElement("div",{className:"page-bg",style:{backgroundColor:this.props.backColor}},t&&!this.props.isLandscape?i.a.createElement("div",{className:"ipx-status-bar "+(a<192?"light":"")}):undefined,i.a.createElement("div",{className:"indicator "+(a<192?"light":"")})),i.a.createElement("div",{className:"mobile-image"})):i.a.createElement("div",{className:"mobile-model",style:r}):("ip5"!=n.type&&(r.height=n.height+186,r.width=n.width+34),e=i.a.createElement("div",{className:"mobile-model",style:r},t?undefined:i.a.createElement("i",{className:"phone-size-tips material-icons iconfont a_c","data-contr":"hovertip","data-option":'{"text":"手机预览时，自动适配所有手机分辨率", "direction": "top", "changePosi": 10}'},"help_outline"),i.a.createElement("div",{className:"power-button"}),i.a.createElement("div",{className:"camera"}),i.a.createElement("div",{className:"handset"}),i.a.createElement("ul",{className:"volume-button-group"},i.a.createElement("li",null),i.a.createElement("li",null),i.a.createElement("li",null)),i.a.createElement("div",{className:"home-button"}))),e},t}(i.a.Component);t["default"]=a},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"S_tableCellTextStatic",function(){return r}),n.d(t,"S_tableCellStatic",function(){return i});var r={content:"",fontSize:14,lineHeight:10,indent:0,adjaceney:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,isS:!1,horizontal:"hL",vertical:"vM",lastContent:null},i={name:"",border:["rgba(216, 216, 216, 1)",0],hasBackColor:!1,backColor:"rgba(153, 153, 153, 1)",opacity:100,columnIndex:0,lineIndex:0,mergeColumn:0,mergeLine:0,mergeKey:"",events:{}}},,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(395),function(){var t=n(1).enterModule;t&&t(e)}(),window.phoneModelSizeObj={ip5:[354,755,95,95,16],ip6:[436,881,107,107,30],ip6p:[477,973,118,120,30],ipx:[431,862,69,28,28],AN:[387,800,77,86,13],SMs8:[384,809,35,35,11],XMmix2:[394,821,12,50,16],XMmix:[388,773,7,45,13]},window.phoneBaseSize="web"==window.platform?"sketch"==$.getUrlParam("type")?{width:1440,height:2e3,type:"1440"}:{width:1200,height:2e3,type:"1200"}:{width:320,height:568,type:"ip5"};var r="web"==window.platform?window.webTypeObj:window.phoneTypeObj;if(window.phoneSize=$.extend(!0,{},window.phoneBaseSize),window.pSize&&r[window.pSize])window.phoneSize.type=window.pSize,window.phoneSize.width=r[window.pSize][1],window.phoneSize.height=r[window.pSize][2];else if(window.pSize&&-1!=window.pSize.indexOf("_")){var i=window.pSize.split("_");window.phoneSize.type=window.pSize,window.phoneSize.width=+i[0],window.phoneSize.height=+i[1]}else window.pSize&&"web"==window.platform&&(window.phoneSize.type=window.pSize,window.phoneSize.width=parseInt(window.pSize));if(!window.noNew){var o=!1;if($.getUrlParam("pw")&&window.isPrototypeTool&&(o=!0,window.phoneSize.width=parseInt($.getUrlParam("pw"))),$.getUrlParam("ph")&&(o=!0,window.phoneSize.height=parseInt($.getUrlParam("ph"))),$.getUrlParam("ps")){var a=$.getUrlParam("ps");r[a]&&(window.phoneSize.type=a,window.phoneSize.width=r[a][1],window.phoneSize.height=r[a][2])}else o&&(window.phoneSize.type=window.phoneSize.width+"_"+window.phoneSize.height)}window.ss=window.isPc||"web"==window.platform?1:window.phoneSize.width/window.phoneBaseSize.width,window.hss=window.isPc||"web"==window.platform?1:window.phoneSize.height/window.phoneBaseSize.height;t["default"]="initPhoneSize",function(){var t=n(1)["default"],i=n(1).leaveModule;t&&(t.register(r,"thisTypeObj","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/init/initPhoneSize.js"),t.register("initPhoneSize","default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/init/initPhoneSize.js"),i(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(63)),o=s(n(126)),a=s(n(71));function s(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var l={px:1,dp:1,rem:16,pt:1,rpx:.5},c={width:320,height:568},u=[],d={comp:".textC, .boxC, .imageC, .iconC, .wrapperC{\nposition: absolute;\ntop: 0;\nleft: 0;\nword-break: break-all;\ntext-align: center;\ndisplay: flex;\nalign-items:center;\nbox-sizing:border-box;\ntransform-origin: 0% 0%;\n-webkit-transform-origin: 0% 0%;\n-webkit-font-smoothing: antialiased;\n}",image:".imageC{\noverflow: hidden;\n}\n\n.imageC img{\nposition: absolute;\nleft: 0;\ntop: 0;\nbox-sizing: border-box;\nwidth: 100%;\nheight: 100%;\nz-index: -1;\n}",text:".textC{\noverflow: hidden;\n}\n\n.text-content{\nwidth: 100%;\n}",vT:".textC.vT{\nalign-items:flex-start;\n}",vB:".textC.vB{\nalign-items:flex-end;\n}",tI:".textC.tI{\nfont-style: italic;\n}",tB:".textC.tB{\nfont-weight: bold;\n}",tU:".textC.tU{\nfont-style: underline;\n}",hL:".textC.hL{\ntext-align: left;\n}",hR:".textC.hL{\ntext-align: right;\n}",icon:"@font-face {\nfont-family: 'Material Icons';\nfont-style: normal;\nfont-weight: 400;\nsrc:\nurl('https://img.xiaopiu.com/font/MaterialIcons-Regular2.woff2') format('woff2'),\nurl('https://img.xiaopiu.com/font/MaterialIcons-Regular.woff') format('woff');\n}\n\n.material-icons {\nfont-family: 'Material Icons';\nfont-weight: normal;\nfont-style: normal;\nfont-size: 24px;  /* Preferred icon size */\ndisplay: inline-block;\nwidth: 1em;\nheight: 1em;\nline-height: 1;\ntext-transform: none;\nletter-spacing: normal;\nword-wrap: normal;\nwhite-space: nowrap;\ndirection: ltr;\n/* Support for all WebKit browsers. */\n-webkit-font-smoothing: antialiased;\n/* Support for Safari and Chrome. */\ntext-rendering: optimizeLegibility;\n/* Support for Firefox. */\n-moz-osx-font-smoothing: grayscale;\n/* Support for IE. */\nfont-feature-settings: 'liga';\n}"},p={getCode:function(e,t,n){var r="",i="";return u=["comp"],e.forEach(function(e){var n=void 0;if($.isContrShow(e)){switch(e.type){case"text":n=p.getText(e,t);break;case"icon":n=p.getIcon(e,t);break;case"image":n=p.getImage(e,t);break;case"wrapbox":n=p.getWrapbox(e,t,1);break;case"table":n=p.getTable(e,t,1)}n&&(r+=(""!=r?"\n":"")+n.thisDom,i+=(""!=i?"\n\n":"")+n.thisCss)}}),{thisDom:r,thisCss:i,commonCss:f()}},getText:function(e,t){var n=e.type+"_"+e.id,r=g(e);return""!=e.content.trim()&&h("text"),"vM"!=e.vertical&&h(e.vertical),"hC"!=e.horizontal&&h(e.horizontal),e.isI&&h("tI"),e.isB&&h("tB"),e.isU&&h("tU"),{thisDom:""===e.content.trim()?'<view class="boxC box_'+e.id+'"></view>':'<view class="textC'+("vM"==e.vertical?"":" "+e.vertical)+("hC"==e.horizontal?"":" "+e.horizontal)+" "+n+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+'"><text class="text-content">'+e.content+"</text></view>",thisCss:r.cssStr}},getIcon:function(e,t){var n=e.type+"_"+e.id,r=g(e);return h("icon"),{thisDom:'<icon class="iconC '+n+' material-icons">'+e.iconKey+"</icon>",thisCss:r.cssStr}},getTable:function(e,t){e.type,e.id;var n=g(e);h("table");return{thisDom:"",thisCss:n.cssStr}},getImage:function(e,t){var n=e.type+"_"+e.id,i=g(e);return h("image"),{thisDom:'<view class="imageC '+n+'"><image src="'+(r.staticUrl+e.src)+'"></image></view>',thisCss:i.cssStr}},getWrapbox:function(e,t,n){return{thisDom:'<view class="wrapperC '+$.getCodeName(e)+'">\n</view>',thisCss:g(e).cssStr}}};function f(){var e="/*---start of common wxss---*/";return u.forEach(function(t,n){e+="\n"+d[t]+"\n"}),e+="/*---end of common wxss---*/"}function h(e){-1==u.indexOf(e)&&u.push(e)}function g(e){var t=w(e.type),n="",r=function(r){var i,o={};t[r].stylesArr.forEach(function(t,n){null!==e[t]&&$.extend(!0,o,_(t,e,r))}),(i=m(o,e))&&(n+=(n?"\n\n":"")+"."+$.getCodeName(e)+t[r]["class"]+"{\n"+i+"}")};for(var i in t)r(i);return{cssStr:n}}function m(e,t){var n="";for(var r in e)"rotation"==r?"0"!=t.rotate&&(n+="\t-webkit-transform: rotate("+t.rotate+"deg);\n",n+="\ttransform: rotate("+t.rotate+"deg);\n"):n+="\t"+r+": "+e[r]+";\n";return n}function _(e,t,n){var r=o["default"].getSizeUnit(),s=Number(o["default"].getScale(r))?o["default"].getScale(r):l[r],u={},d=o["default"].isRelative(),p=$.getElById("pageContainer"),f=a["default"].getSelectDom(),h=$.offset(f,!0).left,g=$.offset(f,!0).top,m=$.offset(p,!0).left,y=$.offset(p,!0).top,w=i["default"].getPreviewInfo().scale;!d&&p&&(t.left=(h-m)*s/w,t.top=(g-y)*s/w);var C=b(e),S=t[e],x="";switch(e){case"shadow":$.isArray(S)?S.splice(0,5).forEach(function(e,t){x+=t<4?""+$.saveTwoBit(e/s,r)+r+" ":e}):0==S?x=null:[0,S,S,0,"rgba(0, 0, 0, 0.5)"].forEach(function(e,t){x+=t<4?""+$.saveTwoBit(e/s,r)+r+" ":e});break;case"textShadow":x="0"!=S?"rgba(0, 0, 0, 0.5) 0"+r+" "+$.saveTwoBit(S/s,r)+r+" "+$.saveTwoBit(S/s,r)+r:null;break;case"opacity":x=Math.round(S)/100!=1?Math.round(S)/100:null;break;case"insetBorder":x="0"!=S[1]&&"text"==t.type?S[0]+" solid "+$.saveTwoBit(S[1]/s,r)+r:null;break;case"border":x=0!=S[1]?S[0]+" solid "+$.saveTwoBit(S[1]/s,r)+r:null;break;case"cutVals":var E={};"0"!=S.boxWidth&&(E.width=$.saveTwoBit(S.boxWidth/s,r)+r),"0"!=S.boxHeight&&(E.height=$.saveTwoBit(S.boxHeight/s,r)+r),"0"!=S.boxLeft&&(E.left=$.saveTwoBit(S.boxLeft/s,r)+r),"0"!=S.boxTop&&(E.top=$.saveTwoBit(S.boxTop/s,r)+r),$.extend(!0,u,E),x=null;break;case"filter":x=v(S);break;case"radius":case"isMaxRadius":var P="border"==n;C=b("radius");var T=$.isArray(t.radius)?t.radius[0]:t.radius;x="0"!=(x=(t.isMaxRadius?Math.ceil(Math.min(t.width,t.height)/2):Math.round(T))+(P&&("0"!=T||t.isMaxRadius)?t.border[1]:0))?$.saveTwoBit(x/s,r)+r:null;break;case"backColor":case"hasBackColor":C=b("backColor"),x=t.hasBackColor?t.backColor:null;break;case"textColor":x=S;break;case"iconColor":x=S,$.extend(!0,u,_("fontSize",{fontSize:Math.min(t.width,t.height)})),t.width!=t.height&&(u.transform=t.width>t.height?"scaleX("+t.width/t.height+")":"scaleY("+t.height/t.width+")",u["-webkit-transform"]=("0"!=t.rotate?"rotate("+t.rotate+"deg) ":"")+u.transform);break;case"lineHeight":x=10!=Math.ceil(S+5)?10*Math.ceil(S+5)+"%":null;break;case"isShow":x=!1===S?"none":null;break;case"rotate":"0"!=S?(x=S,$.extend(!0,u,_("left",t,n)),$.extend(!0,u,_("top",t,n))):x=null;break;case"outerHidden":x=S?"hidden":null;break;case"scrollX":case"scrollY":x=S?"scroll":null;break;case"isDepend":x=S?"fixed":null,"bm"==t.dependType&&$.extend(!0,u,{top:"auto",bottom:$.saveTwoBit((c.height-(t.top+t.height))/s,r)+r});break;case"adjaceney":x="0"!=S?$.saveTwoBit(S/s,r)+r:null;break;case"outerBorder":x=S[0]+" solid "+$.saveTwoBit(S[1]/s,r)+r;break;case"horizontal":switch(S){case"hL":x="left";break;case"hC":x="center";break;case"hR":x="right"}break;case"isB":x=S?"bold":null;break;case"isI":x=S?"italic":null;break;case"isU":x=S?"underline":null;break;default:x="0"!=S?$.saveTwoBit(S/s,r)+r:null}return null!==x&&(u[C]=x),u}function v(e){return"0"!=(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur||10!=e.saturate||180!=e.hue||10!=e.brightness||10!=e.contrast?e?(e.blur?"blur("+e.blur+"px) ":"")+(e.saturate?"saturate("+(.1*e.saturate).toFixed(1)+") ":"saturate(0) ")+(e.hue?"hue-rotate("+(e.hue-180)+"deg) ":"hue-rotate(-180deg) ")+(e.brightness?"brightness("+(.1*e.brightness).toFixed(1)+") ":"brightness(0) ")+(e.contrast?"contrast("+(.1*e.contrast).toFixed(1)+")":"contrast(0)"):"":null}function y(e){return Math.round(1e3*e)/1e3}function w(e){var t={"class":"",stylesArr:["width","height","left","top","opacity","rotate","isShow","isDepend"]};return{text:{self:{"class":"",stylesArr:t.stylesArr.concat(["adjaceney","indent","textColor","backColor","hasBackColor","textShadow","insetBorder","radius","isMaxRadius","fontSize","lineHeight","border","shadow","horizontal","isB","isI","isU"])}},hotspot:{self:t},icon:{self:{"class":"",stylesArr:t.stylesArr.concat(["iconColor","width","height"])}},image:{self:{"class":"",stylesArr:t.stylesArr.concat(["backColor","hasBackColor","insetBorder","radius","isMaxRadius","border","shadow"])},img:{"class":" img",stylesArr:["cutVals","filter"]}},wrapbox:{self:{"class":"",stylesArr:t.stylesArr.concat(["backColor","hasBackColor","insetBorder","radius","isMaxRadius","border","shadow","outerHidden","scrollX","scrollY"])}},table:{self:{"class":"",stylesArr:t.stylesArr.concat(["backColor","hasBackColor","innerBorder","outerBorder"])}}}[e]}function b(e){return{width:"width",height:"height",left:"left",top:"top",rotate:"rotation",radius:"border-radius",shadow:"box-shadow",opacity:"opacity",backColor:"background-color",iconColor:"color",insetBorder:"box-shadow",adjaceney:"letter-spacing",textColor:"color",fontSize:"font-size",textShadow:"text-shadow",lineHeight:"line-height",indent:"text-indent",content:"value",border:"border",isShow:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position",filter:"filter",outerBorder:"border",horizontal:"text-align",isB:"font-weight",isI:"font-style",isU:"text-decoration"}[e]}var C=p;t["default"]=C,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(l,"unitDefault","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(c,"viewSize","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(u,"commonCssArr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(d,"COMMON_CSS","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(p,"GetCode","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(f,"getCommonCss","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(h,"setCommonCssArr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(g,"getStyles","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(m,"cssObjToStr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(_,"getCssObj","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(v,"getFilter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(y,"getThreeDecimal","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(w,"getStyleCategory","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(b,"styleDict","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),t.register(C,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),r(e))}()}).call(this,n(2)(e),n(138))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4)),i=o(n(539));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}();var a={show:function(e){r["default"].dispatch({actionType:i["default"].NOTEPOPOVER_SHOW,options:e})},hide:function(){r["default"].dispatch({actionType:i["default"].NOTEPOPOVER_HIDE})}},s=a;t["default"]=s,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"NotePopoverActions","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/NotePopoverActions.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/NotePopoverActions.js"),r(e))}()}).call(this,n(2)(e))},,function(e,t,n){"use strict";var r,i,o,a=s(n(516));s(n(85));function s(e){return e&&e.__esModule?e:{"default":e}}i=[],(o="function"==typeof(r=function(){var e=null;return function t(n,r){var i=r||{preventDefault:!1};if(n.Manager){var o=n,s=function(e,n){var r=(0,a["default"])(i);return n&&o.assign(r,n),t(new o(e,r),r)};return o.assign(s,o),s.Manager=function(e,n){var r=(0,a["default"])(i);return n&&o.assign(r,n),t(new o.Manager(e,r),r)},s}var l=(0,a["default"])(n),c=n.element;function u(e){return e.match(/[^ ]+/g)}function d(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var n=!1;t.stopPropagation=function(){n=!0};var r=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof r&&(t.srcEvent.stopPropagation=function(){r(),t.stopPropagation()}),t.firstTarget=e;for(var i=e;i&&!n;){var o=i.hammer;if(o)for(var a,s=0;s<o.length;s++)if(a=o[s]._handlers[t.type])for(var l=0;l<a.length&&!n;l++)a[l](t);i=i.parentNode}}return c.hammer||(c.hammer=[]),c.hammer.push(l),n.on("hammer.input",function(t){!0!==i.preventDefault&&i.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(e=t.target)}),l._handlers={},l.on=function(e,t){return u(e).forEach(function(e){var r=l._handlers[e];r||(l._handlers[e]=r=[],n.on(e,d)),r.push(t)}),l},l.off=function(e,t){return u(e).forEach(function(e){var r=l._handlers[e];r&&((r=t?r.filter(function(e){return e!==t}):[]).length>0?l._handlers[e]=r:(n.off(e,d),delete l._handlers[e]))}),l},l.emit=function(t,r){e=r.target,n.emit(t,r)},l.destroy=function(){var e=n.element.hammer,t=e.indexOf(l);-1!==t&&e.splice(t,1),e.length||delete n.element.hammer,l._handlers={},n.destroy()},l}})?r.apply(t,i):r)===undefined||(e.exports=o)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{"default":e}}(n(16));!function(){var t=n(1).enterModule;t&&t(e)}();var i=(0,r["default"])({NOTEPOPOVER_SHOW:null,NOTEPOPOVER_HIDE:null});t["default"]=i,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/constants/NotePopoverConstants.js"),r(e))}()}).call(this,n(2)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};r.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.prototype.update=function(e){this.context.putImageData(e,0,0)},r.prototype.getPixelCount=function(){return this.width*this.height},r.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},r.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var i=function(){};if(i.prototype.getColor=function(e,t){return this.getPalette(e,5,t)[0]},i.prototype.getPalette=function(e,t,n){(void 0===t||t<2||t>256)&&(t=10),(void 0===n||n<1)&&(n=10);for(var i,o,s,l,c=new r(e),u=c.getImageData().data,d=c.getPixelCount(),p=[],f=0;f<d;f+=n)o=u[(i=4*f)+0],s=u[i+1],l=u[i+2],u[i+3]>=125&&(o>250&&s>250&&l>250||p.push([o,s,l]));var h=a.quantize(p,t),g=h?h.palette():null;return c.removeCanvas(),g},i.prototype.getColorFromUrl=function(e,t,n){sourceImage=document.createElement("img");var r=this;sourceImage.addEventListener("load",function(){var i=r.getPalette(sourceImage,5,n)[0];t(i,e)}),sourceImage.src=e},i.prototype.getImageData=function(e,t){xhr=new XMLHttpRequest,xhr.open("GET",e,!0),xhr.responseType="arraybuffer",xhr.onload=function(e){if(200==this.status){uInt8Array=new Uint8Array(this.response),n=uInt8Array.length,binaryString=new Array(n);for(var n=0;n<uInt8Array.length;n++)binaryString[n]=String.fromCharCode(uInt8Array[n]);data=binaryString.join(""),base64=window.btoa(data),t("data:image/png;base64,"+base64)}},xhr.send()},i.prototype.getColorAsync=function(e,t,n){var r=this;this.getImageData(e,function(e){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",function(){var e=r.getPalette(sourceImage,5,n)[0];t(e,this)}),sourceImage.src=e})},!o)var o={map:function(e,t){var n={};return t?e.map(function(e,r){return n.index=r,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,i){return n.index=i,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?o.map(e,t):e)}};var a=function(){var e=5,t=8-e,n=1e3,r=.75;function i(t,n,r){return(t<<2*e)+(n<<e)+r}function a(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),e===undefined&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function s(e,t,n,r,i,o,a){this.r1=e,this.r2=t,this.g1=n,this.g2=r,this.b1=i,this.b2=o,this.histo=a}function l(){this.vboxes=new a(function(e,t){return o.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function c(e,t){if(t.count()){var n=t.r2-t.r1+1,r=t.g2-t.g1+1,a=t.b2-t.b1+1,s=o.max([n,r,a]);if(1==t.count())return[t.copy()];var l=0,c=[],u=[],d=void 0,p=void 0,f=void 0,h=void 0;if(s==n)for(d=t.r1;d<=t.r2;d++){for(h=0,p=t.g1;p<=t.g2;p++)for(f=t.b1;f<=t.b2;f++)h+=e[i(d,p,f)]||0;l+=h,c[d]=l}else if(s==r)for(d=t.g1;d<=t.g2;d++){for(h=0,p=t.r1;p<=t.r2;p++)for(f=t.b1;f<=t.b2;f++)h+=e[i(p,d,f)]||0;l+=h,c[d]=l}else for(d=t.b1;d<=t.b2;d++){for(h=0,p=t.r1;p<=t.r2;p++)for(f=t.g1;f<=t.g2;f++)h+=e[i(p,f,d)]||0;l+=h,c[d]=l}return c.forEach(function(e,t){u[t]=l-e}),g(s==n?"r":s==r?"g":"b")}function g(e){var n=e+"1",r=e+"2",i=void 0,o=void 0,a=void 0,s=void 0,p=void 0,f=0;for(d=t[n];d<=t[r];d++)if(c[d]>l/2){for(a=t.copy(),s=t.copy(),p=(i=d-t[n])<=(o=t[r]-d)?Math.min(t[r]-1,~~(d+o/2)):Math.max(t[n],~~(d-1-i/2));!c[p];)p++;for(f=u[p];!f&&c[p-1];)f=u[--p];return a[r]=p,s[n]=a[r]+1,[a,s]}}}return s.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var t=this.histo;if(!this._count_set||e){var n=0,r=void 0,o=void 0,a=void 0;for(r=this.r1;r<=this.r2;r++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)n+=t[i(r,o,a)]||0;this._count=n,this._count_set=!0}return this._count},copy:function(){return new s(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var r=0,o=1<<8-e,a=0,s=0,l=0,c=void 0,u=void 0,d=void 0,p=void 0;for(u=this.r1;u<=this.r2;u++)for(d=this.g1;d<=this.g2;d++)for(p=this.b1;p<=this.b2;p++)r+=c=n[i(u,d,p)]||0,a+=c*(u+.5)*o,s+=c*(d+.5)*o,l+=c*(p+.5)*o;this._avg=r?[~~(a/r),~~(s/r),~~(l/r)]:[~~(o*(this.r1+this.r2+1)/2),~~(o*(this.g1+this.g2+1)/2),~~(o*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var n=e[0]>>t;return gval=e[1]>>t,bval=e[2]>>t,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},l.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t=this.vboxes,n=void 0,r=void 0,i=void 0,o=0;o<t.size();o++)((r=Math.sqrt(Math.pow(e[0]-t.peek(o).color[0],2)+Math.pow(e[1]-t.peek(o).color[1],2)+Math.pow(e[2]-t.peek(o).color[2],2)))<n||n===undefined)&&(n=r,i=t.peek(o).color);return i},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return o.naturalOrder(o.sum(e.color),o.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,r=e[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(u,d){if(!u.length||d<2||d>256)return!1;var p=function(n){var r=new Array(1<<3*e),o=void 0,a=void 0,s=void 0,l=void 0;return n.forEach(function(e){a=e[0]>>t,s=e[1]>>t,l=e[2]>>t,o=i(a,s,l),r[o]=(r[o]||0)+1}),r}(u);p.forEach(function(){});var f=function(e,n){var r=1e6,i=0,o=1e6,a=0,l=1e6,c=0,u=void 0,d=void 0,p=void 0;return e.forEach(function(e){u=e[0]>>t,d=e[1]>>t,p=e[2]>>t,u<r?r=u:u>i&&(i=u),d<o?o=d:d>a&&(a=d),p<l?l=p:p>c&&(c=p)}),new s(r,i,o,a,l,c,n)}(u,p),h=new a(function(e,t){return o.naturalOrder(e.count(),t.count())});function g(e,t){for(var r=1,i=0,o=void 0;i<n;)if((o=e.pop()).count()){var a=c(p,o),s=a[0],l=a[1];if(!s)return;if(e.push(s),l&&(e.push(l),r++),r>=t)return;if(i++>n)return}else e.push(o),i++}h.push(f),g(h,r*d);for(var m=new a(function(e,t){return o.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});h.size();)m.push(h.pop());g(m,d-m.size());for(var _=new l;m.size();)_.push(m.pop());return _}}}(),s=i;t["default"]=s,function(){var t=n(1)["default"],l=n(1).leaveModule;t&&(t.register(r,"CanvasImage","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),t.register(i,"ColorThief","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),t.register(o,"pv","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),t.register(a,"MMCQ","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),t.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),l(e))}()}).call(this,n(2)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_ProtoPreviewStore=__webpack_require__(63),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_MobileModel=__webpack_require__(497),_MobileModel2=_interopRequireDefault(_MobileModel),_AppContainer=__webpack_require__(748),_AppContainer2=_interopRequireDefault(_AppContainer);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var SIDEPANELWIDTH=240,ProtoFrameComp=function(_React$Component){function ProtoFrameComp(){(0,_classCallCheck3["default"])(this,ProtoFrameComp);var e=(0,_possibleConstructorReturn3["default"])(this,(ProtoFrameComp.__proto__||(0,_getPrototypeOf2["default"])(ProtoFrameComp)).call(this));return e.state={},e.changePage=e.changePage.bind(e),e}return(0,_inherits3["default"])(ProtoFrameComp,_React$Component),(0,_createClass3["default"])(ProtoFrameComp,[{key:"render",value:function(){var e=this.props.previewInfo;if("web"==e.platform)return _react2["default"].createElement(_AppContainer2["default"],{previewInfo:e,sidePanelWidth:this.props.sidePanelWidth});var t=_ProtoPreviewStore2["default"].getActivePage(!0),n=window.phoneModelSizeObj[window.previewFrameSize.type],r=t&&t.isLandscape,i={width:$.getOddNum((n?n[0]:window.previewFrameSize.width+34)*e.scale),height:$.getOddNum(window.previewFrameSize.height*e.scale)},o=_ProtoPreviewStore2["default"].getAllShowPageKeyList(),a=r?window.previewFrameSize.height:window.previewFrameSize.width,s=r?window.previewFrameSize.width:window.previewFrameSize.height,l=Math.min(0,($.getWinSize().width-a)/2),c=void 0,u=void 0,d=void 0;if(t&&o.length>0&&((c=o.indexOf(parseInt(t.key)))>0&&-1!=o.indexOf(parseInt(o[c-1]))&&(u=o[c-1]),c<o.length-1&&-1!=o.indexOf(parseInt(o[c+1]))&&(d=o[c+1])),r){var p=Math.max(i.width,i.height);i.width=p,i.height=p,window.pSize&&"ipx"==window.pSize.type&&(i.width+=68*this.state.previewInfo.scale)}return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("phone-view-box "+window.previewFrameSize.type,{landscape:r,show:t,custom:-1!=window.previewFrameSize.type.indexOf("_")}),style:{width:a,height:s,left:e.catalog?l:l-SIDEPANELWIDTH,right:e.note||"discuss"==e.mode?l:l-SIDEPANELWIDTH}},_react2["default"].createElement("div",{className:(0,_classnames2["default"])("model-wrapper",{hide:!e.phoneFrame}),style:{transform:"scale("+e.scale+")"}},_react2["default"].createElement(_MobileModel2["default"],{phoneView:!0,backColor:t?t.backColor:undefined,isLandscape:r})),_react2["default"].createElement("div",{className:"operate-wrapper",style:i},_react2["default"].createElement("div",{className:(0,_classnames2["default"])("page-prev-btn",{hide:$.isUndefined(u)}),"data-key":u,onClick:this.changePage},_react2["default"].createElement("div",{className:"arrow"})),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("page-next-btn",{hide:$.isUndefined(d)}),"data-key":d,onClick:this.changePage},_react2["default"].createElement("div",{className:"arrow"}))),_react2["default"].createElement(_AppContainer2["default"],{previewInfo:e,sidePanelWidth:this.props.sidePanelWidth,activePage:t}))}},{key:"changePage",value:function(e){var t=e.currentTarget.getAttribute("data-key"),n=_ProtoPreviewStore2["default"].getActivePage();_ProtoPreviewStore2["default"].changeActivePage({nextKey:t,setPos:!0}),window.goToPage&&window.goToPage({curr:n,next:t,transition:"empty",notToparent:!0,reset:!0}),$.tipHide()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProtoFrameComp}(_react2["default"].Component),_default=ProtoFrameComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(SIDEPANELWIDTH,"SIDEPANELWIDTH","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ProtoFrame.react.js"),e.register(ProtoFrameComp,"ProtoFrameComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ProtoFrame.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ProtoFrame.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_ScaleSetting=__webpack_require__(751),_ScaleSetting2=_interopRequireDefault(_ScaleSetting),_ViewSetting=__webpack_require__(750),_ViewSetting2=_interopRequireDefault(_ViewSetting),_ShareCode=__webpack_require__(749),_ShareCode2=_interopRequireDefault(_ShareCode),_ToastActions=__webpack_require__(7),_ToastActions2=_interopRequireDefault(_ToastActions),_ProtoPreviewActions=__webpack_require__(362),_ProtoPreviewActions2=_interopRequireDefault(_ProtoPreviewActions),_DistanceMeasureStore=__webpack_require__(71),_DistanceMeasureStore2=_interopRequireDefault(_DistanceMeasureStore),_ProtoPreviewStore=__webpack_require__(63),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_screenfull=__webpack_require__(400),_screenfull2=_interopRequireDefault(_screenfull),_Share=__webpack_require__(340),_Share2=_interopRequireDefault(_Share);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ISPCAPP=window.pcApp||window.parent.pcApp,MODELIST=[["预览","preview"],["讨论","discuss"],["标注","mark"]],PreviewHeaderComp=function(_React$Component){function PreviewHeaderComp(){(0,_classCallCheck3["default"])(this,PreviewHeaderComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PreviewHeaderComp.__proto__||(0,_getPrototypeOf2["default"])(PreviewHeaderComp)).call(this));return e.state={},e.refresh=e.refresh.bind(e),e.share=e.share.bind(e),e.presentation=e.presentation.bind(e),e.close=e.close.bind(e),e.editBtnClickFunc=e.editBtnClickFunc.bind(e),e}return(0,_inherits3["default"])(PreviewHeaderComp,_React$Component),(0,_createClass3["default"])(PreviewHeaderComp,[{key:"editBtnClickFunc",value:function(){var e=this.props.previewInfo,t=window.parent||window;t&&(t.location.href=window.hostUrl+"/editor?type="+e.view.type+"&id="+e.view.id+"&activePage="+_ProtoPreviewStore2["default"].getActivePage())}},{key:"render",value:function(){var e=this,t=this,n=t.props.previewInfo,r=window.temp?"(项目未被保存，链接15分钟后失效)":"《"+n.view.name+"》",i=[],o=n.fromIframe,a=[];return MODELIST.forEach(function(n){i.push(_react2["default"].createElement("span",{key:n[1],"data-mode":n[1],className:"mode-btn-"+n[1]+(t.props.mode==n[1]?" active":""),onClick:e.switchMode},n[0]))}),window.cooperationUserArr&&window.cooperationUserArr.length>0&&(a=window.cooperationUserArr.map(function(e){return $.unescapeObj(e)})),_react2["default"].createElement("header",{className:o?"iframe":""},ISPCAPP?undefined:_react2["default"].createElement("a",{href:"https://www.xiaopiu.com/",className:"logo new-base-img "}),_react2["default"].createElement("p",{className:"project-name left-line"},r),"project"!=window.type||window.isLocal?undefined:_react2["default"].createElement("div",{className:"author-wrapper"},a&&a.length>1?_react2["default"].createElement("p",{className:"author-num left-line"},a.length):undefined,_react2["default"].createElement("div",{className:"author-list-wrapper"},_react2["default"].createElement("ul",{className:"author-list"},a.map(function(e,t){return _react2["default"].createElement("li",{key:e.id,className:0==t?"creator":""},e.nickName)})))),n.noBtn||"editor"===n.fromIframe?undefined:_react2["default"].createElement("div",{className:"edit-btn left-line"},_react2["default"].createElement("a",{onClick:t.editBtnClickFunc,className:"small-simple-button",target:window.pcApp?"_self":"_blank"},"编辑查看")),"project"!=window.type||window.isLocal||window.temp?undefined:_react2["default"].createElement("div",{className:"switch-mode"},i),o?_react2["default"].createElement("div",{key:"close",className:"back-btn",onClick:this.close}):undefined,_react2["default"].createElement("ul",{className:"right-btns-group left-line"},_react2["default"].createElement("li",{key:"share",className:"share new-base-img a_c","data-contr":"hovertip","data-option":$.objToString({text:"分享",direction:"top",changePosi:0}),onClick:this.share},_react2["default"].createElement(_ShareCode2["default"],null)),ISPCAPP?undefined:_react2["default"].createElement("li",{key:"fullscreen",className:"fullscreen new-base-img a_c","data-contr":"hovertip","data-option":$.objToString({text:"演示",direction:"top",changePosi:0}),onClick:this.presentation}),_react2["default"].createElement("li",{key:"refresh",className:"refresh new-base-img a_c","data-contr":"hovertip","data-option":$.objToString({text:"刷新",direction:"top",changePosi:0}),onClick:this.refresh}),_react2["default"].createElement("li",{key:"setting",id:"viewSettingBtn",className:"setting new-base-img"},_react2["default"].createElement("div",{className:"view-setting-wrapper"},_react2["default"].createElement(_ViewSetting2["default"],{platform:$.getPlatform(window.platform),previewInfo:n})))),_react2["default"].createElement("div",{className:"percent-btn"},Math.round(100*n.scale)+"%",_react2["default"].createElement("div",{className:"scale-setting-wrapper"},_react2["default"].createElement(_ScaleSetting2["default"],{platform:$.getPlatform(window.platform),previewInfo:n}))))}},{key:"refresh",value:function(){window.location.reload()}},{key:"share",value:function(){var e=this.props.previewInfo,t="web"==e.platform?"web":"h5";if(!window.navigator.onLine)return _ToastActions2["default"].show("网络连接不通畅，请稍候再试"),!1;var n=e.view;"true"!=window.isMine||window.temp||"project"!=window.type?_Share2["default"].sharePopup({title:n.name,type:window.type,others:!0,url:window.temp?window.hostUrl+"/"+t+"?"+window.code:window.hostUrl+"/"+t+"/byId?"+window.code,img:window.hostUrl+"/qrcode"+(window.temp?"":"/img")+"?"+window.code,platform:$.getPlatform(window.platform)}):_Share2["default"].sharePopup({id:n.id,title:n.name,type:window.type,url:window.hostUrl+"/"+t+"/byId?"+window.code,img:window.hostUrl+"/qrcode/img?"+window.code,permission:window.permission,password:window.password,isPublish:window.isPublish,platform:e.platform,others:!1,callback:function(e){for(var t in e)window[t]=e[t]}})}},{key:"presentation",value:function(){_screenfull2["default"].toggle(),_DistanceMeasureStore2["default"].initContr()}},{key:"switchMode",value:function(e){var t=$.query(".popup-close-btn");_ProtoPreviewActions2["default"].switchMode(e.currentTarget.getAttribute("data-mode")),t&&t.click()}},{key:"close",value:function(){window.parent&&window.parent.closePopupPreview()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PreviewHeaderComp}(_react2["default"].Component),_default=PreviewHeaderComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ISPCAPP,"ISPCAPP","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),e.register(MODELIST,"MODELIST","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),e.register(PreviewHeaderComp,"PreviewHeaderComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},,function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(63),o=n.n(i),a=n(90),s=new(function(){function e(){}return e.prototype.getDiscussList=function(){var e=window.view;$.ajax("/discuss/list",{projectId:e.id},function(e){r["default"].setPageId(o.a.getActivePage()||1),a.a.initListByServer(e.list)})},e}());$(function(){window.isLocal||s.getDiscussList(),window.document.addEventListener("keydown",function(e){if(27==e.keyCode){var t=$(".discuss-base-btn.cancel-btn");t.length>0&&t.click()}},!1),window.document.addEventListener("mouseup",function(e){r["default"].setEndPos(null)},!0)});t["default"]="DiscussInit"},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(9),o=n.n(i),a=n(90),s=n(32),l=n(63),c=n.n(l),u=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._moveDot=n._moveDot.bind(n),n}return u(t,e),t.prototype._moveDot=function(e){var t=c.a.getPreviewInfo().scale,n=$.getMousePos(e),r=this.props,i=r.pos,o=r.discuss,l=e.target.getAttribute("data-index"),u=$.query(".spot-box[data-index='"+l+"']"),d=o&&$.isMine(o.id);s["default"].setEditNum(l);var p=$.offset($.query("#project-panel"),!0,!1),f=p.width,h=p.height,g=e.target&&0==$(e.target).parents(".spot-drag-box").length&&!$.query(".spot-drag-box");(s["default"]._getEditState()||d)&&$.setDrag({name:"moveDot",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){s["default"]._getEditState()||a.a.setEditState(!0),$.hasClass(u,"edit-dot")||$.addClass(u,"edit-dot");var r=$.getMousePos(e),o=r.x,l=r.y,c={x:$.setRegion(i.x+$.setRegion(o,0,f)-n.x,0,f+22.8)/t,y:$.setRegion(i.y+$.setRegion(l,0,h)-n.y,0,h+22.8)/t},d={startPosi:c,endPosi:c};a.a.setEditDotData(d)},endFunc:function(){var e=s["default"]._getEditDotData();o&&o.id&&e&&(e.startPosi.x==i.x&&e.startPosi.y==i.y||($.ajax("/discuss/update",{id:o.id,content:s["default"]._getDiscuss(o.id).content,point:$.getCreateDotPosi(e.startPosi,e.endPosi)}),a.a.discussChangePoint(o.id,$.getCreateDotPosi(e.startPosi,e.endPosi))),a.a.setEditDotData(null),a.a.setEditState(!1),s["default"].setEditNum(null),$.removeClass(u,"edit-dot")),g&&(s["default"].setEditNum(null),a.a.setEditState(!1))}}),e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.discuss,n=e.isCreate,i=e.isArea,a=e.pos,s=!!t&&t.isDone,l=t?t.id:undefined,c=this.props.index;return r.createElement("div",{onMouseDown:this._moveDot,className:o()("dot-box",{"create-dot":n}),"data-id":l,"data-index":c||"",style:i?{left:a.x,top:a.y}:{left:a.x-19,top:a.y-19}},r.createElement("div",{className:"dot-point","data-id":l,"data-index":c||""},s?r.createElement("div",{"data-index":c||"","data-id":l,className:"solved-dot new-base-img"}):r.createElement("div",{"data-index":c||"","data-id":l,className:"index-dot"},c)),r.createElement("div",{className:"extend-box"}))},t}(r.Component),p=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._moveArea=n._moveArea.bind(n),n}return p(t,e),t.prototype._moveArea=function(e){var t=this,n=t.props.id,r=c.a.getPreviewInfo().scale,i=!e.target.getAttribute("data-id")&&s["default"]._getEditState(),o=$.isMine(n)&&!s["default"]._getEditState(),l=$.getMousePos(e),u=e.target.getAttribute("data-index"),d=$.query(".spot-box[data-index='"+u+"']"),p=i?s["default"]._getEditDotData():o?s["default"]._getDiscussPosi(t.props.id):null,f=e.target&&0==$(e.target).parents(".spot-drag-box").length&&!$.query(".spot-drag-box");if(s["default"].setEditNum(u),i||o){var h=p.startPosi,g=p.endPosi;$.setDrag({name:"moveArea",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getMousePos(e);s["default"]._getEditState()||a.a.setEditState(!0),d&&!$.hasClass(d,"edit-dot")&&$.addClass(d,"edit-dot");var n={x:Math.min(Math.max(h.x+(t.x-l.x)/r,0),$.offset($.getElById("project-panel"),!0,!1).width/r-g.x+h.x),y:Math.min(Math.max(h.y+(t.y-l.y)/r,0),$.offset($.getElById("project-panel"),!0,!1).height/r-g.y+h.y)},i={x:n.x+(g.x-h.x),y:n.y+(g.y-h.y)};a.a.setEditDotData($.getStartEndPosiByTwoPosi(n,i))},endFunc:function(){var e=s["default"]._getEditDotData();o&&t.props.id&&e&&(p.startPosi.x==e.startPosi.x&&p.startPosi.y==e.startPosi.y||($.ajax("/discuss/update",{id:t.props.id,content:s["default"]._getDiscuss(t.props.id).content,point:$.getCreateDotPosi(e.startPosi,e.endPosi)}),a.a.discussChangePoint(n,$.getCreateDotPosi(e.startPosi,e.endPosi))),d&&$.hasClass(d,"edit-dot")&&$.removeClass(d,"edit-dot"),s["default"].setEditNum(null),a.a.setEditState(!1),a.a.setEditDotData(null)),f&&(s["default"].setEditNum(null),a.a.setEditState(!1))}})}e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.pos,n=e.isSolved;return r.createElement("div",{className:o()("drag-area",{"solved-drag-area":n}),"data-index":this.props.index,"data-id":this.props.id,style:{left:t.left,top:t.top,width:t.width,height:t.height},onMouseDown:this._moveArea})},t}(r.Component),h=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={endPos:{x:0,y:0}},n._dragArea=n._dragArea.bind(n),n._cancelMask=n._cancelMask.bind(n),n}return h(t,e),t.prototype._cancelMask=function(){},t.prototype._dragArea=function(e){var t=-1==e.target.className.indexOf("my-drag"),n=c.a.getPreviewInfo().scale,r=$.getMousePos(e),i=this.props.id,o=t?s["default"]._getEditDotData():s["default"]._getDiscussPosi(i),l=$.extend(!0,{},o),u=l.startPosi,d=l.endPosi,p=e.target.getAttribute("data-index"),f=$.query(".spot-box[data-index='"+p+"']"),h=e.target&&0==$(e.target).parents(".spot-drag-box").length&&!$.query(".spot-drag-box");s["default"].setEditNum(p),$.setDrag({name:"dragArea",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getMousePos(e);s["default"]._getEditState()||a.a.setEditState(!0),$.hasClass(f,"edit-dot")||$.addClass(f,"edit-dot");var i=$.offset($.query("#project-panel"),!0,!1),o=i.width,l=i.height,c={x:$.setRegion(d.x+(t.x-r.x)/n,0,o/n),y:$.setRegion(d.y+(t.y-r.y)/n,0,l/n)};s["default"].setEndPos(c);var p={x:u.x,y:u.y},h={x:$.setRegion(d.x+(t.x-r.x)/n,0,o/n),y:$.setRegion(d.y+(t.y-r.y)/n,0,l/n)};a.a.setEditDotData($.getStartEndPosiByTwoPosi(p,h))},endFunc:function(){var e=s["default"]._getEditDotData();!t&&i&&e&&((o.startPosi.x!=e.startPosi.x||o.startPosi.y!=e.startPosi.y||o.endPosi.x!=e.endPosi.x||o.endPosi.y!=e.endPosi.y)&&($.ajax("/discuss/update",{id:i,content:s["default"]._getDiscuss(i).content,point:$.getCreateDotPosi(e.startPosi,e.endPosi)}),a.a.discussChangePoint(i,$.getCreateDotPosi(e.startPosi,e.endPosi))),$.removeClass(f,"edit-dot"),s["default"].setEditNum(null),a.a.setEditState(!1),a.a.setEditDotData(null));h&&(s["default"].setEditNum(null),a.a.setEditState(!1)),s["default"].setEndPos(null)}}),e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.pos,n=e.index,i=e.id;return r.createElement("div",{onMouseLeave:this._cancelMask,"data-id":i,"data-index":n,style:{left:t.x-3,top:t.y-3},onMouseDown:this._dragArea,className:o()("drag-box",{"my-drag":this.props.isMine})})},t}(r.Component),m=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return m(t,e),t.prototype.render=function(){var e=this.props.pos,t=e.x,n=e.y;return r.createElement("div",{className:"mouse-tip",style:{left:t+19,top:n-19}},window.noLogin?"登陆后打点讨论":"点击或框选区域进行讨论")},t}(r.Component),v=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(e){function t(t){return e.call(this,t)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.isArea,n=e.scale,i=s["default"]._getEditDotData(),o=i.startPosi,a=i.endPosi,l={left:o.x*n,top:o.y*n,width:(a.x-o.x)*n,height:(a.y-o.y)*n},c=s["default"]._getEndPosi(),u={x:c?c.x*n:a.x*n,y:c?c.y*n:a.y*n},p=s["default"]._getEditNum()||document.getElementsByClassName("dot-box").length-document.getElementsByClassName("spot-drag-box").length+1;return r.createElement("div",{className:"spot-drag-box"+(t?" spot-has-area":"")},r.createElement(d,{scale:n,index:p,pos:{x:o.x*n,y:o.y*n},isCreate:!0,isArea:t}),t?r.createElement("div",null,r.createElement(f,{scale:n,pos:l,index:p,isSolved:!1}),r.createElement(g,{scale:n,pos:u,index:p})):undefined)},t}(r.Component),w=n(49),b=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C="panel",S=-1,x=!1,E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,discusssList:s["default"].getDiscussList(),mousePos:{x:0,y:0}},n._createDot=n._createDot.bind(n),n._getPos=n._getPos.bind(n),n._getDotDoms=n._getDotDoms.bind(n),n._onChange=n._onChange.bind(n),n._resetClass=n._resetClass.bind(n),n._enterPanelFunc=n._enterPanelFunc.bind(n),n._getState=n._getState.bind(n),n}return b(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!(this.props.scrollChangeVal!=e.scrollChangeVal&&this.props.scale==e.scale)||this.state.renderChange!=t.renderChange},t.prototype._getState=function(){var e=s["default"].getDiscussList();return{renderChange:this.state.renderChange+1,discusssList:e,mousePos:{x:0,y:0}}},t.prototype._onChange=function(){this.setState(this._getState())},t.prototype.componentDidMount=function(){s["default"].addDotChangeListener(this._onChange),s["default"].addEditChangeListener(this._onChange),s["default"].addChangeListener(this._onChange),n(690)},t.prototype.componentWillUnmount=function(){s["default"].removeDotChangeListener(this._onChange),s["default"].removeEditChangeListener(this._onChange),s["default"].removeChangeListener(this._onChange)},t.prototype._resetClass=function(){var e=$.getElById("project-panel");s["default"]._getIsHoverSpot()&&s["default"]._setHoverSpot(!1),$.hasClass(e,"is-hover-dot")&&$.removeClass(e,"is-hover-dot"),$.hasClass(e,"is-normal")&&$.removeClass(e,"is-normal"),x=!1,this.setState({})},t.prototype._enterPanelFunc=function(){x=!0},t.prototype._getPos=function(e){x=!0;var t=e.target&&($(e.target).parents(".spot-box").length||$(e.target).parents(".spot-drag-box").length),n={mousePos:{x:e.clientX,y:e.clientY}};if(n.hoverDot=!!t,"panel"!==C&&S==e.target.getAttribute("data-index")||!t){if("dot"===C&&!t&&!s["default"]._getEditState()&&!s["default"]._getEditNum()){o=$.query(".hover");s["default"]._getIsHoverSpot()&&s["default"]._setHoverSpot(!1),$.hasClass(o,"hover")&&$.removeClass(o,"hover");var r=$.query(".hover-spot-box");$.removeClass(r,"hover-spot-box")}}else{s["default"]._getIsHoverSpot()||s["default"]._setHoverSpot(!0);var i=e.target.getAttribute("data-id");if(i){var o=$(".discuss-scroll-list").find(".discuss-box[data-id='"+i+"']")[0],l=-s["default"]._getScrollTop()-($.getWindowWH().height-45)/2+$.offset(o).top;a.a.setScrollTop(-l),$.hasClass(o,"hover")||$.addClass(o,"hover");var c=$.query(".spot-box[data-id='"+i+"']");$.hasClass(c,"hover-spot-box")||$.addClass(c,"hover-spot-box")}}if(S!=e.target.getAttribute("data-index")&&t&&!s["default"]._getEditState()){var u=e.target.getAttribute("data-index"),d=$(".discuss-scroll-list").find(".discuss-box[data-index='"+S+"']")[0];$.removeClass(d,"hover");var p=$.query(".spot-box[data-index='"+S+"']");$.hasClass(p,"hover-spot-box")&&$.removeClass(p,"hover-spot-box");var f=$(".discuss-scroll-list").find(".discuss-box[data-index='"+u+"']")[0];$.addClass(f,"hover");var h=$.query(".spot-box[data-index='"+u+"']");$.hasClass(h,"hover-spot-box")||$.addClass(p,"hover-spot-box")}var g=$.getElById("project-panel");0!=$(e.target).parents(".spot-box").length||s["default"]._getEditState()?$.hasClass(g,"is-normal")||$.addClass(g,"is-normal"):$.hasClass(g,"is-normal")&&$.removeClass(g,"is-normal"),C=t?"dot":"panel",S=e.target.getAttribute("data-index"),this.setState(n)},t.prototype._createDot=function(e){if(window.noLogin)w["default"].registerPopupFunc();else{var t=s["default"]._getEditState(),n=c.a.getPreviewInfo().scale;if(!s["default"]._getEditState()&&!s["default"].getEditData().replyId||t&&!s["default"].getEditData().replyId){var r={x:$.getMousePos(e).x,y:$.getMousePos(e).y},i={startPosi:r,endPosi:r},o={startPosi:{x:i.startPosi.x/n,y:i.startPosi.y/n},endPosi:{x:i.endPosi.x/n,y:i.endPosi.y/n}};if(t||a.a.setEditState(!0),!s["default"].getEditData().isActive){a.a.editChangeState({replyId:null,isActive:!0,editId:null})}var l=$.query("#project-panel"),u=$.offset(l,!0,!1),d=u.width,p=u.height;a.a.setEditDotData(o),$.setDrag({name:"createDot",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getMousePos(e),i=t.x,o=t.y,s=$.setRegion(i,0,d),l=$.setRegion(o,0,p),c={startPosi:{x:Math.min(r.x/n,s/n),y:Math.min(r.y/n,l/n)},endPosi:{x:Math.max(r.x/n,s/n),y:Math.max(r.y/n,l/n)}};a.a.setEditDotData(c)}})}setTimeout(function(){$.getElById("editInput")&&$.getElById("editInput").focus()},0),e.stopPropagation(),e.preventDefault()}},t.prototype._getDotDoms=function(){var e=this,t=e.props.scale,n=e.state.discusssList,i=[],a=0;return n.forEach(function(n){if(n.point){a++;var s=n.point.area,l=!!s&&(s.w>=5||s.h>=5);i.push(r.createElement("div",{"data-id":n.id,"data-index":a,className:o()("spot-box ",{"my-dot":$.isMine(n.id)&&!l,"my-area":$.isMine(n.id)&&!!l,"spot-has-area":l&&!n.isDone}),key:n.id},r.createElement(d,{key:"0dot",pos:{x:n.point.posi.x*t,y:n.point.posi.y*t},index:a,discuss:n,isCreate:!1,scale:e.props.scale,isArea:l}),s&&l?r.createElement("div",{key:"dot-area"},r.createElement(f,{key:"0area",id:n.id,pos:{left:n.point.posi.x*t,top:n.point.posi.y*t,width:s.w*t,height:s.h*t},index:a,scale:e.props.scale,isSolved:!!n.isDone&&n.isDone}),r.createElement(g,{index:a,key:"0drag",id:n.id,isMine:$.isMine(n.id),scale:e.props.scale,pos:{x:n.point.posi.x*t+s.w*t,y:n.point.posi.y*t+s.h*t}})):undefined))}}),i},t.prototype.render=function(){var e=s["default"]._getEditDotData(),t=!1;if(e){var n=e.endPosi,i=e.startPosi;t=n.y-i.y>=5||n.x-i.x>=5}return r.createElement("div",{id:"project-panel",className:o()("project-panel",{"is-create-dot":s["default"]._getEditState(),"is-hover-dot":this.state.hoverDot||s["default"]._getEditState()}),onMouseMove:this._getPos,onMouseDown:this._createDot,onMouseLeave:this._resetClass,onMouseEnter:this._enterPanelFunc},this._getDotDoms(),e?r.createElement(y,{key:"spotDrag",scale:this.props.scale,isArea:t}):undefined,x?r.createElement(_,{key:"mouseTip",pos:this.state.mousePos}):undefined)},t}(r.Component);t["default"]=E},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(99),a=n.n(o),s=(n(124),n(121),n(120),n(119),n(123),n(9)),l=n.n(s),c=(n(519),n(63)),u=n.n(c),d=n(536),p=n.n(d),f=window;$.hoverContrInit(),$.ClickContrInit();var h;if(self!=top&&"www.xiaopiu.com"==window.parent.location.hostname){var g=window.parent.location.pathname.replace("/","");h="editor"==g||"project"==g?"editor":"square"==g?"square":"list"}window.temp=-1==window.location.href.indexOf("byId")&&"www.xiaopiu.com"==window.location.host;var m={url:f.hostUrl+"/"+$.getPlatform(f.type)+"/byId?"+f.code,noClose:!0,noBtn:"true"==f.noBtn||window.temp,user:$.unescapeObj(f.user),view:$.unescapeObj(f.view),isMine:"true"==f.isMine,catalog:"project"==f.type,note:"project"==f.type,noteTag:"project"==f.type,fromIframe:h};h&&(f.fromIframe=!0),window.parent.previewPopupSet&&$.extend(!0,m,window.parent.previewPopupSet),u.a.init(m),window.setPreviewPagesArr=function(e,t){u.a.setPagesArr(e),u.a.setStructData(t),u.a.emitChange()},window.setPreviewActivePage=function(e,t){u.a.changeActivePage({currIndex:e,nextIndex:t,setPos:!0})},window.addListNoteHoverClass=function(e,t,n){var r=$.getElById("listPage"+e+"Note"+t),i=$.getElById("previewNotePanel");if(i){var o=i.clientHeight,a=r.offsetTop,s=r.offsetHeight,l=i.scrollTop;(a+s>o||a<l)&&(i.scrollTop=a)}$.addClass(r,"hover"),p.a.show({content:n,noteTag:$.getElById("page"+e+"Note"+t)})},window.removeListNoteHoverClass=function(e,t){$.removeClass($.getElById("listPage"+e+"Note"+t),"hover"),p.a.hide()};var _=n(688),v=n.n(_),y=n(687),w=n.n(y),b=n(362),C=n.n(b),S=n(6),x=n.n(S),E=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hideNote:u.a.getHideNote()},n}return E(t,e),t.prototype._noteMouseEnter=function(e){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-id");window.addNoteHoverClass(t,n)},t.prototype._noteMouseLeave=function(e){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-id");window.removeNoteHoverClass(t,n)},t.prototype._toggleNote=function(){C.a.toggleNote()},t.prototype.render=function(){var e=this,t=[];e.props.note&&"discuss"!=e.props.previewInfo.mode&&e.props.note.forEach(function(n){t.push(i.a.createElement("li",{"data-pageid":n.pageId,"data-id":n.id,id:"listPage"+n.pageId+"Note"+n.id,key:n.id,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},i.a.createElement("p",{className:"index"},n.index),i.a.createElement("pre",null,i.a.createElement("p",{className:"note-content"},""==n.text.trim()?"[暂无信息]":n.text))))});var n=$(".page.current .contr-note-box");if(n.length>0){var r=[];n.each(function(n,o){var a=$(".page.current").attr("data-key"),s=o.getAttribute("data-note"),l=o.getAttribute("data-key"),c=o.getAttribute("data-name");-1==r.indexOf(l)&&(r.push(l),t.push(i.a.createElement("li",{"data-pageid":a,"data-id":l,className:"contr-note-box listPage"+a+"Note"+l,id:"listPage"+a+"Note"+l,key:l+n,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},i.a.createElement("p",{className:"index"},"N"),i.a.createElement("span",null,"  -  "+c),i.a.createElement("pre",null,i.a.createElement("p",{className:"note-content"},s)))))})}return i.a.createElement("div",{className:l()("preview-lr-panel rightPanel",{fold:!e.props.previewInfo.note}),onWheel:$.stopPropagation},i.a.createElement("div",{className:"preview-note-panel",id:"previewNotePanel"},t.length>0?i.a.createElement("ul",null,t):i.a.createElement("div",{className:"empty-note new-base-img"})),i.a.createElement("div",{className:"toggle-btn",onClick:e._toggleNote}))},P([x.a],t.prototype,"_noteMouseEnter",null),P([x.a],t.prototype,"_noteMouseLeave",null),P([x.a],t.prototype,"_toggleNote",null),t}(i.a.Component),j=n(32),I=n(90),k=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return k(t,e),t.prototype.render=function(){return r.createElement("div",{style:{height:j["default"].getEditData().isActive?533:652},className:"empty-discuss-box"},r.createElement("div",{className:"empty-discuss"},r.createElement("div",{className:"empty-img new-base-img"}),r.createElement("div",{className:"empty-text"},"本页还没有人讨论呢，赶紧来开始讨论一下吧")))},t}(r.Component),D=n(49),O=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._replyClick=n._replyClick.bind(n),n}return O(t,e),t.prototype._replyClick=function(e){if(window.noLogin)D["default"].registerPopupFunc();else{var t=this.props.discuss,n=t.user,r={replyId:t.id,isActive:!0,editId:null};I.a.editChangeState(r),j["default"].setReplyName(n.name);var i=$.query(".project-panel");$.addClass(i,"is-create-dot"),setTimeout(function(){$.query("#editInput")&&$.query("#editInput").focus()},0)}},t.prototype.render=function(){var e=this.props.discuss,t=e.date,n=e.isDone,i=e.id,o=e.replyId,a=e.user,s=e.parentId,l=new Date(t),c=$.changeTimeStyle(l),u=!1;return s&&j["default"]._getDiscuss(s).isDone&&(u=!0),r.createElement("div",{className:"bottom-content"},r.createElement("span",null,c),n||u?undefined:r.createElement("div",{"data-contr":"hovertip","data-option":$.objToString({direction:"top",text:"回复"}),"data-user":a.name,"data-id":o||i,className:"discuss-reply-btn a_c new-base-img",onClick:this._replyClick}))},t}(r.Component),L=n(64),N=n(13),U=n(7),R=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._getMenuDom=n._getMenuDom.bind(n),n._doneDiscuss=n._doneDiscuss.bind(n),n._undoneDiscuss=n._undoneDiscuss.bind(n),n._doneShowDiscuss=n._doneShowDiscuss.bind(n),n._undoneShowDiscuss=n._undoneShowDiscuss.bind(n),n._deleteDiscuss=n._deleteDiscuss.bind(n),n._editContent=n._editContent.bind(n),n._chooseDiscuss=n._chooseDiscuss.bind(n),n}return R(t,e),t.prototype._chooseDiscuss=function(e){var t=e.currentTarget.getAttribute("data-index");if(-1!=t){var n=$.getElById("project-panel"),r=$.query(".spot-box[data-index='"+t+"']");if(r){$(".spot-box.click").removeClass("click"),$.hasClass(n,"is-click-dot")||$.addClass(n,"is-click-dot"),$.hasClass(r,"click")||$.addClass(r,"click");var i=$.query(".dot-box[data-index='"+t+"']"),o=$.offset(i,!0);$.previewScrollTop(o,n)}}var a=$.query(".click");a&&a.addEventListener("animationend",function(){$.removeClass(a,"click")},!1)},t.prototype._doneDiscuss=function(){var e=this.props.discuss.id,t=window.loginInfo;$.ajax("/discuss/done",{id:e,isDone:!0,doneUser:t.userId},function(n){I.a.discussIsDone(e,!0),I.a.discussIsDoneShow(e,!1),I.a.discussChangeReplyHide(e,!1);var r={id:t.userId,name:t.nickName,userImage:t.userImage};I.a.setSolvedNick(e,r)})},t.prototype._undoneDiscuss=function(){var e=this.props.discuss.id;$.ajax("/discuss/done",{id:e,isDone:!1},function(t){I.a.discussIsDone(e,!1),I.a.discussChangeReplyHide(e,!0)})},t.prototype._doneShowDiscuss=function(){var e=this.props.discuss.id;I.a.discussIsDoneShow(e,!0);var t=$.query(".solved-box[data-id='"+e+"']");$.removeClass(t,"hide-content-box")},t.prototype._undoneShowDiscuss=function(){var e=this.props.discuss.id;I.a.discussIsDoneShow(e,!1);var t=$.query(".solved-box[data-id='"+e+"']");$.addClass(t,"hide-content-box")},t.prototype._deleteDiscuss=function(){var e=this;N["default"].init({title:"删除讨论",width:640,content:r.createElement("div",{className:"popup-content"},r.createElement("span",null,"确定删除该条讨论？")),cancelBtnName:"取消",submitBtnName:"删除",submitBtnFunc:function(){var t=e.props.discuss.id,n=!e.props.discuss.replyId;$.ajax("/discuss/delete",{id:t,isDeleteChild:n},function(e){var n=$.query(".is-hover-dot");$.removeClass(n,"is-hover-dot"),I.a.discussDelete(t),setTimeout(function(){I.a.setScrollTop(j["default"]._getScrollTop())},0),U["default"].show("删除成功"),N["default"].hide()})}})},t.prototype._editContent=function(e){var t=this.props.discuss,n=$(e.target).parents(".discuss-box")[0].getAttribute("data-index");j["default"].setEditContent(j["default"]._getDiscuss(t.id).content);var r={replyId:t.replyId?t.id:null,isActive:!0,editId:t.id};if(I.a.editChangeState(r),t.point){var i={x:t.point.posi.x,y:t.point.posi.y},o=t.point.area||{w:0,h:0},a={x:i.x+o.w,y:i.y+o.h};I.a.setEditDotData($.getStartEndPosiByTwoPosi(i,a)),j["default"].setEditNum(n)}if(-1!=n){var s=$.query(".spot-box[data-index='"+n+"']");$.addClass(s,"edit-dot")}I.a.setEditState(!0),setTimeout(function(){var e=$.getElById("editInput");e&&(e.focus(),$.rangeGoEnd(undefined,e))},100)},t.prototype._getMenuDom=function(){var e=this.props,t=e.discuss,n=e.couldShowContent,i=t.isDoneShow,o=t.isDone,a=t.replyId,s=t.id,l=[];return!window.noLogin?($.isMine(s)&&l.push(["编辑",this._editContent]),($.isMine(s)||$.isProjectAuther(t))&&l.push(["删除",this._deleteDiscuss]),o?(!i&&n?l.push(["显示内容",this._doneShowDiscuss]):n&&l.push(["隐藏内容",this._undoneShowDiscuss]),l.push(["未解决",this._undoneDiscuss])):a||l.push(["已解决",this._doneDiscuss])):o&&!i&&n?l.push(["显示内容",this._doneShowDiscuss]):o&&i&&l.push(["隐藏内容",this._undoneShowDiscuss]),r.createElement("div",{className:"option-menu drop-menu-parent new-base-img"},r.createElement(L["default"],{ref:"downloadDropMenu",name:"downloadDropMenu",list:l,pos:{left:-74,top:0},dir:"right"}))},t.prototype.render=function(){var e=this.props,t=e.index,n=e.discuss,i=n.point,o=n.isDone,a=n.user,s=n.replyId,l=n.doneUser,c=n.id;return r.createElement("div",{"data-index":t,className:"top-content"},o&&l?r.createElement("div",{className:"dot-index"},r.createElement("div",{onClick:this._chooseDiscuss,className:"dot-success a_c new-base-img","data-index":t,"data-contr":"hovertip","data-option":$.objToString({direction:"top",text:l.nickName||l.name})})):i?r.createElement("div",{onClick:this._chooseDiscuss,"data-index":t,className:"dot-index"},r.createElement("div",null,t)):undefined,r.createElement("img",{src:$.getUserImageUrl(a.userImage,0),className:"userInfo-img"}),r.createElement("div",{className:"text-ellipsis userInfo-nick"+($.isMine(c)?s?" userInfo-nick-reply-mine":" userInfo-nick-discuss-mine":s?" userInfo-nick-reply-other":" userInfo-nick-discuss-other")},a.name),$.isMine(c)?r.createElement("span",{className:"dot-mine"},"[我]"):undefined,$.isMine(c)||$.isProjectAuther(n)||o?this._getMenuDom():undefined)},t}(r.Component),H=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return H(t,e),t.prototype.render=function(){var e=this.props.discuss,t=e.content,n=e.replyUser,i=j["default"]._getDiscuss(e.parentId).isDone;return n&&(t="回复"+n.name+":"+t),r.createElement("div",{"data-id":e.id,className:l()("discuss-box comment-box",{"reply-solved-box":i})},r.createElement("div",{className:"comment-content"},r.createElement(B,{discuss:e}),r.createElement("p",{dangerouslySetInnerHTML:{__html:$.getAtUserText(t)}}),r.createElement(M,{discuss:e})))},t}(r.Component),F=n(371),q=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=undefined&&undefined.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z=!1,W=function(e){function t(t){var n=e.call(this,t)||this;return n.state={atwho:null},n.handleCompositionStart=n.handleCompositionStart.bind(n),n.handleCompositionEnd=n.handleCompositionEnd.bind(n),n.handleInput=n.handleInput.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleItemHover=n.handleItemHover.bind(n),n.handleItemClick=n.handleItemClick.bind(n),n}return q(t,e),t.prototype.handleItemClick=function(){this.selectItem(),this.closePanel()},t.prototype.handleItemHover=function(e){var t=this.state.atwho,n=+Object(F.closest)(e.target,function(e){return e.dataset.index}).dataset.index;this.setState({atwho:K({},t,{cur:n})})},t.prototype.handleDelete=function(e){var t=this.state.atwho,n=Object(F.getPrecedingRange)();if(n){var r=n.toString(),i=r.lastIndexOf("@");if(i>-1){var o=r.slice(i+1,i+1+r.length);if(this.props.members.indexOf(o)>-1){var a=Object(F.getRange)();a&&(a.setStart(a.endContainer,i+1),a.deleteContents(),Object(F.applyRange)(a),t&&this.closePanel())}}}},t.prototype.handleKeyDown=function(e){var t=this,n=this.state.atwho;if(n){if(38===e.keyCode||40===e.keyCode){if(!e.metaKey&&!e.ctrlKey){e.preventDefault(),e.stopPropagation();var r=38===e.keyCode?-1:1,i=this.props.members,o=n.cur;this.setState({atwho:K({},n,{cur:(o+r+i.length)%i.length})},function(){t.refs.cur.scrollIntoViewIfNeeded()})}return}if(13===e.keyCode)return this.selectItem(),this.closePanel(),e.preventDefault(),void e.stopPropagation();if(27===e.keyCode)return void this.closePanel()}setTimeout(this.handleInput,50),8===e.keyCode?this.handleDelete(e):e.shiftKey&&13==e.keyCode&&this.props.quickSend()},t.prototype.handleCompositionStart=function(){z=!0},t.prototype.handleCompositionEnd=function(){z=!1,this.handleInput()},t.prototype.handleInput=function(){if(!z){var e=Object(F.getPrecedingRange)();if(e){var t=!0,n=e.toString(),r=n.lastIndexOf("@");r<0&&(t=!1);var i=n[r-1];/^[a-z0-9]$/i.test(i)&&(t=!1);var o=n.slice(r+1);if(/^\s/.test(o)&&(t=!1),t){var a=o.toLowerCase(),s=this.props.members.filter(function(e){return e.toLowerCase().indexOf(a)>-1});s.length?this.openPanel(s,e,r):this.closePanel()}else this.closePanel()}}},t.prototype.closePanel=function(){this.state.atwho&&this.setState({atwho:null})},t.prototype.openPanel=function(e,t,n){var r=this,i=function(){var i=t.cloneRange();i.setStart(i.endContainer,n+1);var o=i.getClientRects()[0];r.setState({atwho:{range:t,offset:n,list:e,x:o.left,y:o.top-4,cur:0}})};this.state.atwho?i():setTimeout(i,10)},t.prototype.selectItem=function(){var e=this.state.atwho,t=e.range,n=e.offset,r=e.list,i=e.cur,o=t.cloneRange();o.setStart(o.endContainer,n+1),Object(F.applyRange)(o),Object(F.applyRange)(o),document.execCommand("insertText",!1,r[i]),document.execCommand("insertText",!1," ")},t.prototype.renderList=function(){var e=this,t=this.state.atwho;if(!t)return null;var n=t.list,i=t.cur,o=t.x,a=t.y,s={},l=this.refs.wrap;if(l){var c=Object(F.getOffset)(l);s={left:$.setRegion(o-c.left,31,77),top:a-c.top+18}}return r.createElement("div",{className:"atwho-panel",style:s},r.createElement("div",{className:"atwho-inner"},r.createElement("div",{className:"atwho-view"},r.createElement("div",{className:"atwho-tip"},"选择用户或输入用户名"),r.createElement("ul",{className:"atwho-view-ul"},n.map(function(t,n){var o=n===i;return r.createElement("li",{key:n,className:o?"cur":"",ref:o?"cur":"","data-index":n,onMouseEnter:e.handleItemHover,onClick:e.handleItemClick},r.createElement("span",null,t))})))))},t.prototype.render=function(){var e=this.props.children;return r.createElement("div",{ref:"wrap",id:"atParentBox",className:"atwho-wrap",onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onInput:this.handleInput,onKeyDown:this.handleKeyDown},this.renderList(),e)},t}(r.Component),G=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=window.cooperationUserArr,Y=[];X&&X.length>0&&(Y=X.map(function(e){return $.unescapeObj(e).nickName}));var J,Z=function(e){function t(t){var n=e.call(this,t)||this,r=j["default"].getEditData();return n.state={point:j["default"]._getEditDotData(),isEditBoxActive:r.isActive,replyId:r.replyId,editId:r.editId,textAreaValue:$.query(".edit-input")?$.query(".edit-input").innerText:j["default"].getEditContent(),hasEdit:!1},n._changeEditStateActive=n._changeEditStateActive.bind(n),n._editAddAt=n._editAddAt.bind(n),n._sendBtnClick=n._sendBtnClick.bind(n),n._onChangeState=n._onChangeState.bind(n),n._clearDot=n._clearDot.bind(n),n._cancelBtnClick=n._cancelBtnClick.bind(n),n._onChange=n._onChange.bind(n),n._onPaste=n._onPaste.bind(n),n}return G(t,e),t.prototype._onChange=function(e){this.setState({textAreaValue:$(e.target).html()}),this.state.hasEdit||this.setState({hasEdit:!0})},t.prototype._onPaste=function(e){var t=$.getElById("editInput"),n=e.clipboardData.getData("Text");t.innerHTML+=n,this.setState({textAreaValue:t.innerHTML}),this.state.hasEdit||this.setState({hasEdit:!0}),$.rangeGoEnd(e),e.preventDefault()},t.prototype._onChangeState=function(){var e=j["default"].getEditData();this.setState({point:j["default"]._getEditDotData(),textAreaValue:$.query(".edit-input")?$.query(".edit-input").innerText:j["default"].getEditContent(),isEditBoxActive:e.isActive,replyId:e.replyId,editId:e.editId})},t.prototype.componentDidMount=function(){j["default"].addEditChangeListener(this._onChangeState),j["default"].addDotChangeListener(this._onChangeState),j["default"].addChangeListener(this._onChangeState)},t.prototype.componentWillUnmount=function(){j["default"].removeEditChangeListener(this._onChangeState),j["default"].removeDotChangeListener(this._onChangeState),j["default"].removeChangeListener(this._onChangeState)},t.prototype._changeEditStateActive=function(){I.a.editChangeState({replyId:null,isActive:!0,editId:null}),I.a.setEditState(!0),setTimeout(function(){$.getElById("editInput")&&$.getElById("editInput").focus()},0)},t.prototype._editAddAt=function(){var e=$.getElById("editInput");e.innerHTML+="@";var t=window.getSelection(),n=window.document.createRange();n.selectNodeContents(e.lastChild),n.collapse(!1),t.removeAllRanges(),t.addRange(n),$("#atParentBox").trigger("keydown"),setTimeout(function(){e.focus()},0)},t.prototype._clearDot=function(){$.tipHide(),I.a.setEditDotData(null),setTimeout(function(){$.getElById("editInput")&&$.getElById("editInput").focus()},0)},t.prototype._cancelBtnClick=function(){I.a.editChangeState({replyId:null,isActive:!1,editId:null}),I.a.setEditState(!1),I.a.setEditDotData(null),j["default"].setEditNum(null),j["default"].setReplyName(null),j["default"].setEditContent(""),this.setState({textAreaValue:""}),setTimeout(function(){var e=$.query(".project-panel");$.hasClass(e,"is-create-dot")&&$.removeClass(e,"is-create-dot"),$.hasClass($.query(".edit-dot"),"edit-dot")&&$.removeClass($.query(".edit-dot"),"edit-dot")},0)},t.prototype._sendBtnClick=function(){var e=this,t=this,n=j["default"].getEditContent();if(""==t.state.textAreaValue.trim()){var r=$.getElById("editInput");U["default"].show("评论内容不能为空"),r&&r.focus()}else if(t.state.textAreaValue||n&&!t.state.hasEdit||n&&t.state.hasEdit&&t.state.textAreaValue){if(window.noLogin)return void D["default"].registerPopupFunc();var i,o=window,a=o.view,s=o.loginInfo,l=j["default"].getEditData().replyId,c=j["default"].getEditData().editId;if(l&&!c){var u=j["default"]._getParentId(l),d=j["default"]._getDiscuss(l),p={content:t.state.textAreaValue,projectId:a.id,replyId:l,parentId:u,pageId:j["default"].getPageId()};d&&d.parentId&&(p.replyUser=d.user.id),$.ajax("/discuss/reply",p,function(n){if(i=n.id,0==n.code){var r={id:n.id,date:new Date,replyId:l,parentId:u,pageId:j["default"].getPageId(),user:{userImage:s.userImage,name:s.nickName,id:s.id},replyUser:d&&d.parentId?j["default"]._getDiscuss(l).user:undefined,isReplyHide:!0,content:t.state.textAreaValue};I.a.discussAdd(r);I.a.editChangeState({replyId:null,isActive:!1,editId:null}),I.a.setEditState(!1),j["default"].setReplyName(null),e.setState({textAreaValue:""});var o=$.query(".comment-box[data-id='"+i+"']"),a=$.offset(o,!0,!1).top;I.a.setScrollTop(j["default"]._getScrollTop()+($.getWindowWH().height-45)/2-a),setTimeout(function(){var e=$.query(".project-panel");$.hasClass(e,"is-create-dot")&&$.removeClass(e,"is-create-dot")},0)}})}else if(c){var f=j["default"].getEditContent(),h=j["default"]._getEditDotData(),g=j["default"]._getDiscuss(c).point,m=h&&!g||!h&&g,_=h?$.getCreateDotPosi(h.startPosi,h.endPosi):null,v=!m&&g&&_&&(g.posi.x!=_.posi.x||g.posi.y!=_.posi.y||g.area.w!=_.area.w||g.area.h!=_.area.h);if(f!=t.state.textAreaValue||v||m){var y=t.state.textAreaValue||f;$.ajax("/discuss/update",{id:c,content:y,point:_},function(e){0==e.code&&I.a.discussChangeContent(c,y)})}I.a.editChangeState({replyId:null,isActive:!1,editId:null}),I.a.setEditDotData(null),I.a.discussChangePoint(c,_);var w=$.query(".edit-dot");w&&$.removeClass(w,"edit-dot"),j["default"].setEditNum(null),I.a.setEditState(!1),j["default"].setEditContent(""),$.hasClass($.getElById("project-panel"),"is-hover-dot")&&$.removeClass($.getElById("project-panel"),"is-hover-dot")}else{var b=j["default"]._getEditDotData();$.ajax("/discuss/add",{pageId:j["default"].getPageId(),content:t.state.textAreaValue,projectId:a.id,point:b?$.getCreateDotPosi(b.startPosi,b.endPosi):null},function(n){if(0==n.code){var r={id:n.id,date:new Date+"",content:t.state.textAreaValue,user:{userImage:s.userImage,name:s.nickName,id:s.id},isReplyHide:!0,pageId:j["default"].getPageId()};b&&(r.point=$.getCreateDotPosi(b.startPosi,b.endPosi)),I.a.discussAdd(r);I.a.editChangeState({replyId:null,isActive:!1,editId:null}),I.a.setEditDotData(null),j["default"].setEditNum(null),I.a.setEditState(!1),I.a.setScrollTop(-$.offset($.query(".discuss-scroll-list"),!0,!1).height+$.offset($.query(".discuss-list"),!0,!1).height),e.setState({textAreaValue:""}),$.hasClass($.getElById("project-panel"),"is-hover-dot")&&$.removeClass($.getElById("project-panel"),"is-hover-dot")}})}}},t.prototype.render=function(){var e=this.state,t=e.isEditBoxActive,n=e.point;return t?r.createElement("div",{className:"edit-box-active"},j["default"]._getReplyName()&&!this.state.textAreaValue?r.createElement("span",{className:"reply-nick"},"回复 "+j["default"]._getReplyName()+" :"):undefined,r.createElement("div",{className:"edit-content"},r.createElement("div",{className:l()({"comment-message":!0})},r.createElement(W,{members:Y,quickSend:this._sendBtnClick},r.createElement("div",{contentEditable:!0,className:"edit-input",onInput:this._onChange,id:"editInput",dangerouslySetInnerHTML:{__html:j["default"].getEditContent()},onPaste:this._onPaste}))),r.createElement("div",{"data-contr":"hovertip","data-option":$.objToString({direction:"right",changePosi:-12,changeOtherPosi:-5,text:"@其他用户"}),onMouseDown:this._editAddAt,className:"option-prompt a_c new-base-img"})),r.createElement("div",{className:l()("edit-option")},n?r.createElement("div",{className:l()({"hide-discuss-dot":!j["default"]._getEditState()})},r.createElement("div",{className:"dot-index a_c",onMouseDown:this._clearDot,"data-contr":"hovertip","data-option":$.objToString({direction:"bottom",text:"点击删除该打点"})},r.createElement("div",{className:"cancel-dot new-base-img"}),r.createElement("div",{className:"dot-number"},j["default"]._getEditNum()||(j["default"]._getEditState()?$(".spot-box").length+1:$.query(".create-dot").getAttribute("data-index"))))):undefined,r.createElement("div",{className:l()("discuss-base-btn",{"send-btn":!!this.state.textAreaValue,"send-btn-disabled":!this.state.textAreaValue}),onClick:this._sendBtnClick},j["default"].getEditData().editId?"保存":"发送"),r.createElement("div",{className:"discuss-base-btn cancel-btn",onClick:this._cancelBtnClick},"取消"))):r.createElement("div",{className:"edit-box-normal"},r.createElement("input",{placeholder:"输入内容后Shift+Enter发送",onFocus:this._changeEditStateActive}))},t}(r.Component),Q=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._chooseDiscuss=n._chooseDiscuss.bind(n),n._initDiscuss=n._initDiscuss.bind(n),n}return Q(t,e),t.prototype._chooseDiscuss=function(e){$.addHoverClass(e)},t.prototype._initDiscuss=function(e){$.removeHoverClass(e)},t.prototype.render=function(){var e=this.props,t=e.discuss,n=e.index,i=t.content,o=!!i.match("<div>")||i.length>38||j["default"].hasReplyDiscuss(t.id);return r.createElement("div",{onMouseEnter:this._chooseDiscuss,onMouseLeave:this._initDiscuss,"data-index":n,"data-id":t.id,className:"solved-box discuss-box hide-content-box"},r.createElement(B,{discuss:t,index:n,couldShowContent:o}),r.createElement("p",{className:l()({"text-ellipsis":!t.isDoneShow}),dangerouslySetInnerHTML:{__html:$.getAtUserText(i)}}),r.createElement(M,{discuss:t}))},t}(r.Component),te=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(e){function t(t){var n=e.call(this,t)||this;return n._initDiscuss=n._initDiscuss.bind(n),n._chooseDiscuss=n._chooseDiscuss.bind(n),n}return te(t,e),t.prototype._chooseDiscuss=function(e){$.addHoverClass(e)},t.prototype._initDiscuss=function(e){$.removeHoverClass(e)},t.prototype.render=function(){var e=this.props,t=e.discuss,n=e.index,i=this.props.discuss.content;return r.createElement("div",{onMouseEnter:this._chooseDiscuss,onMouseLeave:this._initDiscuss,"data-index":n,"data-id":t.id,className:"unsolved-box discuss-box"},r.createElement(B,{discuss:t,index:n}),r.createElement("p",{dangerouslySetInnerHTML:{__html:$.getAtUserText(i)}}),r.createElement(M,{discuss:t}))},t}(r.Component),re=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._seeMore=n._seeMore.bind(n),n}return re(t,e),t.prototype._seeMore=function(){var e=this.props.discuss;I.a.discussReplyHide(e.id)},t.prototype.render=function(){var e=this.props.num;return r.createElement("div",{onClick:this._seeMore,className:"click-more-reply"},"查看更早",e,"条回复")},t}(r.Component),oe=n(86),ae=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(e){function t(t){var n=e.call(this,t)||this;return n.state={discussList:j["default"].getDiscussList(),isEditBoxActive:j["default"].getEditData().isActive,isFirst:!0,scrollTop:j["default"]._getScrollTop()},n._getDiscussDoms=n._getDiscussDoms.bind(n),n._changeScrollTop=n._changeScrollTop.bind(n),n._listScroll=n._listScroll.bind(n),n._onChange=n._onChange.bind(n),n._onEditChange=n._onEditChange.bind(n),n}return ae(t,e),t.prototype._onChange=function(){this.setState({isEditBoxActive:j["default"].getEditData().isActive,scrollTop:j["default"]._getScrollTop(),discussList:j["default"].getDiscussList()})},t.prototype._onEditChange=function(){var e={discussList:j["default"].getDiscussList()};this.setState(e)},t.prototype.componentDidMount=function(){j["default"].addChangeListener(this._onChange),j["default"].addEditChangeListener(this._onEditChange),this.state.isFirst&&this.setState({isFirst:!1})},t.prototype.componentWillUnmount=function(){j["default"].removeChangeListener(this._onChange),j["default"].removeEditChangeListener(this._onEditChange)},t.prototype._getDiscussDoms=function(){var e,t=this.state.discussList,n=[],i=[],o=0,a=!1,s=0,l=0;return 0===t.length?n.push(r.createElement(A,{key:"empty"})):t.forEach(function(c){if(l++,a=!!c.replyId)i.push(c);else{if(c.point&&o++,e&&j["default"]._getDiscuss(e).isReplyHide&&i.length>2){var u=i.length-2;i.splice(0,u),n.push(r.createElement(ie,{key:c.id+"more",num:u,discuss:j["default"]._getDiscuss(e)}))}i.forEach(function(e){s++,n.push(r.createElement(V,{key:e.id+s,discuss:e}))}),i=[],e=c.id,j["default"].setLastID(e),c.isDone?n.push(r.createElement(ee,{key:c.id+"solved",discuss:c,index:c.point?o:-1})):n.push(r.createElement(ne,{key:c.id+"unsolved",discuss:c,index:c.point?o:-1}))}if(l==t.length&&a){if(j["default"]._getDiscuss(e).isReplyHide&&i.length>2){u=i.length-2;i.splice(0,u),n.push(r.createElement(ie,{key:c.id+"more",num:u,discuss:j["default"]._getDiscuss(e)}))}i.forEach(function(e){s++,n.push(r.createElement(V,{key:e.id+s,discuss:e}))})}}),n},t.prototype._changeScrollTop=function(e){I.a.setScrollTop(e)},t.prototype._listScroll=function(e){var t=this.state.scrollTop;I.a.setScrollTop(t-e.deltaY)},t.prototype.componentDidUpdate=function(){var e=$.query(".discuss-scroll-list"),t=$.offset(e,!0).height;J!=t&&(J=t,this.setState({scrollTop:j["default"]._getScrollTop()}))},t.prototype.render=function(){var e,t=this.state,n=t.isFirst,i=t.scrollTop,o=t.isEditBoxActive,a=$.getWinSize().height-45-(o?178:60),s=0,c=!n;if(!n){var u=$.query(".discuss-scroll-list");(s=$.offset(u,!0).height)>a&&(c=!0)}var d=$.query(".discuss-box:last-child");if(d){var p=d.getAttribute("data-id");e=$.extendBottom(d,p)}return r.createElement("div",{className:"preview-lr-panel rightPanel",onWheel:$.stopPropagation},r.createElement("div",{id:"discuss-panel",className:l()("discuss-panel",{"is-edit":o,"is-create-dot":j["default"]._getEditState(),"is-mask-discuss":j["default"]._getEditState()||j["default"]._getIsHoverSpot()})},r.createElement("div",{className:"discuss-list",onWheel:c?this._listScroll:$.noop},r.createElement("div",{className:"discuss-scroll-list",style:{top:i,paddingBottom:e}},this._getDiscussDoms()),c?r.createElement(oe["default"],{boxHeight:a,maxLength:s,scrollTop:i,changeScrollTop:this._changeScrollTop}):undefined),r.createElement(Z,null)))},t}(r.Component),le=n(322),ce=n.n(le),ue=n(151),de=n.n(ue),pe=n(17),fe=n.n(pe),he=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},me=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return he(t,e),t.prototype._iconDownloadClick=function(){var e=this,t=e.props.styleData.iconKey;U["default"].show("下载中...");var n=fe.a.get($.getIconDownLoadUrl(t,de.a));n.query({}),n.end(function(t,n){t?U["default"].show("网络错误，请稍后再试"):$.downloadIcon(e.props.styleData,n,ce.a)})},t.prototype.render=function(){return i.a.createElement("div",{className:"mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"图标"),i.a.createElement("button",{className:"mark-list-btn",onClick:this._iconDownloadClick},"下载图标"))},ge([x.a],t.prototype,"_iconDownloadClick",null),t}(i.a.Component),_e=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ye=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return _e(t,e),t.prototype._downloadImg=function(){var e=this.props,t=e.src,n=e.name,r=(-1!=t.indexOf("userImages")||-1!=t.indexOf("static")||-1!=t.indexOf("images")?"https://img.xiaopiu.com":"")+t,i=r.lastIndexOf("."),o=r.substr(i);U["default"].show("下载中...");var a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType="blob",a.setRequestHeader("Authorization","Basic a2VybWl0Omtlcm1pdA=="),a.onload=function(){200===a.status&&ce.a.saveAs(a.response,""+n+o)},a.send()},t.prototype.render=function(){return i.a.createElement("div",{className:"mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"图片"),i.a.createElement("button",{className:"mark-list-btn",onClick:this._downloadImg},"下载原图"))},ve([x.a],t.prototype,"_downloadImg",null),t}(i.a.Component),we=n(126),be=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Se=function(e){function t(t){var n=e.call(this,t)||this;return n.state={changedColor:""},n}return be(t,e),t.prototype.changeColorStyle=function(){var e=we["default"].getColorUnit();switch(we["default"].setColorFree(!0),this.state.changedColor){case"":this.setState({changedColor:e});case"RGBA":this.setState({changedColor:"HEX"});break;case"HEX":this.setState({changedColor:"ARGB"});break;case"ARGB":this.setState({changedColor:"RGBA"})}},t.prototype.render=function(){var e=this.props,t=e.headerName,n=e.colorPanelName,r=e.colorDataName,o=e.bgColor,a=this.state.changedColor,s=we["default"].getcolorFree(),c=we["default"].getColorUnit(),u=s?a:c;return i.a.createElement("div",{className:"mark-list-content"},i.a.createElement("div",{className:"list-content-header"},t),i.a.createElement("div",{"data-unit":u,style:{background:o},onClick:this.changeColorStyle,className:l()("mark-color-panel",""+n)}),i.a.createElement("div",{"data-contr":"hovertip",className:l()("a_c mark-bg-color mark-data-common copy-link-common",""+r),"data-clipboard-text":$.changeColorUnit(o,u),"data-option":'{"text":"'+o+'"}'},i.a.createElement("span",null,$.changeColorUnit(o,u))))},Ce([x.a],t.prototype,"changeColorStyle",null),t}(i.a.Component),xe=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return xe(t,e),t.prototype.render=function(){var e,t=this.props,n=t.headerName,r=t.headerClassName,o=t.contentHeaderClassName,a=t.dataClassName,s=t.value,c=t.visibility,u=t.scale,d=t.isLineHeight,p=t.isOpacity,f=this.props.unit,h=f&&u?$.saveTwoBit(Number(s)/Number(u),f)+f:p?($.isUndefined(s)?100:s)+"%":s;return d&&(e=10*Math.ceil(Number(s)+5)+"%"),i.a.createElement("div",{className:l()("mark-list-content",""+(r||""),{"visibility-box":c,"font-size-more":!!f})},i.a.createElement("div",{className:l()("list-content-header",""+o)},n),i.a.createElement("div",{className:l()("a_c mark-data-common copy-link-common",""+a),"data-contr":"hovertip","data-option":'{"text":"'+(d?e:h)+'"}',"data-clipboard-text":d?e:h},i.a.createElement("span",null,d?e:h)))},t}(i.a.Component),Pe=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Te=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},je=function(e){function t(t){var n=e.call(this,t)||this;return n.state={changedColor:""},n}return Pe(t,e),t.prototype.changeColorStyle=function(){var e=we["default"].getColorUnit();switch(we["default"].setColorFree(!0),this.state.changedColor){case"":this.setState({changedColor:e});case"RGBA":this.setState({changedColor:"HEX"});break;case"HEX":this.setState({changedColor:"ARGB"});break;case"ARGB":this.setState({changedColor:"RGBA"})}},t.prototype.render=function(){var e=this.props,t=e.headerName,n=e.headerClassName,r=e.colorPanelName,o=e.dataClassName,a=e.value,s=e.unit,c=e.scale,u=this.state.changedColor,d=we["default"].getcolorFree(),p=we["default"].getColorUnit(),f=d?u:p;return i.a.createElement("div",{className:l()("mark-list-content","mark-border",""+n)},i.a.createElement("div",{className:"list-content-header"},t),i.a.createElement("div",{"data-unit":f,style:{background:a[0]},onClick:this.changeColorStyle,className:l()("mark-color-panel",""+r)}),i.a.createElement("div",{className:"mark-data-common copy-link-common mark-border-color","data-clipboard-text":$.changeColorUnit(a[0],f)},$.changeColorUnit(a[0],f)),i.a.createElement("div",{className:"mark-border-data"},i.a.createElement("div",{className:l()("mark-data-common copy-link-common",""+o),"data-clipboard-text":"solid"},"solid"),i.a.createElement("div",{className:l()("mark-data-common copy-link-common",""+o),"data-clipboard-text":$.saveTwoBit(a[1]/Number(c),s)+s},$.saveTwoBit(a[1]/Number(c),s),s)))},Te([x.a],t.prototype,"changeColorStyle",null),t}(i.a.Component),Ie=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ke=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Ie(t,e),t.prototype.render=function(){var e=this.props,t=e.styleData,n=e.unit,r=e.scale;return i.a.createElement("div",{className:"mark-form mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"表格"),t.backColor&&t.hasBackColor?i.a.createElement(Se,{headerName:"背景色",colorPanelName:"common-color-panel",colorDataName:"common-color-data",bgColor:t.backColor}):undefined,i.a.createElement(Ee,{headerName:"行数",headerClassName:"common-line",dataClassName:"common-line-data",value:t.linePosi.length}),i.a.createElement(Ee,{headerName:"列数",headerClassName:"common-column",dataClassName:"common-column-data",value:t.columnPosi.length}),t.innerBorder?i.a.createElement(je,{headerName:"内边框",colorPanelName:"form-border-panel",dataClassName:"border-data",unit:n,scale:r,value:t.innerBorder}):undefined,t.outerBorder?i.a.createElement(je,{headerName:"外边框",headerClassName:"",colorPanelName:"form-border-panel",dataClassName:"border-data",unit:n,scale:r,value:t.outerBorder}):undefined)},t}(i.a.Component),Ae=n(71),De={btnClickFunc:function(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();Ae["default"].setHoverContr(undefined,!0),n.click(),n.removeClass("hover"),r.removeClass("zIndex")},btnMouseEnterFunc:function(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.addClass("hover"),r.addClass("zIndex")},btnMouseLeaveFunc:function(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.removeClass("hover"),r.removeClass("zIndex")}},Oe=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=De.btnClickFunc,Me=De.btnMouseEnterFunc,Le=De.btnMouseLeaveFunc,Ne=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Oe(t,e),t.prototype.render=function(){var e,t,n=window.__c,r=this.props.selectKey;if(n){var o=r.split(" ");n[e=o.slice(0,o.length-1).join(" ")]&&(t=n[e])}return t?i.a.createElement("div",{className:"mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"父级集合"),i.a.createElement("button",{className:"common-btn parent-set-btn",onClick:$e,onMouseEnter:Me,onMouseLeave:Le,"data-select":e},t.name)):null},t}(i.a.Component),Ue=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Be=De.btnClickFunc,He=De.btnMouseEnterFunc,Ve=De.btnMouseLeaveFunc,Fe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Ue(t,e),t.prototype.showChildren=function(){var e=this.props.selectKey,t=[],n=this.props.subelementData;for(var r in n){var o=n[r],a=o.type,s=o.id,l=o.name,c=e+" ."+a+"_"+s;t.push(i.a.createElement("button",{className:"common-btn subelement-btn",onClick:Be,onMouseEnter:He,onMouseLeave:Ve,"data-select":c,key:r},l))}return t},t.prototype.render=function(){return i.a.createElement("div",{className:"mark-list-common mark-list-subelement"},i.a.createElement("div",{className:"mark-list-header"},"子元素"),this.showChildren())},Re([x.a],t.prototype,"showChildren",null),t}(i.a.Component),qe=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ze=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return qe(t,e),t.prototype.showShadow=function(){var e=this.props,t=e.unit,n=e.scale,r=[],o=this.props.styleData.shadow,a=["X","Y","模糊","扩展"],s=["x","y","blur","spread"];return $.isArray(o)||(o=[0,o,o,0,"rgba(0, 0, 0, 0.5)"]),o.slice(0,4).forEach(function(e,c){var u=$.saveTwoBit(o[c]/Number(n),t)+t;r.push(i.a.createElement("div",{className:l()("shadow-list","shadow-"+s[c]),key:"shadow-style"+c},i.a.createElement("div",{className:"shadow-list-head"},a[c]),i.a.createElement("div",{"data-contr":"hovertip","data-option":'{"text":"'+u+'"}',className:"a_c shadow-list-text copy-link-common","data-clipboard-text":u},i.a.createElement("span",null,u))))}),r},t.prototype.render=function(){var e=this.props,t=e.styleData,n=e.unit,r=e.scale;return i.a.createElement("div",{className:"mark-list-common mark-style-data"},i.a.createElement("div",{className:"mark-list-header"},"样式"),t.backColor&&t.hasBackColor||t.iconColor?i.a.createElement(Se,{headerName:t.iconColor?"颜色":"背景色",colorPanelName:"style-color-panel",bgColor:t.backColor||t.iconColor}):undefined,i.a.createElement(Ee,{headerName:"不透明度",contentHeaderClassName:"style-content-header",value:t.opacity?t.opacity:100,isOpacity:!0}),t.radius?i.a.createElement(Ee,{headerName:"圆角",headerClassName:"common-line",dataClassName:"common-line-data",value:t.radius,unit:n,scale:r}):undefined,t.rorate?i.a.createElement(Ee,{headerName:"旋转",headerClassName:"common-column",dataClassName:"common-column-data",value:t.rorate}):undefined,t.insetBorder&&t.insetBorder[1]?i.a.createElement(je,{headerName:"内描边",colorPanelName:"style-border-panel",dataClassName:"border-data",value:t.insetBorder,unit:n,scale:r}):undefined,t.border&&t.border[1]?i.a.createElement(je,{headerName:"外描边",colorPanelName:"style-border-panel",dataClassName:"border-data",value:t.border,unit:n,scale:r}):undefined,t.shadow&&!t.shadow[5]?i.a.createElement(Se,{headerName:"阴影",colorPanelName:"style-color-panel",bgColor:$.isArray(t.shadow)?t.shadow[4]:"rgba(0,0,0,0.5)"}):undefined,t.shadow&&t.shadow[5]?i.a.createElement(Se,{headerName:"内阴影",colorPanelName:"style-color-panel",bgColor:t.shadow[4]}):undefined,t.shadow?i.a.createElement("div",{className:"mark-style-shadow"},this.showShadow()):undefined)},Ke([x.a],t.prototype,"showShadow",null),t}(i.a.Component),We=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return We(t,e),t.prototype.render=function(){var e=this.props.textContent;return i.a.createElement("div",{className:"mark-list-common mark-text-content"},i.a.createElement("div",{className:"mark-list-header"},"文本内容"),i.a.createElement("div",{className:"mark-list-text copy-link-common","data-clipboard-text":e},e))},t}(i.a.Component),Xe=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Xe(t,e),t.prototype.render=function(){var e=this.props,t=e.styleData,n=e.unit,r=e.scale,o=e.fontFamily;return i.a.createElement("div",{className:"mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"文字"),i.a.createElement("div",{className:"word-title title-data copy-link-common","data-clipboard-text":o},o),i.a.createElement(Se,{headerName:"颜色",colorPanelName:"common-color-panel",colorDataName:"common-color-data",bgColor:t.textColor}),i.a.createElement("div",{className:"font-style"},i.a.createElement(Ee,{headerName:"字号",headerClassName:"common-line",dataClassName:"common-line-data",value:t.fontSize,unit:n,scale:r}),t.isI?i.a.createElement(Ee,{headerName:"斜体",headerClassName:"common-column",dataClassName:"common-column-data",value:"斜体",visibility:!t.isI}):undefined,t.isB?i.a.createElement(Ee,{headerName:"粗体",headerClassName:"common-line",dataClassName:"common-line-data",value:"粗体",visibility:!t.isB}):undefined,t.isU?i.a.createElement(Ee,{headerName:"下划线",headerClassName:"common-column",dataClassName:"common-column-data",value:"下划线",visibility:!t.isU}):undefined),i.a.createElement(Ee,{headerName:"行间距",headerClassName:"common-line",dataClassName:"common-line-data",value:t.lineHeight,isLineHeight:!0}),0!=t.indent?i.a.createElement(Ee,{headerName:"字间距",headerClassName:"common-column",dataClassName:"common-column-data",value:t.indent,unit:n,scale:r}):undefined,i.a.createElement("div",{className:"mark-list-content mark-word"},i.a.createElement("div",{className:"list-content-header word-content-header"},"对齐方式"),i.a.createElement("div",{className:"mark-data-common mark-word-text copy-link-common","data-clipboard-text":$.changeHorTextStyle(t.horizontal,!0)},$.changeHorTextStyle(t.horizontal,!0)),i.a.createElement("div",{className:"mark-data-common mark-word-text copy-link-common","data-clipboard-text":$.changeVerTextStyle(t.vertical,!0)},$.changeVerTextStyle(t.vertical,!0))))},t}(i.a.Component),Je=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Je(t,e),t.prototype.render=function(){var e=this.props.fontFamily;return i.a.createElement("div",{className:"mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"字体"),i.a.createElement("div",{className:"title-data copy-link-common","data-clipboard-text":e},e))},t}(i.a.Component),Qe=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Qe(t,e),t.prototype.render=function(){return null},t}(i.a.Component),tt=n(686),nt=n.n(tt),rt=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};var ot=1,at=!1,st="",lt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={colorList:[]},n}return rt(t,e),t.prototype.componentDidMount=function(){this.updateImageColor()},t.prototype.componentDidUpdate=function(){this.updateImageColor()},t.prototype.updateImageColor=function(){var e=this,t=e.props.styleData.src;if(at=!0,st!=t)if(st=t,-1!=t.indexOf("defaultImg"))e.setState({colorList:[[217,217,217],[162,162,162]]});else{var n=new nt.a;!function(e,t){var n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){t&&t(n)}}($.getStaticUrl()+t,function(t){at&&e.setState({colorList:n.getPalette(t,8)})})}},t.prototype.componentWillUnmount=function(){at=!1,st=""},t.prototype.render=function(){var e=this.state.colorList,t=we["default"].getColorUnit();return i.a.createElement("div",{className:"mark-list-common"},i.a.createElement("div",{className:"mark-list-header"},"图片颜色"),i.a.createElement("div",{className:"mark-color-list page-color-list"},(e||[]).map(function(e){var n="rgba("+e[0]+", "+e[1]+", "+e[2]+", 1)";return i.a.createElement("div",{"data-clipboard-text":$.changeColorUnit(n,t),"data-contr":"hovertip","data-option":$.objToString({direction:"bottom",text:""+$.changeColorUnit(n,t),changePosi:16}),className:"a_c color-panel copy-link-common color-"+n,key:ot++,style:{background:""+n}})})))},it([x.a],t.prototype,"updateImageColor",null),t}(i.a.Component),ct=n(535),ut=n.n(ct),dt=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ft=function(e){function t(t){var n=e.call(this,t)||this,r=we["default"].getScale(we["default"].getSizeUnit());return"自定义"==r&&(r=1),n.state={cssStyle:we["default"].getCssStyle(),sizeUnit:we["default"].getSizeUnit(),scale:r*u.a.getPreviewInfo().scale},n}return dt(t,e),t.prototype.showCss=function(e){var t=[];return t.push({option:"left",value:e.left},{option:"top",value:e.top},{option:"width",value:e.width},{option:"height",value:e.height}),e.backColor&&e.hasBackColor&&t.push({option:"background",value:e.backColor}),"text"==e.type&&e.content&&t.push({option:"content",value:e.content},{option:"color",value:e.textColor},{option:"font-size",value:e.fontSize}),{type:e.type,code:t}},t.prototype.cssCode=function(e){var t=[];return e.forEach(function(e,n){t.push(i.a.createElement("div",{key:"code-"+n},e))}),t},t.prototype.showCode=function(e){var t="";return e.forEach(function(e){t+=e}),t},t.prototype.componentDidMount=function(){we["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){we["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){var e=we["default"].getScale(we["default"].getSizeUnit());"自定义"==e&&(e=1),this.setState({cssStyle:we["default"].getCssStyle(),sizeUnit:we["default"].getSizeUnit(),scale:e/u.a.getPreviewInfo().scale})},t.prototype.render=function(){var e,t=this.props.cssData,n=this.showCss(t),r=this.state,o=r.cssStyle,a=r.sizeUnit,s=r.scale,l=[],c="";switch(o){case"Android":l=$.changeToAndroid(n,a,s),e=!1;break;case"Swift":l=$.changeToSwift(n,a,s),e=!1;break;case"LESS":case"SASS":case"SCSS":case"CSS":case"wxss":c=ut.a.getCode([$.extend(!0,{},t)],undefined,!0).thisCss,e=!0;break;case"Stylus":c=ut.a.getCode([$.extend(!0,{},t)],undefined,!0).thisCss.replace(/[{}:]/g,""),e=!0}return i.a.createElement("div",{className:"mark-css mark-list-common"},i.a.createElement("div",{className:"mark-css-header mark-list-header"},o),i.a.createElement("div",{className:"a_c mark-css-copy copy-link-common","data-contr":"hovertip","data-option":$.objToString({direction:"right",text:"代码复制",changePosi:-10,changeOtherPosi:-5}),"data-clipboard-text":e?c:this.showCode(l)}),i.a.createElement("div",{className:"mark-css-data"},e?i.a.createElement("pre",null,c):this.cssCode(l)))},pt([x.a],t.prototype,"showCss",null),pt([x.a],t.prototype,"cssCode",null),pt([x.a],t.prototype,"showCode",null),pt([x.a],t.prototype,"_onChange",null),t}(i.a.Component),ht=n(84),gt=n(4),mt=n(355),_t=new(function(){function e(){this.MarkActionID=mt.a}return e.prototype.setSizeUnit=function(e){gt["default"].dispatch({actionType:mt.a.SIZE_UNIT,sizeUnit:e})},e.prototype.setColorUnit=function(e){gt["default"].dispatch({actionType:mt.a.COLOR_UNIT,colorUnit:e})},e.prototype.setCssStyle=function(e){gt["default"].dispatch({actionType:mt.a.CSS_STYLE,cssStyle:e})},e.prototype.setScale=function(e,t){gt["default"].dispatch({actionType:mt.a.SCALE,unit:e,value:t})},e.prototype.setRelative=function(){gt["default"].dispatch({actionType:mt.a.CHANGE_DISTANCE})},e}()),vt=n(112),yt=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bt=n(328),Ct=window.$,St=["colorModel","codePreview","unit","doubleGraph"],xt={colorModel:["RGBA","HEX","ARGB"],codePreview:{web:["CSS","LESS","SASS","SCSS","Stylus"],h5:["CSS","LESS","SASS","SCSS","Android","Swift","Stylus","wxss"]},unit:{normal:["px","dp","rem","pt"],wxss:["rpx","rem","px"]},doubleGraph:{px:["@1x","@2x","自定义"],dp:["@1x","@1.5x","@2x","@3x","@4x","自定义"],rem:["16px","12px","14px","18px","20px","自定义"],pt:["@1x","@2x","@3x","自定义"],rpx:["@1x"]}},Et="web"==window.platform?"web":"h5",Pt=Ct.getSupportFont(),Tt=["rgba(245, 100, 100, 1)","rgba(84, 84, 84, 1)","rgba(184, 179, 179, 1)","rgba(74, 144, 226, 1)","rgba(125, 165, 191, 1)","rgba(255, 157, 157, 1)","rgba(184, 179, 179, 1)","rgba(192, 142, 142, 1)","rgba(245, 100, 100, 1)","rgba(84, 84, 84, 1)","rgba(184, 179, 179, 1)","rgba(74, 144, 226, 1)","rgba(125, 165, 191, 1)","rgba(255, 157, 157, 1)","rgba(184, 179, 179, 1)","rgba(192, 142, 142, 1)"],jt=["rgba(245, 100, 100, 1)","rgba(84, 84, 84, 1)","rgba(184, 179, 179, 1)","rgba(74, 144, 226, 1)","rgba(125, 165, 191, 1)","rgba(255, 157, 157, 1)"],It=!1,kt=function(e){function t(t){var n=this;return It=!0,(n=e.call(this,t)||this).state={selectContr:null,renderChange:0,sizeUnit:we["default"].getSizeUnit(),scale:we["default"].getScale(we["default"].getSizeUnit()),colorUnit:we["default"].getColorUnit(),showCustom:!1,selectKey:"",cssStyle:we["default"].getCssStyle(),isRelative:we["default"].isRelative(),selectDom:Ae["default"].getSelectDom()},n}return yt(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype._onChange=function(){It&&this.setState({renderChange:this.state.renderChange+1,sizeUnit:we["default"].getSizeUnit(),scale:we["default"].getScale(we["default"].getSizeUnit()),colorUnit:we["default"].getColorUnit(),cssStyle:we["default"].getCssStyle(),isRelative:we["default"].isRelative(),selectDom:Ae["default"].getSelectDom()})},t.prototype.componentDidMount=function(){var e=this,t=window.__c;we["default"].addChangeListener(e._onChange),Ae["default"].addSelectChangeListener(e._onChange),It=!0,Ct(window.document).on("click",".mDiv,.cDiv",function(n){if(Ct.query(".mode-btn-mark.active")){var r,i,o=n.currentTarget;t&&(i=n.currentTarget.getAttribute("data-select"),window.__c[i]&&(r=window.__c[i],Ct.copyToClipboard(r.content))),It&&e.setState({selectContr:r,selectKey:i}),Ae["default"].setSelectDom(o),we["default"].setColorFree(!1)}}).on("mousemove",".mDiv, .cDiv, #bodyWrapper",function(e){if(Ct.query(".mode-btn-mark.active")){var t=e.currentTarget,n=t.id,r=e.currentTarget.getAttribute("data-select");if("bodyWrapper"==n){var i=Ct.getElById("pageContainer");Ct.isNull(Ae["default"].getHoverContr())||(Ae["default"].setHoverDom(i,!0),Ae["default"].setHoverContr(null))}else r&&n!=Ae["default"].getHoverContr()&&(Ae["default"].setHoverDom(t,!0),Ae["default"].setHoverContr(n))}}).on("mouseleave","#bodyWrapper",function(e){if(Ct.query(".mode-btn-mark.active")&&!Ct.isNull(Ae["default"].getHoverContr())){if(Ae["default"].getSelectDom()){var t=Ct.getElById("pageContainer");Ae["default"].setHoverDom(t,!0)}else Ae["default"].setHoverDom(undefined,!0);Ae["default"].setHoverContr(null)}}).on("click","#reactBox",function(t){Ct.query(".mode-btn-mark.active")&&("bodyWrapper"!=t.target.id&&"HEADER"!=t.target.nodeName||(Ae["default"].initContr(),It&&e.setState({selectContr:undefined,renderChange:e.state.renderChange+1})))}),new bt(".copy-link-common")},t.prototype.componentWillUnmount=function(){we["default"].removeChangeListener(this._onChange),Ae["default"].removeSelectChangeListener(this._onChange),It=!1},t.prototype._selectBoxFunc=function(e,t){It&&this.setState({showCustom:!1});var n=we["default"].getSizeUnit();switch(t){case"RGBA":case"HEX":case"ARGB":_t.setColorUnit(e);break;case"CSS":case"LESS":case"SASS":case"SCSS":case"Android":case"Swift":case"Stylus":_t.setCssStyle(e);break;case"wxss":_t.setSizeUnit("rpx"),_t.setCssStyle("wxss");break;case"px":case"dp":case"rem":case"pt":case"rpx":_t.setSizeUnit(e);break;default:"自定义"==e&&this.customUnit(n);var r="自定义"==e?"自定义":Number(e.replace(/[@px]/g,""));_t.setScale(n,r)}},t.prototype.customUnit=function(e){It&&this.setState({showCustom:!0,renderChange:this.state.renderChange+1})},t.prototype.showRect=function(e){var t=this.state,n=t.sizeUnit,i=t.scale;i=Number(i)?i:Number(xt.doubleGraph[n][0].replace(/[@px]/g,""));var o=[];for(var a in e)e[a]!=undefined&&o.push(r.createElement("div",{className:"style-rect",key:"rect-style"+a},r.createElement("div",{className:"style-key"},a),r.createElement("div",{className:"style-value mark-data-common copy-link-common","data-clipboard-text":Ct.saveTwoBit(e[a]/i,n)+n},Ct.saveTwoBit(e[a]/i,n),n)));return o},t.prototype.watchValue=function(e){var t=we["default"].getSizeUnit(),n=Math.round(100*Number(e.target.value.replace(/[@px]/g,"")))/100;n>200&&(n=200,e.target.value="200",U["default"].show("最大倍数200")),_t.setScale(t,n)},t.prototype.confirmValue=function(e){var t=this,n=we["default"].getSizeUnit(),r={showCustom:!1,renderChange:t.state.renderChange+1};if(Number(e.target.value.replace(/[@px]/g,""))){e.target.value="@"+Math.round(100*Number(e.target.value.replace(/[@px]/g,"")))/100+"x";var i=!1;xt.doubleGraph[n].forEach(function(n,r){n==e.target.value&&(t._selectBoxFunc(n,"doubleGraph"),i=!0)}),i||xt.doubleGraph[n].splice(-1,0,e.target.value)}else r.scale=Number(xt.doubleGraph[n][0].replace(/[@px]/g,""));It&&t.setState(r)},t.prototype.hideToast=function(e){vt["default"].setShow(!1),e.stopPropagation()},t.prototype.changeDistance=function(){_t.setRelative();var e=Ae["default"].getSelectDom();if(e){var t=void 0;t=we["default"].isRelative()?Ct(e).closest(".cDiv")[0]:Ct.getElById("pageContainer"),Ae["default"].setHoverDom(t)}},t.prototype.showUnitList=function(e){var t,n=this,i=[],o=this.state,a=o.sizeUnit,s=o.cssStyle,c=we["default"].getBaseScale(a),u=0,d=!1;"自定义"==c&&(d=!0);var p=0;return xt.doubleGraph[a].forEach(function(e,t){e.replace(/[@px]/g,"")==c.toString()&&(u=t)}),t="wxss"==s?"wxss":"normal",xt.unit[t].forEach(function(e,t){e==a&&(p=t)}),St.map(function(e,t){var o,c;o="doubleGraph"==e?xt[e][a]:"unit"==e?"wxss"==s?xt[e].wxss:xt[e].normal:"codePreview"==e?xt[e][Et]:xt[e],c=3==t?d?o[0]:o[u]:2==t?o[p]:o[0],d&&3==t&&(c=o[0]+" "),"rpx"==a&&3==t&&(c="@1x"),i.push(r.createElement("div",{className:l()("mark-top-menu","mark-top-"+e),key:"select-box"+t},r.createElement(ht["default"],{id:e,dropdownW:64,itemLeft:3==t?-13:2==t?-7:0,itemH:40,text:c,value:c,texts:o,values:o,callback:n._selectBoxFunc,itemClassName:e+"-select"})))}),i},t.prototype.render=function(){var e=u.a.getPreviewInfo(),t=u.a.getActivePage(!0)||{},n=this.state,i=n.sizeUnit,o=n.showCustom,a=n.selectKey,s=n.isRelative,c=n.selectDom,d=this.state.selectContr;c||(d=null);var p=Ct.getElById("pageContainer"),f=this.state.scale;f=Number(f)?f:Number(xt.doubleGraph[i][0].replace(/[@px]/g,""));var h={X:undefined,Y:undefined,W:Ct.offset(p,!0).width,H:Ct.offset(p,!0).height};if(d&&c&&Ct.offset(c)){var g=Ct.offset(c),m=Ct.offset(p);h={X:s?d.left:(g.left-m.left)*f/e.scale,Y:s?d.top:(g.top-m.top)*f/e.scale,W:d.width,H:d.height}}else{var _=Ct.offset(Ct.query(".page.current"),!0);h={W:_.width*f/e.scale,H:_.height*f/e.scale}}return r.createElement("div",{className:"preview-lr-panel rightPanel",onWheel:this.hideToast,"data-selectkey":a},r.createElement("div",{className:"mark-list"},r.createElement("div",{className:"mark-top"},o?r.createElement("input",{className:"custom-input",autoFocus:!0,onChange:this.watchValue,onBlur:this.confirmValue}):undefined,this.showUnitList()),r.createElement("div",{className:"mark-body-top"},r.createElement("div",{className:"title-data copy-link-common","data-clipboard-text":d?d.name:t.name},d?d.name:t.name),r.createElement("div",{className:"body-top-style"},this.showRect(h)),d&&d.mergeName?r.createElement("div",{className:"show-distance-type",onClick:this.changeDistance},r.createElement("div",{className:l()({"relative-distance":s,"absolute-distance":!s})}),r.createElement("div",{className:"distance-type-tip"},"相对父级")):undefined),d&&d.mergeName?r.createElement(Ne,{selectKey:a}):undefined,d&&d.contrs?r.createElement(Fe,{subelementData:d.contrs,selectKey:a}):undefined,d&&"image"==d.type?r.createElement(ye,{src:d.src,name:d.name}):undefined,d&&"image"==d.type?r.createElement(lt,{styleData:d,selectkey:a}):undefined,d&&"icon"==d.type?r.createElement(me,{styleData:d}):undefined,d&&"table"==d.type?r.createElement(ke,{styleData:d,unit:i,scale:f}):undefined,d&&"hotspot"!=d.type?r.createElement(ze,{styleData:d,unit:i,scale:f}):undefined,d&&"text"==d.type&&d.content?r.createElement(Ge,{textContent:d.content}):undefined,d&&"text"==d.type&&d.content?r.createElement(Ye,{styleData:d,unit:i,scale:f,fontFamily:Pt}):undefined,d?undefined:r.createElement(Ze,{fontFamily:Pt}),d?undefined:r.createElement(et,{selfColorList:Tt,pageColorList:jt}),d&&"hotspot"!=d.type&&"symbol"!=d.type?r.createElement(ft,{cssData:d}):undefined))},wt([x.a],t.prototype,"_onChange",null),wt([x.a],t.prototype,"_selectBoxFunc",null),wt([x.a],t.prototype,"customUnit",null),wt([x.a],t.prototype,"showRect",null),wt([x.a],t.prototype,"watchValue",null),wt([x.a],t.prototype,"confirmValue",null),wt([x.a],t.prototype,"hideToast",null),wt([x.a],t.prototype,"changeDistance",null),wt([x.a],t.prototype,"showUnitList",null),t}(r.Component),At=n(110),Dt=n(88),Ot=n(111),$t=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,scrollObj:u.a.getScrollObj()},n._onPreviewScrollChange=n._onPreviewScrollChange.bind(n),n._changeScrollTop=n._changeScrollTop.bind(n),n._changeScrollLeft=n._changeScrollLeft.bind(n),n}return $t(t,e),t.prototype.componentDidMount=function(){u.a.addScrollChangeListener(this._onPreviewScrollChange)},t.prototype.componentWillUnmount=function(){u.a.removeScrollChangeListener(this._onPreviewScrollChange)},t.prototype._onPreviewScrollChange=function(){this.setState({renderChange:this.state.renderChange+1,scrollObj:u.a.getScrollObj()})},t.prototype._changeScrollTop=function(e){var t=1;"web"==$.getPlatform(window.platform)||(t=($.getWinSize().height-45)/window.phoneSize.height),u.a.setScrollObj({scrollTop:e/t})},t.prototype._changeScrollLeft=function(e){u.a.setScrollObj({scrollLeft:e})},t.prototype.render=function(){var e=this.state.scrollObj,t=e.scrollHeight,n=e.scrollWidth,r=e.scrollLeft,o=e.scrollTop,a=e.boxWidth,s="web"==$.getPlatform(window.platform),l=1;return s||(l=($.getWinSize().height-45)/window.phoneSize.height),i.a.createElement("div",{className:"preview-scroll"},i.a.createElement(oe["default"],{boxHeight:$.getWinSize().height-45,maxLength:t*l,scrollTop:o*l,changeScrollTop:this._changeScrollTop}),s?i.a.createElement(oe["default"],{isVertical:!0,boxWidth:a,maxLength:n,scrollLeft:r,changeScrollLeft:this._changeScrollLeft}):undefined)},t}(i.a.Component),Lt=n(438),Nt=n.n(Lt),Ut=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rt=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bt=n(87).CSSTransitionGroup,Ht=function(e){function t(t){var n=e.call(this,t)||this;return n.state={notePopover:Nt.a.getNotePopover()},n}return Ut(t,e),t.prototype.componentDidMount=function(){Nt.a.addChangeListener(this._onNotePopoverChange)},t.prototype.componentWillUnmount=function(){Nt.a.removeChangeListener(this._onNotePopoverChange)},t.prototype._onNotePopoverChange=function(){this.setState({notePopover:Nt.a.getNotePopover()})},t.prototype.render=function(){return i.a.createElement(Bt,{transitionName:"note-popover",transitionEnterTimeout:100,transitionLeaveTimeout:100},this.state.notePopover.isShow?i.a.createElement("div",{className:"note-popover",style:{left:this.state.notePopover.left,top:this.state.notePopover.top}},i.a.createElement("pre",null,i.a.createElement("p",null,this.state.notePopover.content))):null)},Rt([x.a],t.prototype,"_onNotePopoverChange",null),t}(i.a.Component),Vt=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(e){function t(t){return e.call(this,t)||this}return Vt(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:"note-popover",id:"tempNotePopover",style:{visibility:"hidden",pointerEvents:"none"}},i.a.createElement("pre",null,i.a.createElement("p",{id:"tempContent"})))},t}(i.a.Component),qt=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},zt={px:1,dp:1,rem:16,pt:1,rpx:.5},Wt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectDom:Ae["default"].getSelectDom(),hoverDom:Ae["default"].getHoverDom(),unit:we["default"].getSizeUnit(),scale:we["default"].getScale(we["default"].getSizeUnit())},n}return qt(t,e),t.prototype.componentDidMount=function(){Ae["default"].addChangeListener(this._onPopupPreviewChange),we["default"].addChangeListener(this._onPopupPreviewChange)},t.prototype.componentWillUnmount=function(){Ae["default"].removeChangeListener(this._onPopupPreviewChange),we["default"].removeChangeListener(this._onPopupPreviewChange)},t.prototype._onPopupPreviewChange=function(){this.setState({selectDom:Ae["default"].getSelectDom(),hoverDom:Ae["default"].getHoverDom(),unit:we["default"].getSizeUnit(),scale:we["default"].getScale(we["default"].getSizeUnit())})},t.prototype.render=function(){var e=$.getElById("pageContainer"),t=$.query(".page.current"),n="web"!=window.platform&&t?t.offsetWidth/320:1,r=u.a.getPreviewInfo().scale*n;if(!e)return null;var o=$.offset(e,!0),a=this.state,s=a.unit,c=a.scale;c=Number(c)?c:zt[s];var d,p,f,h,g,m,_,v,y,w,b,C=this.state,S=C.selectDom,x=C.hoverDom,E=x?$.offset(x,!0):o,P=S&&$.offset(S,!0),T=E&&(!P||P&&!$.isHequalS(P,E))&&Ae["default"].getHoverDom();if(P&&E){P.bottom=P.top+P.height,E.bottom=E.top+E.height,P.right=P.left+P.width,E.right=E.left+E.width;var j=P.left+P.width/2,I=E.top+P.top,k=P.top+P.height/2,A=E.left+P.left,D=P.top-E.top-E.height,O=E.top-P.top-P.height,M=P.left-E.left-E.width,L=E.left-P.left-P.width,N=P.bottom>E.bottom?E.top+E.height/2:P.top+P.height/2;if(b=x==S,P.top>E.bottom?(p=!0,f=i.a.createElement("span",{style:{left:j,top:(E.height+I)/2},className:l()("vertical-distance",{"small-y-text":D<20})},$.saveTwoBit(D/c/r,s)+s),_=i.a.createElement("div",{className:"distance-line top-distance-line",style:{width:1,height:D,top:E.bottom,left:j}})):P.bottom<E.top&&(p=!0,g=i.a.createElement("span",{style:{left:j,top:(P.height+I)/2},className:l()("vertical-distance",{"small-y-text":O<20})},$.saveTwoBit(O/c/r,s)+s),v=i.a.createElement("div",{className:"distance-line bottom-distance-line",style:{width:1,height:O,top:P.bottom,left:j}})),P.left>E.right?(d=!0,m=i.a.createElement("span",{style:{left:(E.width+A)/2,top:k},className:l()("horizontal-distance",{"small-x-text":M<40})},$.saveTwoBit(M/c/r,s)+s),y=i.a.createElement("div",{className:"distance-line left-distance-line",style:{width:M,height:1,top:k,left:E.right}})):P.right<E.left&&(d=!0,h=i.a.createElement("span",{style:{left:(P.width+A)/2,top:k},className:l()("horizontal-distance",{"small-x-text":L<40})},$.saveTwoBit(L/c/r,s)+s),w=i.a.createElement("div",{className:"distance-line right-distance-line",style:{width:L,height:1,top:k,left:P.right}})),!d&&!p){if(!f&&P.top!=E.top&&P.top!=E.bottom){var U=Math.abs(P.top-E.top);_=i.a.createElement("div",{className:"distance-line top-distance-line",style:{width:1,height:U,top:Math.min(P.top,E.top),left:j}}),f=i.a.createElement("span",{style:{left:j,top:(P.top+E.top)/2},className:l()("vertical-distance",{"small-y-text":U<20})},$.saveTwoBit(U/c/r,s),s)}if(!g&&P.bottom!=E.bottom&&P.bottom!=E.top){var R=Math.abs(P.bottom-E.bottom);v=i.a.createElement("div",{className:"distance-line bottom-distance-line",style:{width:1,height:R,top:Math.min(P.bottom,E.bottom),left:j}}),g=i.a.createElement("span",{style:{left:j,top:(P.bottom+E.bottom)/2},className:l()("vertical-distance",{"small-y-text":R<20})},$.saveTwoBit(R/c/r,s),s)}if(!m&&P.left!=E.left&&P.left!=E.right){var B=Math.abs(P.left-E.left);y=i.a.createElement("div",{className:"distance-line left-distance-line",style:{width:B,height:1,top:N,left:Math.min(P.left,E.left)}}),m=i.a.createElement("span",{style:{left:(P.left+E.left)/2,top:N},className:l()("horizontal-distance",{"small-x-text":B<40})},$.saveTwoBit(B/c/r,s),s)}if(!h&&P.right!=E.right&&P.right!=E.left){var H=Math.abs(P.right-E.right);w=i.a.createElement("div",{className:"distance-line right-distance-line",style:{width:H,height:1,top:N,left:Math.min(P.right,E.right)}}),h=i.a.createElement("span",{style:{left:(P.right+E.right)/2,top:N},className:l()("horizontal-distance",{"small-x-text":H<40})},$.saveTwoBit(H/c/r,s),s)}}}return i.a.createElement("div",{className:"page-contain-mask"},P?i.a.createElement("div",{className:"selected-box fixed-box",style:{left:P.left-1,top:P.top-1,width:P.width,height:P.height}},i.a.createElement("div",{className:"left-top-dot abs-dot"}),i.a.createElement("div",{className:"right-top-dot abs-dot"}),i.a.createElement("div",{className:"right-bottom-dot abs-dot"}),i.a.createElement("div",{className:"left-bottom-dot abs-dot"})):undefined,T?i.a.createElement("div",{className:"hover-line"},i.a.createElement("div",{className:"hover-box fixed-box",style:{left:E.left-1,top:E.top-1,width:E.width,height:E.height}}),i.a.createElement("div",{className:"horizontal-line",style:{top:E.top-1,height:E.height,width:o.width,left:o.left,opacity:.8}}),i.a.createElement("div",{className:"vertical-line",style:{left:E.left-1,width:E.width,height:o.height,top:o.top,opacity:.8}})):undefined,P&&E&&!$.isHequalS(P,E)?i.a.createElement("div",{className:"distance-box"}):undefined,f?i.a.createElement("div",{className:"show-distance show-top-distance"},_,f):undefined,g?i.a.createElement("div",{className:"show-distance show-bottom-distance"},v,g):undefined,m?i.a.createElement("div",{className:"show-distance show-left-distance"},y,m):undefined,h?i.a.createElement("div",{className:"show-distance show-right-distance"},w,h):undefined,P&&b?i.a.createElement("div",{className:"show-distance"},i.a.createElement("span",{className:"show-rect-width",style:{top:P.top,left:P.left+P.width/2}},$.saveTwoBit(P.width/c/r,s),s),i.a.createElement("span",{className:"show-rect-height",style:{top:P.top+P.height/2,left:P.right}},$.saveTwoBit(P.height/c/r,s),s)):undefined)},Kt([x.a],t.prototype,"_onPopupPreviewChange",null),t}(i.a.Component),Gt=n(400),Xt=n.n(Gt),Yt=n(57),Jt=n(58),Zt=null,Qt=new(function(){function e(){}return e.prototype.mouseDown=function(){Zt=null,Yt.a.isShow()&&Jt["default"].hide()},e.prototype.mouseMove=function(e){var t=window.mouseDownTarget;t.name&&(Zt&&(!Zt||e.clientX==Zt[0]&&e.clientY==Zt[1])||(t.moveFunc(e),Zt=[e.clientX,e.clientY])),window.mousePosi=[e.pageX,e.pageY]},e.prototype.mouseUp=function(e){var t=window.mouseDownTarget;t.name&&(t.endFunc(e),$.mouseDownTargetInit())},e}()),en=n(125),tn=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nn=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rn=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return tn(t,e),t.prototype._searchInputChange=function(e){this.props.parentComp.setState({searchText:e.currentTarget.value}),$.tipHide()},t.prototype._cancelSearchClick=function(){this.props.parentComp.setState({isSearch:!1,searchText:""}),$.tipHide()},t.prototype._searchInputBlur=function(e){var t=this.props.parentComp;""==e.currentTarget.value&&t.setState({isSearch:!1}),$.tipHide()},t.prototype.render=function(){var e=this.props,t=e.searchText,n=e.isPage;return i.a.createElement("div",{className:"struct-search-container"},i.a.createElement("input",{id:"StructSearchInput",className:"global-searcth-input",value:t,placeholder:"搜索"+(n?"页面":"组件")+"...",onChange:this._searchInputChange,onBlur:this._searchInputBlur}),i.a.createElement("i",{className:"new-base-img search"}),i.a.createElement("i",{className:"new-base-img cancel-search a_c","data-contr":"hovertip","data-option":$.objToString({text:"取消搜索",direction:"right",changePosi:-10,changeOtherPosi:-4}),onClick:this._cancelSearchClick}))},nn([x.a],t.prototype,"_searchInputChange",null),nn([x.a],t.prototype,"_cancelSearchClick",null),nn([x.a],t.prototype,"_searchInputBlur",null),t}(i.a.Component),on=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),an=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},sn=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return on(t,e),t.prototype.render=function(){var e=this.props,t=e.page,n=e.searchText;return i.a.createElement("li",{className:(t.active?"active":"")+" "+(this.props.hasComment?"has-comment":"")+" "+t.type+"-layer layer-"+this.props.index+(t.fold?"":" unfold"),key:"page"+t.key,id:"pageItem"+t.key,"data-key":t.key,onClick:"page"==t.type?this._pageClick:this._toggleFolder},i.a.createElement("div",{className:"name"},"folder"==t.type?i.a.createElement("div",{className:"unfold-btn"},this.props.childrenNum?i.a.createElement("div",{className:"wrapbox-line",style:{height:32*this.props.childrenNum}}):undefined):undefined,i.a.createElement("span",{dangerouslySetInnerHTML:{__html:n||t.name}})))},t.prototype._pageClick=function(e){var t=e.currentTarget.getAttribute("data-key"),n=u.a.getActivePage();t!=n&&(u.a.changeActivePage({nextKey:t}),window.goToPage({curr:n,next:t,transition:"empty",notToparent:!0,reset:!0}))},t.prototype._toggleFolder=function(){this.props.toggleFolder(this.props.page.key)},an([x.a],t.prototype,"_pageClick",null),an([x.a],t.prototype,"_toggleFolder",null),t}(i.a.Component),ln=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},un=!1;function dn(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.addClass("hover"),r.addClass("zIndex")}function pn(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.removeClass("hover"),r.removeClass("zIndex")}function fn(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t);if(n.length>0){var r=$.query("#pageContainer .page.current");$.previewScrollTop($.offset(n[0],!0),r),setTimeout(function(){n.click()},0)}}var hn=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isSearch:!1,searchText:""},n}return ln(t,e),t.prototype._structSearchClick=function(){this.setState({isSearch:!0},function(){var e=$.getElById("StructSearchInput");e&&e.focus()}),$.tipHide()},t.prototype._structFoldClick=function(){var e=window.__c;e&&(!function t(e){for(var n in e){var r=e[n],i=r.type,o=r.contrs;"symbol"!=i&&"wrapbox"!=i||(e[n].fold=!un,t(o))}}(e),un=!un),this.setState({}),$.tipHide()},t.prototype._toggleFolder=function(e){var t=window.__c,n=e.currentTarget.parentNode.parentNode.getAttribute("data-select");if(t&&t[n]){var r=t[n];r&&(r.fold=!r.fold)}this.setState({}),e.stopPropagation()},t.prototype._getStructDom=function(e){var t=this.state.searchText,n=e.name,r=e.layer,o=e.type,a=e.id,s=e.baseContrType,l=e.select,c=e.childrenNum;return i.a.createElement("li",{className:"struct-li "+(s||o)+"-layer layer-"+r+(c?" unfold":""),"data-id":o+"_"+a,"data-select":l,key:l,onMouseEnter:dn,onMouseLeave:pn,onClick:fn},i.a.createElement("div",{className:"name"},"wrapbox"!=o&&"symbol"!=o||t?undefined:i.a.createElement("div",{className:"unfold-btn",onClick:this._toggleFolder},c?i.a.createElement("div",{className:"wrapbox-line",style:{height:30*c}}):undefined),i.a.createElement("div",{className:"name-wrapper",dangerouslySetInnerHTML:{__html:n}})))},t.prototype._getSearchToolDom=function(e){return i.a.createElement("div",{className:"pageStructTool contr-struct-tool"},i.a.createElement("span",null,""+e.name),i.a.createElement("div",{className:"toolBox"},i.a.createElement("i",{key:"foldStructBtn",className:"material-icons fold-all-struct a_c new-base-img"+(un?" struct-is-fold":""),"data-contr":"hovertip","data-option":$.objToString({text:"目录全部"+(un?"展开":"折叠"),direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structFoldClick}),i.a.createElement("i",{key:"searchStructBtn",className:"material-icons search-struct a_c new-base-img","data-contr":"hovertip","data-option":$.objToString({text:"搜索目录",direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structSearchClick})))},t.prototype._getAllStruct=function(e,t,n,r,i){var o=this,a=o.state.searchText,s=window.__c;$.isArray(n)?n.forEach(function(t){var n=t.name,l=t.type,c=t.id,u=t.contrs,d=t.hierarchy,p=t.baseContrType,f=i+(i?" ":"")+"."+l+"_"+c,h=("wrapbox"==l||"symbol"==l)&&(s&&s[f]&&s[f].fold),g=a&&$.searchIn(a,t.name),m=n,_=!1;a?g&&(_=!0,m=g):_=!0,_&&e.push(o._getStructDom({name:m,layer:r,type:l,id:c,baseContrType:p,select:f,childrenNum:h?0:o._getAllChildNum(t)})),"wrapbox"!=l&&"symbol"!=l||!d||!u||!a&&h||o._getAllStruct(e,d,u,r+1,f)}):t.forEach(function(t){var l=n[t];if(l){var c=l.name,u=l.type,d=l.id,p=l.contrs,f=l.hierarchy,h=l.baseContrType,g=i+(i?" ":"")+"."+u+"_"+d,m=("wrapbox"==u||"symbol"==u)&&(s&&s[g]&&s[g].fold),_=a&&$.searchIn(a,l.name),v=c,y=!1;a?_&&(y=!0,v=_):y=!0,y&&e.push(o._getStructDom({name:v,layer:r,type:u,id:d,baseContrType:h,select:g,childrenNum:m?0:o._getAllChildNum(l)})),"wrapbox"!=u&&"symbol"!=u||!f||!p||!a&&m||o._getAllStruct(e,f,p,r+1,g)}})},t.prototype._getAllChildNum=function(e){var t=this,n=e.type,r=e.fold,i=e.hierarchy,o=e.contrs,a=0;return"wrapbox"!=n&&"symbol"!=n||r||i.forEach(function(e){a++,a+=t._getAllChildNum(o[e])}),a},t.prototype.render=function(){var e=this.props.activePage,t=this.state,n=t.isSearch,r=t.searchText,o=function(e,t){var n;return e.some(function(e){return e.key==t.key&&(n=e,!0)}),n}(window.pages,e);if(!o)return null;var a=[];return this._getAllStruct(a,o.hierarchy,o.contrs,1,""),i.a.createElement("div",null,n?i.a.createElement(rn,{searchText:r,parentComp:this}):this._getSearchToolDom(e),i.a.createElement("div",{className:"catalog-list"},a))},cn([x.a],t.prototype,"_structSearchClick",null),cn([x.a],t.prototype,"_structFoldClick",null),cn([x.a],t.prototype,"_toggleFolder",null),cn([x.a],t.prototype,"_getStructDom",null),cn([x.a],t.prototype,"_getSearchToolDom",null),cn([x.a],t.prototype,"_getAllStruct",null),cn([x.a],t.prototype,"_getAllChildNum",null),t}(i.a.Component),gn=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mn=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_n=!1,vn=function(e){function t(t){var n=e.call(this,t)||this;return n.state={discussNumObj:j["default"].getNumInPageList(),tabKey:"page",isSearch:!1,searchText:""},n}return gn(t,e),t.prototype.componentDidMount=function(){j["default"].addEditChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){j["default"].removeEditChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({discussNumObj:j["default"].getNumInPageList()})},t.prototype._tabClick=function(e){var t=this.state.tabKey,n=e.currentTarget.getAttribute("data-key");e.currentTarget.getAttribute("data-key")!=t&&this.setState({tabKey:n})},t.prototype._getTabDom=function(){var e=this.state.tabKey;return i.a.createElement("div",{className:"struct-tab-box"},i.a.createElement("div",{"data-key":"page",className:l()("struct-tab page-tab",{active:"page"==e}),onClick:this._tabClick},"页面目录"),i.a.createElement("div",{"data-key":"contr",className:l()("struct-tab contr-tab",{active:"contr"==e}),onClick:this._tabClick},"组件目录"))},t.prototype._structSearchClick=function(){this.setState({isSearch:!0},function(){var e=$.getElById("StructSearchInput");e&&e.focus()}),$.tipHide()},t.prototype._structFoldClick=function(){u.a.structFolderAllFold(undefined,_n),_n=!_n,this.setState({}),$.tipHide()},t.prototype._getSearchToolDom=function(e){return i.a.createElement("div",{className:"pageStructTool contr-struct-tool"},i.a.createElement("span",null,""+e),i.a.createElement("div",{className:"toolBox"},i.a.createElement("i",{key:"foldStructBtn",className:"material-icons fold-all-struct a_c new-base-img"+(_n?" struct-is-fold":""),"data-contr":"hovertip","data-option":$.objToString({text:"目录全部"+(_n?"展开":"折叠"),direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structFoldClick}),i.a.createElement("i",{key:"searchStructBtn",className:"material-icons search-struct a_c new-base-img","data-contr":"hovertip","data-option":$.objToString({text:"搜索目录",direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structSearchClick})))},t.prototype.render=function(){var e=this.props,t=e.isMark,n=e.activePage,r=this.state,o=r.tabKey,a=r.isSearch,s=r.searchText,c=[],d=u.a.getStructHierarchy();return 0!==this.props.pagesArr.length&&this._addPageStruct(d,1,c),i.a.createElement("div",{className:l()("preview-lr-panel leftPanel",{fold:!this.props.previewInfo.catalog}),onWheel:$.stopPropagation},i.a.createElement("div",{className:"preview-page-panel panel"+(t?" page-mark-panel":"")},t?this._getTabDom():undefined,t&&"page"==o||!t?a?i.a.createElement(rn,{searchText:s,parentComp:this,isPage:!0}):this._getSearchToolDom(this.props.pagesArr.length+"页"):undefined,t&&"page"==o||!t?i.a.createElement("ul",{className:"catalog-list scroll-hint preview-pages",id:"pageList"},c):undefined,t&&"contr"==o?i.a.createElement(hn,{activePage:n}):undefined),i.a.createElement("div",{className:"toggle-btn",onClick:this._toggleCatalog}))},t.prototype._addPageStruct=function(e,t,n){var r=this,o=r.state,a=o.discussNumObj,s=o.searchText;e.forEach(function(o){if(o){if(!1!==o.isShow)if("page"==o.type){var l=s&&$.searchIn(s,o.name);(s&&l||!s)&&n.push(i.a.createElement(sn,{key:"page_"+o.key,page:o,index:t,active:o.active,hasComment:"discuss"==r.props.previewInfo.mode&&a&&a[o.key],searchText:l}))}else if("folder"==o.type){l=s&&$.searchIn(s,o.name);s||n.push(i.a.createElement(sn,{key:"folder_"+o.key,page:o,index:t,childrenNum:o.fold?0:r._getAllChildNum(o),toggleFolder:r._toggleFolder,searchText:l})),!o.fold&&o.folderHierarchy&&r._addPageStruct(o.folderHierarchy,t+1,n)}}else window.log(o,e)})},t.prototype._getAllChildNum=function(e){var t=this,n=0;return e||console.log("warning"),e&&"folder"==e.type&&!e.fold&&e.folderHierarchy.forEach(function(e){n++,n+=t._getAllChildNum(e)}),n},t.prototype._toggleFolder=function(e){u.a.changeStructFolderFold(e),this.setState({})},t.prototype._toggleCatalog=function(){C.a.toggleCatalog()},mn([x.a],t.prototype,"_onChange",null),mn([x.a],t.prototype,"_tabClick",null),mn([x.a],t.prototype,"_getTabDom",null),mn([x.a],t.prototype,"_structSearchClick",null),mn([x.a],t.prototype,"_structFoldClick",null),mn([x.a],t.prototype,"_getSearchToolDom",null),mn([x.a],t.prototype,"_addPageStruct",null),mn([x.a],t.prototype,"_getAllChildNum",null),mn([x.a],t.prototype,"_toggleFolder",null),mn([x.a],t.prototype,"_toggleCatalog",null),t}(i.a.Component),yn=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wn=function(e){function t(t){var n=e.call(this,t)||this;if(n.state={previewInfo:u.a.getPreviewInfo(),pagesArr:u.a.getPagesArr(),activePage:u.a.getActivePage(),mode:u.a.getMode(),eventTag:!0,fullscreen:!1,isLoaded:!1},window.pcApp){var r=window.parent.document.getElementById("lastIframe"),i=window.parent.document.getElementById("pcIframe");i&&$.hasClass(i,"hide")&&$.removeClass(i,"hide"),r&&$.destroyIframe(r)}return n.onProtoPreviewChange=n.onProtoPreviewChange.bind(n),n.setContainerSize=n.setContainerSize.bind(n),n._wheelFunc=n._wheelFunc.bind(n),n}return yn(t,e),t.prototype.setContainerSize=function(){var e=u.a.getScrollObj(),t=e.scrollHeight,n=e.scrollWidth,r=e.boxWidth,i=e.scrollTop,o=e.scrollLeft,a=u.a.getPreviewInfo(),s=a.catalog,l=a.note,c="web"==a.platform,d=$.query(".current.page"),p={};if(c){var f=$.getWinSize().width-(s?240:0)-(l?240:0),h=!1;if(f!=r&&(h=!0,p.boxWidth=f),d){var g=$.offset(d,!0);g.height==t&&g.width==n||(h=!0,p.scrollHeight=g.height,p.scrollWidth=g.width)}if(h){var m=$.setRegion(i,$.getWinSize().height-45-(p.scrollHeight||t),0),_=$.setRegion(o,(f||r)-(p.scrollWidth||n),0);m==i&&_==o||(p.scrollTop=m,p.scrollLeft=_),u.a.setScrollObj(p)}}else if(d){var v=d.offsetHeight;v!=t&&u.a.setScrollObj({scrollHeight:v,scrollTop:0})}},t.prototype.componentDidUpdate=function(){this.setContainerSize()},t.prototype.componentDidMount=function(){var e=this;window.parent&&window.parent.setPopupPreviewLoaded&&window.parent.setPopupPreviewLoaded(),this.setContainerSize(),this.setState({isLoaded:!0}),Xt.a.enabled&&window.document.addEventListener(Xt.a.raw.fullscreenchange,function(){!Xt.a.isFullscreen&&e.state.fullscreen&&e.setState({fullscreen:!1})})},t.prototype.componentWillMount=function(){u.a.addChangeListener(this.onProtoPreviewChange)},t.prototype.componentWillUnmount=function(){u.a.removeChangeListener(this.onProtoPreviewChange)},t.prototype.onProtoPreviewChange=function(){this.setState({mode:u.a.getMode(),previewInfo:u.a.getPreviewInfo(),pagesArr:u.a.getPagesArr(),activePage:u.a.getActivePage()})},t.prototype._wheelFunc=function(e){var t=u.a.getScrollObj(),n=t.scrollTop,r=t.scrollLeft,i=t.scrollHeight,o=t.scrollWidth,a=t.boxWidth;if($.query(".preview-scroll .contentBox")&&(0!=e.deltaY||0!=e.deltaX)){var s="web"==$.getPlatform(window.platform),l=$.setRegion(r-e.deltaX,a-o,0),c=void 0;if(s)c=$.setRegion(n-e.deltaY,$.getWinSize().height-45-i,0);else{var d=!!$.query(".page.isLandscape.current");c=$.setRegion(n-e.deltaY,window.phoneSize[d?"width":"height"]-i,0)}c==n&&l==r||(0!=$(".page-contain-mask").children().length&&Ae["default"].initContr(),u.a.setScrollObj({scrollTop:c,scrollLeft:l}))}},t.prototype.render=function(){var e=u.a.getActivePage(!0),t=this.state.previewInfo,n=window.type;return i.a.createElement("div",null,i.a.createElement("div",{id:"bodyWrapper",className:l()("body-wrapper container-height "+t.platform+"-body "+t.mode+"-mode",{"preview-fullscreen":this.state.fullscreen,unloaded:!this.state.isLoaded}),onMouseDown:Qt.mouseDown,onMouseMove:Qt.mouseMove,onMouseUp:Qt.mouseUp,onWheel:this._wheelFunc,style:{marginLeft:t.catalog?240:0,marginRight:t.note?240:0}},i.a.createElement(v.a,{previewInfo:this.state.previewInfo,mode:this.state.mode}),i.a.createElement(w.a,{previewInfo:this.state.previewInfo,sidePanelWidth:240}),"project"==n?i.a.createElement(vn,{previewInfo:this.state.previewInfo,pagesArr:this.state.pagesArr,activePage:e,isMark:"mark"==this.state.previewInfo.mode}):undefined,"project"==n&&"preview"==this.state.previewInfo.mode?i.a.createElement(T,{previewInfo:this.state.previewInfo,note:e?e.note:null}):undefined,"discuss"==this.state.previewInfo.mode?i.a.createElement(se,{previewInfo:this.state.previewInfo}):undefined,"mark"==this.state.previewInfo.mode?i.a.createElement(kt,{previewInfo:this.state.previewInfo}):undefined,i.a.createElement(Ft,null),i.a.createElement(Ht,null),i.a.createElement(Mt,null)),i.a.createElement(Dt["default"],null),i.a.createElement(en.a,null),i.a.createElement(Ot["default"],null),i.a.createElement(At["default"],null),"mark"==this.state.previewInfo.mode?i.a.createElement(Wt,null):undefined)},t}(i.a.Component);a.a.render(i.a.createElement(wn,null),$.getElById("reactBox"))},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var NoteItemComp=function(_React$Component){function NoteItemComp(){(0,_classCallCheck3["default"])(this,NoteItemComp);var e=(0,_possibleConstructorReturn3["default"])(this,(NoteItemComp.__proto__||(0,_getPrototypeOf2["default"])(NoteItemComp)).call(this));return e._noteMouseEnter=e._noteMouseEnter.bind(e),e._noteMouseLeave=e._noteMouseLeave.bind(e),e}return(0,_inherits3["default"])(NoteItemComp,_React$Component),(0,_createClass3["default"])(NoteItemComp,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_noteMouseEnter",value:function(){window.addListNoteHoverClass&&window.addListNoteHoverClass(this.props.pageId,this.props.info.id,this.props.info.text)}},{key:"_noteMouseLeave",value:function(){window.removeListNoteHoverClass&&window.removeListNoteHoverClass(this.props.pageId,this.props.info.id)}},{key:"render",value:function(){var e=this.props.info;return _react2["default"].createElement("div",{className:"note-box",style:{left:$.convertNum(e.left),top:$.convertNum(e.top)},id:"page"+this.props.pageId+"Note"+e.id,onMouseEnter:this._noteMouseEnter,onMouseLeave:this._noteMouseLeave},e.hasArea?_react2["default"].createElement("div",{className:"note-area",style:{width:$.convertNum(e.width),height:$.convertNum(e.height)}}):undefined,_react2["default"].createElement("div",{className:"note"},e.index))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),NoteItemComp}(_react2["default"].Component),_default=NoteItemComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(NoteItemComp,"NoteItemComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/NoteItem.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/NoteItem.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_NoteItem=__webpack_require__(732),_NoteItem2=_interopRequireDefault(_NoteItem);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var NoteComp=function(_React$Component){function NoteComp(){return(0,_classCallCheck3["default"])(this,NoteComp),(0,_possibleConstructorReturn3["default"])(this,(NoteComp.__proto__||(0,_getPrototypeOf2["default"])(NoteComp)).apply(this,arguments))}return(0,_inherits3["default"])(NoteComp,_React$Component),(0,_createClass3["default"])(NoteComp,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=[];return e.props.noteList.forEach(function(n,r){t.push(_react2["default"].createElement(_NoteItem2["default"],{key:r,info:n,pageId:e.props.pageId}))}),_react2["default"].createElement("div",{className:"note-layer"},t)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),NoteComp}(_react2["default"].Component),_default=NoteComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(NoteComp,"NoteComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Note.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Note.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(69)),i=o(n(439));function o(e){return e&&e.__esModule?e:{"default":e}}!function(){var t=n(1).enterModule;t&&t(e)}(),CSSPlugin.defaultForce3D=!0;var a=void 0,s=void 0,l=void 0,c=void 0,u={delay:0,time:.5,count:1},d=void 0,p={getTimeline:function(e,t,n){var r=new window.TimelineMax({paused:!0}),o={},u=n||1,f=!$.isUndefined(n),h={};l={start:e.next,end:e.curr},a=i["default"].getAllValsContr({contrKey:t||e.contrId}),s=p.getTransition();var g=p.getTrProps();if(c||(c=$.extend(!0,{},l)),p.setChangedContrs(e),p.getDisabled()){if(!f)return"disabled";g.time=0,g.delay=0}if(s||console.log("warning"),!s||!s[l.end]||!s[l.end].contrs)return"noChange";for(var m in s[l.end].contrs)if(d[m]){var _=i["default"].getStartEndContrs(m,e.contrId,c.start),v=_.start,y=_.end,w=s[l.end].contrs[m],b=[],C=[];for(var S in w.units[0].keyframes)C.push(S),b[S]=w.units[0].keyframes[S].frame;C=C.sort(function(e,t){return parseInt(e)-parseInt(t)}),h[m]={keyArr:C,keyframes:b,props:w.units[0].props||{},startContr:v,endContr:y}}var x=function(t){var n=h[t].keyArr,r=h[t].props.time||g.time,i=h[t].props.delay?h[t].props.delay-g.delay:0,a=h[t].props.easing||g.easing,s=h[t].keyframes["0%"];if(o[t]||(o[t]={}),o[t+"_start"]||(o[t+"_start"]={}),n.forEach(function(s,l){if(0!==l)for(var c=h[t].keyframes[s],d=$.extend(!0,$.extend(!0,{},h[t].startContr),c),f=l-1;f>=0;f--){var g=h[t].keyframes[n[f]],m=$.extend(!0,$.extend(!0,{},h[t].startContr),g);for(var _ in c){if("state"==_){var v=p.getTimeline({contrId:e.contrId,next:$.isUndefined(d[_].endState)?"-1":d[_].endState,curr:m[_].endState},t,u+1);$.isObject(v)&&$.extend(!0,o,v)}"100%"!=s&&$.isUndefined(h[t].keyframes["100%"][_])&&(h[t].keyframes["100%"][_]=h[t].endContr[_])}o[t][u]={contrId:t,styles:c,curData:d,prevData:m,time:r*(parseInt(s)-parseInt(n[f]))/100,delay:i+parseInt(n[f])/100*r,easing:a,symbolParent:e.symbolParent}}}),!$.isUndefined(s.rotate)||!$.isUndefined(s.filter)){var l={};$.isUndefined(s.rotate)||(l.rotate=s.rotate),$.isUndefined(s.filter)||(l.filter=s.filter),o[t+"_start"][u]={contrId:t,styles:l,curData:$.extend(!0,$.extend(!0,{},h[t].endContr),s),symbolParent:e.symbolParent},o[t+"_start"][u].prevData=o[t+"_start"][u].curData}};for(var E in h)x(E);if(!f){var P=[],T=[],j={};for(var I in o)for(var k in o[I])-1==I.indexOf("_start")?T=T.concat(p.dataToStyle(o[I][k])):P=P.concat(p.dataToStyle(o[I][k]));P.forEach(function(e){"self"==e.type&&(j[e.contrId]=!0),r.set(e.element,$.extend(!0,"self"==e.type?{transformOrigin:"50% 50%",x:0,y:0}:{},e.props),0)}),T.forEach(function(e){var t=e.props;e.start&&r.set(e.element,e.start,e.delay),j[e.contrId]||"self"!=e.type||(r.set(e.element,{x:0,y:0},0),e.rotation&&r.set(e.element,{transformOrigin:"50% 50%"},0)),e.easing&&(t=$.extend(!0,{ease:$.getEasingFuncName(e.easing)},t)),r.to(e.element,e.time,t,e.delay),e.end&&r.set(e.element,e.end)}),c=null}return f?o:r},unrepeatedContrProps:function(e){for(var t in e){var n=e[t];$.objLength(n)>1&&p.unrepeatedProps(n)}},unrepeatedProps:function(e){var t=(0,r["default"])(e),n=[];t.sort(function(e,t){return+t-+e}),t.forEach(function(t){for(var r in e[t].styles)-1!=n.indexOf(r)?delete e[t].styles[r]:n.push(r);0===$.objLength(e[t].styles)&&delete e[t]})},setChangedContrs:function(e){var t={};for(var n in d={},t[l.start]={},t[l.end]={},(-1!=l.start&&!a.states[l.start]||-1!=l.end&&!a.states[l.end])&&console.log("warning"),-1!=l.start&&a.states[l.start]&&(t[l.start]=p.unrepeatedContrs(a,a.states[l.start].contrs)),-1!=l.end&&a.states[l.end]&&(t[l.end]=p.unrepeatedContrs(a,a.states[l.end].contrs)),t[l.end]){var r=$.filterState(t[l.end][n]),o=$.filterState(t[l.start][n]),s={},u={},f=i["default"].getStartEndContrs(n,e.contrId,c.start),h=f.start,g=f.end;for(var m in r)$.isPropEqual(h[m],r[m],"state"==m)||(d[n]=!0,p.compareProps({prop:m,startContr:h,endContr:r,reverse:!0,startData:s,endData:u}));for(var _ in o)$.isPropEqual(o[_],g[_],"state"==_)||(d[n]=!0,p.compareProps({prop:_,startContr:o,endContr:g,reverse:!1,startData:s,endData:u}));(u.isDelete||s.isDelete)&&(u={isDelete:u.isDelete},s={isDelete:s.isDelete}),p.editFrame(u,n,"0%",!0),p.editFrame(s,n,"100%",!0)}for(var v in t[l.start])if(!t[l.end][v]){var y=$.filterState(t[l.start][v]),w={},b={},C=i["default"].getStartEndContrs(v,e.contrId,c.start).end;for(var S in y)$.isPropEqual(y[S],C[S],"state"==S)||(d[v]=!0,p.compareProps({prop:S,startContr:y,endContr:C,reverse:!1,startData:w,endData:b}));(b.isDelete||w.isDelete)&&(b={isDelete:b.isDelete},w={isDelete:w.isDelete}),p.editFrame(b,v,"0%",!0),p.editFrame(w,v,"100%",!0)}},unrepeatedContrs:function(e,t,n){var r=n?t:$.extend(!0,{},t),o=$.getContrId(e);for(var a in r){var s=r[a];i["default"].getAllValsContr({contrKey:a,parentSaveContrVals:s,parentSaveContrId:o})}return r},compareProps:function(e){var t=e.startContr[e.prop],n=e.endContr[e.prop];if("cutVals"==e.prop){var r=e.reverse?n:t;for(var i in t||(t=$.getDefaultCutVals(e.startContr)),n||(n=$.getDefaultCutVals(e.endContr)),r)t[i]!=n[i]&&($.isUndefined(e.startData[e.prop])&&(e.startData[e.prop]={}),$.isUndefined(e.endData[e.prop])&&(e.endData[e.prop]={}),e.startData[e.prop][i]=t[i],e.endData[e.prop][i]=n[i])}else e.reverse?(e.startData[e.prop]=$.isUndefined(t)?null:t,"filter"==e.prop?e.endData[e.prop]=$.extend(!0,$.extend(!0,{},t),n):e.endData[e.prop]=n):(e.endData[e.prop]=$.isUndefined(n)?null:n,"filter"==e.prop?e.startData[e.prop]=$.extend(!0,$.extend(!0,{},n),t):e.startData[e.prop]=t)},editFrame:function(e,t,n,r){var i=void 0,o=void 0;if(r&&$.isEmptyObj(e)&&(!s[l.end]||!s[l.end].contrs||!s[l.end].contrs[t]))return!1;t?((o=p.getContrAnim(t,!0)).keyframes[n]||p.createFrame(n,t,{},!0),i=o.keyframes[n].frame):i=curInfo.keyframe.frame,r?t?o.keyframes[n].frame=e:curInfo.keyframe.frame=e:$.extend(i,e)},getContrAnim:function(e,t){if(s&&s[l.end]&&s[l.end].contrs&&s[l.end].contrs[e]&&s[l.end].contrs[e].units){var n=s[l.end].contrs[e].units[0];return $.isUndefined(n.keyframes)&&(n.keyframes={}),$.isUndefined(n.props)&&(n.props={}),n}return t?(p.setContrAnim(e),s[l.end].contrs[e].units[0]):p.getContrAnimData()},setContrAnim:function(e){s[l.end]||(s[l.end]={});var t=s[l.end];t.contrs||(t.contrs={}),t.contrs[e]||(t.contrs[e]={units:[{index:0,props:{},keyframes:{}}]})},getContrAnimData:function(e){var t={};return e&&s&&s[l.end]&&s[l.end].contrs&&(t=s[l.end].contrs[e]),$.extend(!0,{units:[{index:0,props:{},keyframes:{}}]},t)},createFrame:function(e,t,n,r){var i=p.getContrAnim(t);return i.keyframes[e]={frame:n||{},show:!0,active:!r},i},getTransition:function(){var e=void 0;return $.objLength(a.states)>0&&(-1!=l.start?(a.states[l.start].transition||(a.states[l.start].transition={}),e=a.states[l.start].transition):(a.transition||(a.transition={}),e=a.transition)),e},getTrProps:function(){var e=$.extend({},u);return s||console.log("warning"),s&&s[l.end]&&s[l.end].props&&$.extend(e,s[l.end].props),e},getDisabled:function(){return!(!s||!s[l.end])&&s[l.end].disabled},dataToStyle:function(e){var t={},n=[],i=e.contrId.split("_")[0],o=p.getStyleCategory(i),a=e.curData,s=function(n){o[n].stylesArr.forEach(function(r){if(!$.isUndefined(e.styles[r])){var i="#"+e.contrId;e.symbolParent&&(i="#"+e.symbolParent.join(" #")+" "+i),$.isUndefined(t[n])&&(t[n]={element:$.query(i+" "+o[n]["class"]),process:{},ins:{},startData:{}}),function s(t,n,r,i){var o=p.styleDict(t);var l=e.styles[t];switch(t){case"textShadow":n.process[o]="rgba(0,0,0,0.5) 0px "+$.convertNum(l,"px")+" "+$.convertNum(l,"px");break;case"opacity":n.process[o]=l/100;break;case"insetBorder":n.process[o]=$.convertNum(l)+" "+$.getBorderStyle("style",l[2])+" "+l[0];break;case"content":n.ins[o]=l;break;case"vertical":case"horizontal":n.ins[t]=l;break;case"isB":n.ins[o]=l?"bold":"normal";break;case"isI":n.ins[o]=l?"italic":"normal";break;case"isU":n.ins[o]=l?"underline":"none";break;case"isS":n.ins[o]=l?"line-through":"none";break;case"isShow":case"isDelete":var c=!1!==a.isShow&&!a.isDelete;c&&(n.ins[o]="block"),n.process.opacity=c?a.opacity/100:0;break;case"border":"outerBorderBox"==r?(n.process.border=a.border&&null!==(a.border&&a.border[0])?$.convertNum(Math.ceil(a.border[1]))+" "+$.getBorderStyle("style",a.border[2])+" "+a.border[0]:"none",n.process.left=$.convertNum(-Math.ceil(a.border[1]+(a.insetBorder?a.insetBorder[1]:0))),n.process.top=$.convertNum(-Math.ceil(a.border[1]+(a.insetBorder?a.insetBorder[1]:0))),n.process.width="calc(100% + "+$.convertNum(2*Math.ceil(a.insetBorder[1]))+")",n.process.height="calc(100% + "+$.convertNum(2*Math.ceil(a.insetBorder[1]))+")"):s("shadow",n,r);break;case"shadow":if(!n.process[o]){var u="";!a.border&&"table"!=a.type||$.isUndefined(a.shadow)||"0"==a.shadow||(u=$.isArray(a.shadow)?a.shadow[0]+"px "+a.shadow[1]+"px "+a.shadow[2]+"px "+a.shadow[3]+"px "+a.shadow[4]+(a.shadow[5]?" inset":""):"0px "+a.shadow+"px "+a.shadow+"px "+(a.border&&a.border[1]?a.border[1]:0)+"px rgba(0,0,0,0.5)"),n.process[o]=u?""+u:"none"}break;case"rotate":n.process[o]=l,s("left",n,r,t),s("top",n,r,t);break;case"cutVals":$.extend(!0,n.process,{width:$.convertNum(a.cutVals.boxWidth),height:$.convertNum(a.cutVals.boxHeight),"margin-left":$.convertNum(l.boxLeft),"margin-top":$.convertNum(l.boxTop)});break;case"filter":n.process.webkitFilter=$.getFilter(l),n.process.filter=$.getFilter(l);break;case"radius":case"isMaxRadius":n.process[o]||("outerBorderBox"==r&&a.border[1]?n.process[o]=a.isMaxRadius?$.convertNum(Math.ceil(Math.min(a.width,a.height)/2)+$.getRadiusAddValue(a.radius,a.border[1]),"px"):$.isArray(a.radius)?a.radius.map(function(e){return""+$.convertNum(Math.ceil(e)+$.getRadiusAddValue(e,a.border[1]),"px")}).join(" "):$.convertNum(Math.ceil(a.radius)+$.getRadiusAddValue(a.radius,a.border[1]),"px"):n.process[o]=a.isMaxRadius?$.convertNum(Math.ceil(Math.min(a.width,a.height)/2),"px"):$.isArray(a.radius)?a.radius.map(function(e){return e+"px"}).join(" "):$.convertNum(Math.ceil(a.radius),"px"));break;case"backColor":case"hasBackColor":n.process[o]||(n.process[o]=a.hasBackColor?a.backColor:"transparent");break;case"left":case"top":var d="rotate"==i?$.getRotatePosiDiff({rotate:a.rotate,width:a.width,height:a.height,type:t}):0;n.process[o]=e.prevData?$.convertNum(a[t]-e.prevData[t]-d,"px"):0;break;case"width":case"height":if("icon"==r){if($.isUndefined(n.process.fontSize)){var f=1,h=1;n.process.fontSize=$.convertNum(Math.max(Math.max(a.width,a.height),12)),a.width!=a.height&&(a.width>a.height?h=a.height/a.width:f=a.width/a.height),n.process.transform=1!=f||1!=h?(1!=f?"scaleX("+f+")":"")+(1!=h?" scaleY("+h+")":""):"none"}}else"textBox"==r?s("fontSize",n,r):"self"!=r?s("radius",n,r):(n.process[o]=$.convertNum(l,"px"),s("radius",n,r));break;case"independWH":case"outerHidden":n.process.overflow=!a.independWH&&a.outerHidden?"hidden":"visible";break;case"textColor":case"iconColor":n.process[o]=l;break;case"fontSize":(l<12||e.prevData.fontSize<12)&&window.fromIframe&&(n.ins.width="100%",n.ins.scale=1,"vM"==a.vertical?n.ins.y="-50%":n.ins.y=0,l=Math.max(l,12)),n.process[o]=$.convertNum(l);break;case"scale":n.process.transform="scale("+l/10+")";break;default:n.process[o]=$.convertNum(l)}}(r,t[n],n)}})};for(var l in o)s(l);var c=function(i){if((0,r["default"])(t[i].process).length>0){var o={},a={};n.push({element:t[i].element,props:t[i].process,time:e.time,delay:e.delay,start:0!==$.objLength(o)&&o,end:0!==$.objLength(a)&&a,easing:e.easing,type:i,contrId:e.contrId})}if((0,r["default"])(t[i].ins).length>0){if("textBox"==i){var s="";[["horizontal",t[i].ins.horizontal],["vertical",t[i].ins.vertical]].forEach(function(e){$.isUndefined(t[i].ins[e[0]])||(s+=(""!==s?" ":"")+e[1],delete t[i].ins[e[0]])}),""!==s&&(e.prevData?t[i].ins.className="+="+s:t[i].ins.className="-="+s)}n.push({element:t[i].element,props:t[i].ins,time:0,delay:e.delay,type:i,contrId:e.contrId})}};for(var u in t)c(u);return n},styleDict:function(e){return{width:"width",height:"height",left:"x",top:"y",rotate:"rotation",radius:"borderRadius",isMaxRadius:"borderRadius",shadow:"box-shadow",opacity:"opacity",backColor:"backgroundColor",hasBackColor:"backgroundColor",iconColor:"color",insetBorder:"border",adjaceney:"letterSpacing",textColor:"color",fontSize:"fontSize",textShadow:"textShadow",lineHeight:"lineHeight",indent:"textIndent",content:"value",border:"boxShadow",isShow:"display",isDelete:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position"}[e]},getStyleCategory:function(e){var t={"class":"",stylesArr:"hotspot"==e||"icon"==e?["width","height","left","top","opacity","rotate","isShow","isDelete","isDepend"]:["width","height","left","top","backColor","hasBackColor","radius","isMaxRadius","border","shadow","opacity","rotate","isShow","isDelete","isDepend"]},n={"class":">.outerBorderBox",stylesArr:["radius","isMaxRadius","width","height","border"]};switch(e){case"text":return t.stylesArr.push("insetBorder"),{self:t,textBox:{"class":" .content",stylesArr:["width","adjaceney","indent","textColor","lineHeight","textShadow","fontSize"]},outerBorderBox:n};case"hotspot":return{self:t};case"icon":return{self:t,icon:{"class":" i",stylesArr:["iconColor","width","height"]}};case"image":return{self:t,insetBorder:{"class":" .insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},imgBox:{"class":" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height"]},img:{"class":" .cImg",stylesArr:["cutVals","filter"]},outerBorderBox:n};case"wrapbox":return t.stylesArr.push("outerHidden","scrollX","scrollY"),{self:t,insetBorder:{"class":">.insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},childrenBox:{"class":">.childrenBox",stylesArr:["radius","isMaxRadius","outerHidden","scrollX","scrollY"]},outerBorderBox:n};case"symbol":return{self:{"class":"",stylesArr:["left","top"]},childrenBox:{"class":">.childrenBox",stylesArr:["scale"]}}}}},f=p;t["default"]=f,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"curContr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(s,"curTr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(l,"curState","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(c,"parentState","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(u,"defaultProps","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(d,"changedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(p,"AnimHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),t.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),r(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r={},i={getTimeline:function(e,t,n){return r[e+"_"+t+"_"+n]},setTimeline:function(e,t,n,i){r[e+"_"+t+"_"+n]=i}},o=i;t["default"]=o,function(){var t=n(1)["default"],a=n(1).leaveModule;t&&(t.register(r,"timelines","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/stores/AnimStore.js"),t.register(i,"AnimStore","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/stores/AnimStore.js"),t.register(o,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/stores/AnimStore.js"),a(e))}()}).call(this,n(2)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(47),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_DataHandle=__webpack_require__(439),_DataHandle2=_interopRequireDefault(_DataHandle),_EventHandle=__webpack_require__(476),_EventHandle2=_interopRequireDefault(_EventHandle);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ContrComp=function(_React$Component){function ContrComp(e){(0,_classCallCheck3["default"])(this,ContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ContrComp.__proto__||(0,_getPrototypeOf2["default"])(ContrComp)).call(this,e));return t.state={timers:[],eventHammers:{},eTypeClass:"",renderChange:1},t.focus=t.focus.bind(t),t}return(0,_inherits3["default"])(ContrComp,_React$Component),(0,_createClass3["default"])(ContrComp,[{key:"componentDidMount",value:function(){var e=this.props.contr,t=$("#"+$.getContrId(e)+">.childrenBox");(e.scrollX||e.scrollY)&&t.on("touchmove",function(e){e.stopPropagation()}),this.setEvents()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.renderChange==t.renderChange,r="page"==e.updateType;return n&&(r||e.isUpdateParent||e.mustChange)}},{key:"componentWillUpdate",value:function(){this.offEvents()}},{key:"componentDidUpdate",value:function(){this.setEvents()}},{key:"_noteMouseEnter",value:function(e){if(window.addListNoteHoverClass){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-key"),r=e.currentTarget.getAttribute("data-note");window.addListNoteHoverClass(t,n,r)}}},{key:"_noteMouseLeave",value:function(e){if(window.removeListNoteHoverClass){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-key");window.removeListNoteHoverClass(t,n)}}},{key:"render",value:function(){var e=this,t=e.props.contr,n=$.getContrId(t),r=e.props.symbolChild&&e.props.symbolChild[n],i={onMouseDown:function(e){["sH","sV","sT","sD","sL","sR"].some(function(t){return!!$.hasClass(e.currentTarget,t)})&&e.stopPropagation()}},o=$.getContrEndState(t);"contr"!=e.props.updateType&&r&&!$.isUndefined(r.endState)&&(o=r.endState);var a=t.scrollX||t.scrollY,s={text:"textC",hotspot:"hotspotC",icon:"iconC",image:"imageC",wrapbox:"wrapBox",symbol:"symbol",table:"tableC"}[t.type]+" "+(e.props.isMergeBox?"mDiv":"cDiv")+(t.isDepend?" fixed":"")+" state"+(+o+1)+" "+n,l=null,c=e.props.parentStateCache,u=e.props.stateAncestor,d=$.extend(!0,{},e.props.ancestorState)||{},p=void 0,f={},h={};t.isDepend&&(window.fixedData[e.props.page.key]=!0,window.isLocal&&(h={"data-ori-left":t.left,"data-ori-top":t.top})),a&&(window.innerScrollData[e.props.page.key]=!0),t.states&&!$.isEmptyObj(t.states)&&($.isEmptyObj(c)&&(u=n),c[n]||(c[n]={}),c[n][o]||(c[n][o]={}),p=c[n][o],d[n]=o);var g=_react2["default"].createElement("div",{className:"outerBorderBox stretch-wrapper"}),m=t.noteContent&&!window.isMobile?_react2["default"].createElement("div",{className:"note-box contr-note-box page"+e.props.page.key+"Note"+n,"data-note":t.noteContent,"data-key":n,"data-name":t.name,"data-pageid":e.props.page.key,id:"page"+e.props.page.key+"Note"+n,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},_react2["default"].createElement("div",{className:"note"},"N")):undefined;switch(i["data-select"]=e.props.select+(e.props.select?" .":".")+n,window.__c&&(window.__c[i["data-select"]]=t),t.type){case"text":r&&!$.isUndefined(r.content)&&((t=$.extend(!0,{},t)).content=r.content,window.__c&&(window.__c[i["data-select"]]=t));var _="inputText"==t.baseContrType,v={},y={};"inputText"==t.baseContrType?(v={contentEditable:!0,placeholder:t.content,onClick:e.stopPropagation},y={onClick:e.focus}):v={dangerouslySetInnerHTML:{__html:t.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")}},t.autoW&&f.width&&delete f.width,l=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:s+("inputText"==t.baseContrType?" editable":"")+(t.autoW?" auto-width":"")+(t.fontSize<12?" minFont":""),style:f,ref:"contr","data-state":o},y,h,i),m,_react2["default"].createElement("p",(0,_extends3["default"])({className:"content "+(_?"isInput ":"")+t.vertical+" "+t.horizontal+(t.isB?" tB":"")+(t.isI?" tI":"")+(t.isU?" tU":"")+(t.isS?" tS":"")},v)),g);break;case"hotspot":l=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:s,ref:"contr"},i),m);break;case"icon":r&&!$.isUndefined(r.iconKey)&&((t=$.extend(!0,{},t)).iconKey=r.iconKey,window.__c&&(window.__c[i["data-select"]]=t)),l=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:s,style:f,ref:"contr","data-state":o},h,i),m,_react2["default"].createElement("i",{className:"material-icons icon iconfont"},t.iconKey));break;case"image":r&&r.src&&((t=$.extend(!0,{},t)).src=r.src,window.__c&&(window.__c[i["data-select"]]=t));var w={},b=void 0,C=!t.src||t.src&&-1!=t.src.indexOf("defaultImg"),S=window.h5ImgUrl+t.src;window.isLocal&&(S="images/"+/\/([^\/]*?\.(jpg|png|svg|jpeg|gif|webp|bmp))/i.exec(t.src)[1]),C?b="cImg default-img material-icons":(w.backgroundImage="url("+S+")",b="cImg"),l=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:s,style:f,ref:"contr","data-state":o},h,i),m,_react2["default"].createElement("div",{className:"cutImgOutBox"},C?_react2["default"].createElement("div",{className:b,style:w}):_react2["default"].createElement("img",{className:b,src:S})),_react2["default"].createElement("div",{className:"insetBorder"}),g);break;case"tableCell":l=_react2["default"].createElement("td",(0,_extends3["default"])({key:n,id:n,className:(0,_classnames2["default"])(n+" "+t.vertical+" "+t.horizontal,{tB:t.isB,tI:t.isI,tU:t.isU,tS:t.isS,"no-border-top":t.noBorderTop,"no-border-right":t.noBorderRight,"no-border-bottom":t.noBorderBottom,"no-border-left":t.noBorderLeft}),colSpan:t.colSpan,rowSpan:t.rowSpan,width:t.width,height:t.height},i),t.content);break;case"table":var x=[],E="table-style-"+t.styleIndex,P={};t.linePosi.forEach(function(n,r){var o=[];t.columnPosi.forEach(function(a,s){if(!P[s+"_"+r]){var l=$.getOneCellData(t.child[s+"_"+r]),c=l&&l.mergeColumn?+l.mergeColumn+1:1,f=l&&l.mergeLine?+l.mergeLine+1:1;if(c>1)for(var h=c-1;h>0;h--)P[h+s+"_"+r]=!0;if(f>1)for(var g=f-1;g>0;g--)P[s+"_"+(r+g)]=!0;o.push(_react2["default"].createElement(ContrComp,(0,_extends3["default"])({key:s+"_"+r,contr:$.extend(!0,$.extend(!0,{type:"tableCell",id:s+"_"+r,colSpan:c,rowSpan:f,width:a*c,height:n*f,noBorderTop:0==r,noBorderRight:s+c==t.columnPosi.length,noBorderBottom:r+f==t.linePosi.length,noBorderLeft:0==s},l),l.text),page:e.props.page,pageIndex:e.props.pageIndex,isMergeBox:!0,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,parentStateCache:p||e.props.parentStateCache,stateAncestor:u,ancestorState:d,symbolChild:T,symbolParent:j},i)))}}),x.push(_react2["default"].createElement("tr",{key:r},o))}),l=_react2["default"].createElement("table",(0,_extends3["default"])({key:n,id:n,className:s+" "+E,ref:"contr",cellPadding:"0"},h,i),m,_react2["default"].createElement("tbody",null,x));break;case"symbol":case"wrapbox":var T=e.props.symbolChild,j=e.props.symbolParent;"symbol"==t.type&&(T=T?$.extend(!0,$.extend(!0,{},t.children),T):$.extend(!0,{},t.children),(j=j?j.concat():[]).push(n));var I=[];t.hierarchy&&t.hierarchy.concat().reverse().forEach(function(r){var o=t.contrs[r];if(!o)return!1;var a=$.getContrId(o),s=-1!==e.props.updateParent.indexOf(r),l=e.props.mustChange||e.props.updateContrId==r;("page"==e.props.updateType||s||l)&&(o=_DataHandle2["default"].getAllValsContr({contrKey:o,symbolChild:T})),I.push(_react2["default"].createElement(ContrComp,(0,_extends3["default"])({key:a,contr:o,page:e.props.page,pageIndex:e.props.pageIndex,isMergeBox:!0,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,isUpdateParent:s,mustChange:l,parentStateCache:p||e.props.parentStateCache,stateAncestor:u,ancestorState:d,symbolChild:T,symbolParent:j,select:e.props.select+(e.props.select?" .":".")+n},i)))}),l=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:s,style:f,ref:"contr","data-state":o},h,i),m,_react2["default"].createElement("div",{className:"childrenBox"+(!window.isMobile&&a?" dragscroll":""),onWheel:!window.isMobile&&a?e.stopPropagation:null},I),_react2["default"].createElement("div",{className:"insetBorder"}),g)}return l}},{key:"setEvents",value:function(){var e=this.props.contr.events;if(e&&0!==$.objLength(e)){var t=_EventHandle2["default"].setEvents({events:e,updateParent:this.props.updateParent,pageIndex:this.props.pageIndex,pageKey:this.props.page.key,targetId:$.getContrId(this.props.contr),type:this.props.contr.type,symbolParent:this.props.symbolParent});this.setState({timers:t.timers,eventHammers:t.eventHammers,eTypeClass:t.eTypeClass,renderChange:this.state.renderChange+1})}}},{key:"offEvents",value:function(){_EventHandle2["default"].offEvents({pageKey:this.props.page.key,targetId:$.getContrId(this.props.contr),eventHammers:this.state.eventHammers,eTypeClass:this.state.eTypeClass,type:this.props.contr.type,timers:this.state.timers,symbolParent:this.props.symbolParent})}},{key:"focus",value:function(){$("#"+$.getContrId(this.props.contr)+" p").focus()}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ContrComp}(_react2["default"].Component),_default=ContrComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ContrComp,"ContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Contr.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Contr.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_Contr=__webpack_require__(736),_Contr2=_interopRequireDefault(_Contr),_Note=__webpack_require__(733),_Note2=_interopRequireDefault(_Note),_DataHandle=__webpack_require__(439),_DataHandle2=_interopRequireDefault(_DataHandle),_EventHandle=__webpack_require__(476),_EventHandle2=_interopRequireDefault(_EventHandle);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var PageComp=function(_React$Component){function PageComp(){(0,_classCallCheck3["default"])(this,PageComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PageComp.__proto__||(0,_getPrototypeOf2["default"])(PageComp)).call(this));return e.state={renderChange:1},e}return(0,_inherits3["default"])(PageComp,_React$Component),(0,_createClass3["default"])(PageComp,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.renderChange==t.renderChange;return"page"==e.updateType?"web"==$.getPlatform(window.platform)?e.active&&n:e.active&&(!window.loadPages[e.page.key]||!!e.reset||_EventHandle2["default"].hasTmEvents(e.page.key))&&n:"contr"==e.updateType?e.active&&n:void 0}},{key:"componentDidMount",value:function(){this.initPage()}},{key:"componentWillUpdate",value:function(e){"page"==e.updateType&&this.offEvents()}},{key:"componentDidUpdate",value:function(){"page"==this.props.updateType&&this.initPage()}},{key:"render",value:function(){var e=this,t=e.props.page,n=[],r=window.pages[e.props.index].stateCache,i=void 0;return t.active&&(window.loadPages[t.key]=!0,t.contrs.forEach(function(i){var o=$.getContrId(i),a=i,s=-1!==e.props.updateParent.indexOf(o),l=e.props.updateContrId==o;("page"==e.props.updateType||s||l)&&(a=_DataHandle2["default"].getAllValsContr({contrKey:i})),n.push(_react2["default"].createElement(_Contr2["default"],{key:o,contr:a,page:t,pageIndex:e.props.index,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,isUpdateParent:s,mustChange:l,parentStateCache:r,select:""}))}),t.pageHeight&&(i=_react2["default"].createElement("div",{className:"page-placeholder"}))),_react2["default"].createElement("div",{key:"page"+t.key,id:"page"+t.key,"data-islandscape":t.isLandscape?"true":"false",ref:"page",className:(0,_classnames2["default"])("page",{current:t.active,isLandscape:t.isLandscape,"container-height":"web"==$.getPlatform(window.platform)}),"data-key":t.key,"data-direction":"y"},i,n,!window.isMobile&&t.note&&t.note.length>0?_react2["default"].createElement(_Note2["default"],{noteList:t.note,pageId:t.key||"1"}):undefined)}},{key:"setEvents",value:function(){var e=this.props.page.events;e&&0!==$.objLength(e)&&_EventHandle2["default"].setEvents({events:e,updateParent:this.props.updateParent,pageIndex:this.props.pageIndex,pageKey:this.props.page.key,targetId:"page"+this.props.page.key,type:"page"})}},{key:"offEvents",value:function(){this.props.page.events&&$("#page"+this.props.page.key).children(".gesture-tag").remove()}},{key:"initPage",value:function(){var e=this.props.page.key,t=["page"+e];if("mobile"==$.getPlatform(window.platform))new PreventOverScroll({list:t});if($.fixPageScroll(e),this.props.page.active&&(this.setEvents(),!window.isMobile)){var n=$.isUndefined(this.props.page.pageHeight)?$.getElById("page"+e).scrollHeight:this.props.page.pageHeight*window.ss;$.getElById("page"+e).style.height=n+"px"}}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PageComp}(_react2["default"].Component),_default=PageComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(PageComp,"PageComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Page.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Page.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_DistanceMeasureStore=__webpack_require__(71),_DistanceMeasureStore2=_interopRequireDefault(_DistanceMeasureStore),_ProtoPreviewStore=__webpack_require__(63),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_hammer=__webpack_require__(538),_hammer2=_interopRequireDefault(_hammer),_Page=__webpack_require__(737),_Page2=_interopRequireDefault(_Page),_DataHandle=__webpack_require__(439),_DataHandle2=_interopRequireDefault(_DataHandle),_EventHandle=__webpack_require__(476),_EventHandle2=_interopRequireDefault(_EventHandle);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var PageContainerComp=function(_React$Component){function PageContainerComp(){(0,_classCallCheck3["default"])(this,PageContainerComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PageContainerComp.__proto__||(0,_getPrototypeOf2["default"])(PageContainerComp)).call(this));return e.state={pages:window.pages,updateType:"page",updateParent:[]},e.updatePage=e.updatePage.bind(e),e.updateContr=e.updateContr.bind(e),e.touchStartFunc=e.touchStartFunc.bind(e),e.mouseDownFunc=e.mouseDownFunc.bind(e),_EventHandle2["default"].setUpdateFunc(e.updatePage,e.updateContr),window.goToPage=_EventHandle2["default"].goToPage,e}return(0,_inherits3["default"])(PageContainerComp,_React$Component),(0,_createClass3["default"])(PageContainerComp,[{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"componentDidMount",value:function(){var e=$.getElById("appContainer");(0,_hammer2["default"])(new Hammer(e,{touchAction:"auto"})).on("tap",function(e){if($(e.target).hasClass("gesture-tag"))return!1;var t=$(".current .event-show").add(".current.event-show");t.hasClass("animating")||(t.addClass("animating"),setTimeout(function(){t.removeClass("animating")},2e3)),e.stopPropagation()});new PreventOverScroll({list:["pageMask"]})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=[],n={},r=window.isWxxcx||$.getUrlParam("fromApp"),i=e.props,o=i.width,a=i.height,s=i.left,l=i.top,c=void 0;return e.state.pages.forEach(function(n,r){n.active&&(c=n),t.push(_react2["default"].createElement(_Page2["default"],{key:"page"+n.key,index:r,page:n,active:n.active,reset:e.state.reset,updateType:e.state.updateType,updateParent:e.state.updateParent,updateContrId:e.state.updateContrId}))}),e.props.scale&&(n.transform="scale("+e.props.scale+")"),o&&(n.width=o,"web"!=window.platform?(n.height=a,n.left=s,n.top=l):(n.height=c.pageHeight||_ProtoPreviewStore2["default"].getScrollObj().scrollHeight/e.props.scale,n.maxHeight=($.getWinSize().height-45)/e.props.scale)),_react2["default"].createElement("div",{id:"pageContainer",className:"pageContainer"+("web"!=window.platform?" is-mobile":""),style:n,onTouchStart:window.isWxxcx?e.touchStartFunc:$.noop,onMouseDown:window.isWxxcx||"web"==window.platform?$.noop:e.mouseDownFunc},t,_react2["default"].createElement("div",{id:"pageMask",className:"page-mask "}),r?_react2["default"].createElement("div",{className:"app-exit-guide"},_react2["default"].createElement("div",{className:"guide-box"},_react2["default"].createElement("div",{className:"guide-img"}),_react2["default"].createElement("p",null,"三指点击退出预览"))):undefined)}},{key:"touchStartFunc",value:function(e){3===e.touches.length&&window.wx&&window.wx.miniProgram.navigateBack()}},{key:"mouseDownFunc",value:function(e){if($.setDrag){var t=_ProtoPreviewStore2["default"].getScrollObj(),n=t.scrollTop,r=t.scrollHeight,i=this.props.scale,o=e.clientY,a=-1;$.setDrag({name:"pageContainerDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){_DistanceMeasureStore2["default"].initContr();var t=$.setRegion(n+(e.clientY-o)/i,window.phoneSize.height-r,0);a!=t&&(a=t,_ProtoPreviewStore2["default"].setScrollObj({scrollTop:t}))}})}}},{key:"updatePage",value:function(e,t){t&&_DataHandle2["default"].initPageState(e),this.setState({page:window.pages,updateType:"page",reset:t})}},{key:"updateContr",value:function(e){var t=e.parentArr||_DataHandle2["default"].getContrAllParent(_DataHandle2["default"].getContrByAll(e.contrId));_DataHandle2["default"].changeState(e),this.setState({updateType:"contr",updateParent:t,updateContrId:e.contrId})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PageContainerComp}(_react2["default"].Component),_default=PageContainerComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(PageContainerComp,"PageContainerComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/PageContainer.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/PageContainer.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";var r,i=function(e){return e&&e.__esModule?e:{"default":e}}(n(85));!function(){function o(e,t){for(var n=e.cssRules||e.rules||[],r=0;r<n.length;r++){var i=n[r];i.type==CSSRule.IMPORT_RULE?o(i.styleSheet,t):i.type!==CSSRule.KEYFRAMES_RULE&&i.type!==CSSRule.MOZ_KEYFRAMES_RULE&&i.type!==CSSRule.WEBKIT_KEYFRAMES_RULE||t(i,e,r)}}function a(e){this.original=e,this.keyText=e.keyText,this.css={};for(var t=e.style.cssText.split(";"),n=0;n<t.length;n++){var r=t[n].split(":");if(2==r.length){var i=r[0].replace(/^\s+|\s+$/g,""),o=r[1].replace(/^\s+|\s+$/g,"");this.css[i]=o}}}function s(e){this.original=e,this.name=e.name,this.keyframes=[],this.keytexts=[],this.keyframeHash={},this.initKeyframes()}function l(){this.animations={};for(var e=document.styleSheets,t=this.animations,n=0;n<e.length;n++)try{o(e[n],function(e){t[e.name]=new s(e)})}catch(r){}}s.prototype.initKeyframes=function(){this.keyframes=[],this.keytexts=[],this.keyframeHash={};for(var e=this.original,t=0;t<e.cssRules.length;t++){var n=new a(e.cssRules[t]);this.keyframes.push(n),this.keytexts.push(n.keyText),this.keyframeHash[n.keyText]=n}},s.prototype.getKeyframeTexts=function(){return this.keytexts},s.prototype.getKeyframe=function(e){return this.keyframeHash[e]},s.prototype.setKeyframe=function(e,t){var n=e+" {";for(var r in t)n+=r+":"+t[r]+";";if(n+="}","appendRule"in this.original)this.original.appendRule(n);else{for(var i=0;i<this.keytexts.length;i++)this.keytexts[i]==e&&this.original.deleteRule(this.keyframes[i].keyText);this.original.insertRule(n)}return this.initKeyframes(),this},s.prototype.setKeyframes=function(e){for(var t in e)this.setKeyframe(t,e[t])},s.prototype.clear=function(){for(var e=0;e<this.keyframes.length;e++)this.original.deleteRule(this.keyframes[e].keyText)},l.prototype.get=function(e){return this.animations[e]},l.prototype.getFrames=function(e){for(var t=this.animations[e].keyframes,n={},r=0;r<t.length;r++)if(-1!=t[r].keyText.indexOf(","))for(var i=t[r].keyText.split(","),o=0;o<i.length;o++)n[i[o]]=t[r].css;else n[t[r].keyText]=t[r].css;return n},l.prototype.clone=function(e,t){return this.create(t,this.getFrames(e))},l.prototype.getDynamicSheet=function(){if(!this.dynamicSheet){var e=document.createElement("style");e.rel="stylesheet",e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),this.dynamicSheet=e.sheet}return this.dynamicSheet},l.prototype.create=function(e,t){var n=this.getDynamicSheet();"object"===(void 0===e?"undefined":(0,i["default"])(e))&&(t=e,e=null),e||(e="anim"+Math.floor(1e5*Math.random()));try{var r=n.insertRule("@keyframes "+e+"{}",n.cssRules.length)}catch(a){if("SYNTAX_ERR"!=a.name&&"SyntaxError"!=a.name)throw a;r=n.insertRule("@-webkit-keyframes "+e+"{}",n.cssRules.length)}var o=new s(n.cssRules[r]);return this.animations[e]=o,t&&o.setKeyframes(t),o},l.prototype.remove=function(e){var t=this.getDynamicSheet();e=e instanceof s?e.name:e,this.animations[e]=null;try{o(t,function(t,n,r){t.name==e&&n.deleteRule(r)})}catch(n){}},(r=function(){return new l}.call(t,n,t,e))===undefined||(e.exports=r)}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var r={content:"文本",fontSize:14,lineHeight:5,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},i={multiple:1,filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!0,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},o={filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,isOpen:!1,mergeName:null,left:0,top:0},a={filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},s={isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},l={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},c={width:600,height:240,isLock:!1,isShow:!0,opacity:100,rotate:0,isOpt:!1,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",left:0,top:0,outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],styleIndex:0,shadow:0},u={name:"",border:["rgba(216, 216, 216, 1)",0],hasBackColor:!1,backColor:"rgba(153, 153, 153, 1)",opacity:100,columnIndex:0,lineIndex:0,mergeColumn:0,mergeLine:0,mergeKey:""},d={content:"",fontSize:14,lineHeight:5,indent:0,adjaceney:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hL",vertical:"vM"},p=["isDepend","dependType"],f=["name","content","mergeName"],h=["contrs","width","height","hierarchy"],g=["name","width","height","top","left","id","type","oriWidth","oriHeight","oriName","multiple","src","cutVals","contrs","content","hasBackColor","backColor","isBaseShape","baseContrType","hierarchy","fontSize","textColor","isB","serverKey","radius","lineHeight","horizontal","rotate","opacity","outerHidden","shadow","WHrelation","iconKey","iconColor","isMaxRadius","events","border","indent","adjaceney","textShadow","isI","isU","vertical","filter","isLock","isShow","insetBorder","isOpt","isOpenState","states","state","stateNum","isStateContrast","transition","dependType","isDepend","scrollX","scrollY","stateBindMove","userKey","outerBorder","innerBorder","styleIndex","columnIndex","lineIndex","mergeColumn","mergeLine","mergeKey","lineMin","rowMin","linePosi","columnPosi","mergeName"],m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59"],_={text:r,image:i,wrapbox:o,icon:a,hotspot:s,symbol:l,table:c};function v(e,t){for(var n in e){var r=e[n],i=t[n];$.isUndefined(i)||($.isArray(r)&&2==r.length&&r[0]==i[0]&&r[1]==i[1]?delete t[n]:r==i&&delete t[n])}}var y={removeInitVal:function(e,t,n,r){if($.isArray(e))e.forEach(function(e){y.removeInitVal(e,undefined,n,r)});else{var i=void 0,o=_[e.type];if("wrapbox"==e.type)for(var a in e.contrs)y.removeInitVal(e.contrs[a],!0,n,r);if(!window.isMobile&&(n?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(i=n?window.phoneBaseSize.height/window.phoneSize.height:window.phoneBaseSize.width/window.phoneSize.width,$.otherSizeChangeContr(e,i,!0)),o){if(o==l&&(r&&-1==r.indexOf(e.symbolKey)&&r.push(e.symbolKey),h.forEach(function(t){$.isUndefined(e[t])||delete e[t]})),o==c&&e&&e.child)for(var s in e.child){var p=e.child[s];p.text&&($.isUndefined(p.text.lastContent)||delete p.text.lastContent,v(d,p.text),y.changeNameToKey(p.text)),v(u,p),y.changeNameToKey(p)}for(var f in $.isUndefined(e.src)||0!=e.src.indexOf("data:image")&&0!=e.src.indexOf("blob:")||(e.src="/userImages/defaultImage.png",$&&$.updateImage&&$.updateImage(e)),o){var g=o[f],m=e[f];if(!$.isUndefined(m))if($.isArray(g)&&g[0]==m[0]&&g[1]==m[1])delete e[f];else if("isOpen"==f||"isOpt"==f)delete e[f];else if("filter"==f&&0==$.objLength(m))delete e[f];else if("cutVals"==f&&null==m)delete e[f];else if("cutVals"==f){var w=$.getDefaultCutVals(e);for(var b in w)"oriHeight"==b||"oriLeft"==b||"oriTop"==b||"oriWidth"==b?delete e[f][b]:Math.abs(+e[f][b]-+w[b])<.5&&delete e[f][b];0==$.objLength(e[f])&&delete e[f]}else g==m&&delete e[f]}t&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType,$.isUndefined(e.id)||delete e.id,$.isUndefined(e.type)||delete e.type,$.isUndefined(e.mergeName)||delete e.mergeName),$.isUndefined(e.interfaceId)&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType),$.isUndefined(e.transition)||y.removeTransition(e.transition),$.isUndefined(e.states)||y.statesChangeNameToKey(e.states),$.isUndefined(e.thisSelf)||delete e.thisSelf,$.isUndefined(e.hoverState)||delete e.hoverState,$.isUndefined(e.isStructOpen)||delete e.isStructOpen,$.isUndefined(e.interfaceId)||delete e.interfaceId,$.isUndefined(e.lastContent)||delete e.lastContent,$.isUndefined(e.isEdit)||delete e.isEdit,$.isUndefined(e.copyKey)||delete e.copyKey,y.changeNameToKey(e)}}},addInitVal:function(e,t,n,r,i){if($.isArray(e)){var o=[];e.forEach(function(e,n){e[6]||e.type?y.addInitVal(e,t,undefined,undefined,i):(o.push(n),log("数据异常",e))}),o.length>0&&o.reverse().forEach(function(t){e.splice(t,1)})}else{var a=void 0;if(y.changeKeyToName(e),$.isUndefined(e.states)||y.statesChangeKeyToName(e.states),!$.isUndefined(e.stateNum)&&$.isUndefined(e.hoverState)&&(e.hoverState={}),n){var s=n.split("_");e.type=s[0],e.id=s[1]}r&&(e.mergeName=r),$.isUndefined(t)||(e.interfaceId=t);var l=_[e.type];if("wrapbox"==e.type){var c=[];if(e.hierarchy)for(var u in e.hierarchy.forEach(function(n){e.contrs[n]&&(c.push(n),y.addInitVal(e.contrs[n],t,n,e.type+"_"+e.id,i))}),e.contrs)-1==c.indexOf(u)&&e.contrs[u]&&(c.push(u),y.addInitVal(e.contrs[u],t,u,e.type+"_"+e.id,i));e.hierarchy=c}if(e&&"table"==e.type&&e.child)for(var d in e.child){var p=e.child[d];p.text&&y.changeKeyToName(p.text),y.changeKeyToName(p)}if(l)for(var f in l){var h=l[f],g=e[f];$.isUndefined(g)?$.isArray(h)?e[f]=h.concat():e[f]="filter"==f?{}:"cutVals"==f?null:h:"isOpen"==f?e[f]=!1:"cutVals"==f&&(e[f]=$.extend($.getDefaultCutVals(e),e[f]))}!window.isMobile&&(i?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(a=i?window.phoneSize.height/window.phoneBaseSize.height:window.phoneSize.width/window.phoneBaseSize.width,$.otherSizeChangeContr(e,a,!0))}},statesChangeNameToKey:function(e){for(var t in e){var n=e[t].contrs,r=e[t].transition;for(var i in $.isUndefined(r)||y.removeTransition(r),n)y.changeNameToKey(n[i],!0)}},changeNameToKey:function(e,t){for(var n in e)if(t&&-1!=p.indexOf(n)&&!$.isUndefined(e[n]))delete e[n];else{-1==f.indexOf(n)&&(e[n]=$.floatNum(e[n],2));var r=g.indexOf(n);-1==r||$.isUndefined(e[n])||(e[m[r]]=e[n],delete e[n])}},statesChangeKeyToName:function(e){for(var t in e){var n=e[t].contrs;for(var r in n)y.changeKeyToName(n[r],!0)}},changeKeyToName:function(e,t){for(var n in e){var r=m.indexOf(n);-1==r||$.isUndefined(e[n])||(t&&-1!=p.indexOf(g[r])||(e[g[r]]=e[n],-1!=f.indexOf(g[r])&&(e[g[r]]=""+e[g[r]])),delete e[n])}},removeTransition:function(e){for(var t in e){var n=e[t].contrs;for(var r in n){var i=n[r].units[0];!$.isUndefined(i.keyframes)&&2!=$.objLength(i.keyframes)||!$.isUndefined(i.props)&&0!=$.objLength(i.props)?($.isUndefined(i.index)||delete i.index,$.isUndefined(i.props)||0!=$.objLength(i.props)||delete i.props,$.isUndefined(i.keyframes)||2!=$.objLength(i.keyframes)||delete i.keyframes,$.isUndefined(i.active)||delete i.active):$.isUndefined(n[r])||delete n[r]}}}},w=y;t["default"]=w,function(){var t=n(1)["default"],b=n(1).leaveModule;t&&(t.register(r,"TEXT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(i,"IMAGE_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(o,"WRAP_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(a,"ICON_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(s,"HOT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(l,"SYMBOL_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(c,"TABEL_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(u,"TABEL_CHILD_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(d,"TABAL_TEXT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(p,"REMOVE_INSTATE_VAL","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(f,"NOT_NUM_KEY","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(h,"SYMBOL_DELETE_KEY","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(g,"NAME_ARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(m,"KEY_ARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(_,"typeObj","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(v,"initValRmove","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(y,"ContrInitHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),t.register(w,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b(e))}()}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=n(1).enterModule;t&&t(e)}();var i={},o=!1,a=!1,s=void 0,l={left:0,top:0,width:0,height:0},c=!1,u=void 0,d=void 0,p={getAllContrsData:function(){return i},init:function(e){var t=$.extend({},e);i={},l={left:0,top:0,width:0,height:0},o=!$.isUndefined(t.isMobile)&&t.isMobile,a=!$.isUndefined(t.isImage)&&t.isImage,s=$.isUndefined(t.serverId)?"":t.serverId,c=!$.isUndefined(t.isLocalResize)&&t.isLocalResize},getSymbolVal:function(e){if(e.symbolKey&&window.symbolContrs.symbols){var t=window.symbolContrs.symbols[e.symbolKey];t&&(e.hierarchy=t.hierarchy,e.width=t.width,e.height=t.height,e.contrs={},e.hierarchy&&e.hierarchy.forEach(function(t){e.contrs[t]=window.symbolContrs.contrs[t]}))}},getPage:function(e,t){d=e.pageHeight;var n="",r=_(e);return u=e.isLandscape,e.contrs.forEach(function(e){var i={thisDom:"",thisCss:""};if(c&&!e.isDepend)return!1;switch(e.type){case"text":i=p.getText(e,!1,t);break;case"hotspot":a||(i=p.getHotspot(e,!1,t));break;case"icon":i=p.getIcon(e,!1,t);break;case"image":i=p.getImage(e,!1,t);break;case"table":i=p.getTable(e,!1,t);break;case"wrapbox":i=p.getWrapbox(e,!1,t);break;case"symbol":p.getSymbolVal(e);var o=$.extend(!0,{},e.children);i=p.getWrapbox(e,!1,t,undefined,undefined,o)}n+=i.thisDom,r+=i.thisCss}),{thisDom:'<div class="page'+(e.active?" current":"")+'" id = "page'+e.key+'" data-key = "'+e.key+'">'+n+"\n</div>",thisCss:r}},getText:function(e,t,n,r,o){var s=$.getContrId(e),l=e.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;");i[s]=e,a&&r&&r[s]&&r[s].state&&(e.state=$.extend(e.state,r[s].state));var c=v(e,t,n,($.isUndefined(o)||o)&&"-1"==E(e));return{thisDom:'<div class="textC '+(t?"mDiv":"cDiv")+" "+c.stateId+" "+s+'" id="'+s+'" data-state="'+c.state+'">\n\t<p class="content '+e.vertical+" "+e.horizontal+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+(e.isS?" tS":"")+'">'+l+"</p>\n</div>",thisCss:c.cssStr}},getHotspot:function(e,t,n){var r=$.getContrId(e),o=v(e,t,n,!0);return i[r]=e,{thisDom:'<div class="hotspotC '+(t?"mDiv":"cDiv")+" "+r+'" id="'+r+'"></div>',thisCss:o.cssStr}},getIcon:function(e,t,n,r,o){var s=$.getContrId(e);i[s]=e,a&&r&&r[s]&&r[s].state&&(e.state=$.extend(e.state,r[s].state));var l=v(e,t,n,($.isUndefined(o)||o)&&"-1"==E(e));return{thisDom:'<div class="iconC '+(t?"mDiv":"cDiv")+" "+l.stateId+" "+s+'" id="'+s+'" data-state="'+l.state+'">\n\t<i class="material-icons icon iconfont">'+e.iconKey+"</i>\n</div>",thisCss:l.cssStr}},getImage:function(e,t,n,o,s){var l=$.getContrId(e),c=void 0,u="";i[l]=e,a&&o&&o[l]&&o[l].state&&(e.state=$.extend(e.state,o[l].state));var d=v(e,t,n,($.isUndefined(s)||s)&&"-1"==E(e));return!e.src||e.src&&-1!=e.src.indexOf("defaultImg")?c="cImg default-img material-icons":(u="background-image:url("+(r.staticUrl+e.src)+")",c="cImg"),{thisDom:'<div class="imageC '+(t?"mDiv":"cDiv")+" "+d.stateId+" "+l+'" id="'+l+'" data-state="'+d.state+'">\n\t<div class="cutImgOutBox">\n\t\t<div class="'+c+'" style="'+u+'"></div>\n\t</div>\n\t<div class="insetBorder"></div>\n</div>',thisCss:d.cssStr}},getTableCell:function(e){var t=$.getContrId(e),n=v(e);return{thisDom:'<td class="'+t+" "+e.vertical+" "+e.horizontal+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+(e.isS?" tS":"")+'" id="'+t+'" data-state="'+n.state+'" colSpan="'+e.colSpan+'" rowSpan="'+e.rowSpan+'" width="'+e.width+'" height="'+e.height+'">'+e.content+"\n</div>",thisCss:n.cssStr}},getTable:function(e,t,n){var r=$.getContrId(e);i[r]=e;var o="table-style-"+e.styleIndex,a="",s="";$.isArray(e.linePosi)||(e.linePosi=[e.linePosi]),e.linePosi.forEach(function(t,n){var i="";$.isArray(e.columnPosi)||(e.columnPosi=[e.columnPosi]),e.columnPosi.forEach(function(o,a){var l=$.getOneCellData(e.child[a+"_"+n]),c=l&&l.mergeColumn?+l.mergeColumn+1:1,u=l&&l.mergeLine?+l.mergeLine+1:1;if(!l.mergeKey){var d=p.getTableCell($.extend(!0,$.extend(!0,{type:"tableCell",id:a+"_"+n,parentClass:r,colSpan:c,rowSpan:u,width:o*c,height:t*u,noBorderTop:0==n,noBorderRight:a+c==e.columnPosi.length,noBorderBottom:n+u==e.linePosi.length,noBorderLeft:0==a},l||{}),l.text));i+="\n"+d.thisDom,s+=d.thisCss}}),a+="\n<tr>"+i+"</tr>"}),s&&(s="/* 表格#"+r+" 单元格--start */\n"+s+"/* 表格#"+r+" 单元格--end */\n");var l=v(e,t,n,!0);return{thisDom:'<table class="tableC '+(t?"mDiv":"cDiv")+" "+l.stateId+" "+r+" "+o+'" id="'+r+'" data-state="'+l.state+'"><tbody>'+a+"\n</tbody>\n</table>",thisCss:l.cssStr+s}},getWrapbox:function(e,t,n,r,o,s){var l,u=$.getContrId(e),d="",f="",h=!e.outerHidden&&n,g=r||{};i[u]=e,a&&g[u]&&g[u].state&&(e.state=$.extend(!0,e.state,g[u].state));var m=E(e),_=($.isUndefined(o)||o)&&"-1"==m;-1!=m&&e.states&&e.states[m]&&$.extend(!0,g,e.states[m].contrs),!c&&e.hierarchy&&e.hierarchy.concat().reverse().forEach(function(t){var n=void 0,r=e.contrs[t];if(r){if("text"==r.type)n=p.getText(r,!0,h,g,_);else if("hotspot"==r.type)n=p.getHotspot(r,!0);else if("icon"==r.type)n=p.getIcon(r,!0,h,g);else if("image"==r.type){var i=$.getContrId(r);s&&s[i]&&s[i].cutVals&&(r.cutVals=s[i].cutVals),n=p.getImage(r,!0,h,g)}else if("table"==r.type)n=p.getTable(r,!0,h,g);else if("wrapbox"==r.type)n=p.getWrapbox(r,!0,h,g,undefined,s);else if("symbol"==r.type){p.getSymbolVal(r);var o=s;"symbol"==r.type&&(o=o?$.extend(!0,$.extend(!0,{},r.children),o):$.extend(!0,{},r.children)),n=p.getWrapbox(r,!0,h,g,undefined,o)}d+="\n"+n.thisDom,f+=n.thisCss}}),e.hierarchy&&e.hierarchy.length>0&&(f="/* 集合#"+u+" 内部元素--start */\n"+f+"/* 集合#"+u+" 内部元素--end */\n");var y=v(e,t,n,_);return l=y.cssStr+f,{thisDom:'<div class="wrapBox '+(t?"mDiv":"cDiv")+" "+y.stateId+" "+u+'" id="'+u+'" data-state="'+y.state+'"><div class="childrenBox">'+d+'\n</div>\n\t<div class="insetBorder"></div>\n</div>',thisCss:l}}};function f(e,t,n,r){var i={},s=g(e),l=t[e],c=null;switch(e){case"textShadow":r&&x(e,l)||(c=S(l,"number")?"rgba(0,0,0,0.5) 0 "+S(l)+" "+S(l):"none");break;case"opacity":r&&x(e,l)||(c=$.isUndefined(l)?null:Math.round(l)/100);break;case"insetBorder":case"innerBorder":"innerBorder"!=e&&r&&x(e,l[1])||(c=S(l[1])+" "+$.getBorderStyle("style",l[2])+" "+l[0],"insetBorder"==n&&$.extend(!0,i,f("radius",t)));break;case"outerBorder":c=S(l[1])+" "+$.getBorderStyle("style",l[2])+" "+l[0],$.extend(!0,i,{top:"-"+S(l[1]/2),left:"-"+S(l[1]/2),width:"calc(100% - "+S(l[1])+")",height:"calc(100% - "+S(l[1])+")"});break;case"border":if("outerBorderBox"==n){var p=t.type,m={border:S(t.border[1])+" "+$.getBorderStyle("style",t.border[2])+" "+t.border[0]};"image"==p||"wrapbox"==p?(m.top="-"+S(t.border[1]),m.left=m.top):(m.top="-"+S(t.border[1]+(t.insetBorder?t.insetBorder[1]:0)),m.left=m.top,m.width="calc(100% + "+(t.insetBorder?S(2*t.insetBorder[1]):0)+")",m.height=m.width),$.extend(!0,i,m)}break;case"shadow":if(t.border||(t.border=["rgba(0, 0, 0, 0)",0]),!(r&&x("border",t.border[1])&&x("shadow",t.shadow))){var _="";!t.border&&"table"!=t.type||$.isUndefined(t.shadow)||"0"==t.shadow||(_=$.isArray(t.shadow)?S(t.shadow[0])+" "+S(t.shadow[1])+" "+S(t.shadow[2])+" "+S(t.shadow[3])+" "+t.shadow[4]+(t.shadow[5]?" inset":""):"0 "+S(t.shadow)+" "+S(t.shadow)+" "+(t.border&&t.border[1]?S(t.border[1]):0)+" rgba(0,0,0,0.5)"),c=_?""+_:"none"}break;case"cutVals":$.extend(!0,i,{width:S(l.boxWidth),height:S(l.boxHeight),"margin-left":S(l.boxLeft),"margin-top":S(l.boxTop)});break;case"filter":if(t&&t.isSvg&&t.svgToGray&&(l?l.saturate=0:l={saturate:0}),!$.isUndefined(l)&&0!==$.objLength(l)){var v=h(l);$.extend(!0,i,{filter:v,"-webkit-filter":v})}break;case"radius":case"isMaxRadius":r&&!t.isMaxRadius&&x("radius",t.radius)||(c="outerBorderBox"==n&&t.border[1]?t.isMaxRadius?S(Math.ceil(Math.min(t.width,t.height)/2)+$.getRadiusAddValue(t.radius,t.border[1])):$.isArray(t.radius)?t.radius.map(function(e){return""+S(Math.ceil(e)+$.getRadiusAddValue(e,t.border[1]))}).join(" "):S(Math.ceil(t.radius)+$.getRadiusAddValue(t.radius,t.border[1])):t.isMaxRadius?S(Math.min(t.width,t.height)/2):$.isArray(t.radius)?t.radius.map(function(e){return""+S(e)}).join(" "):$.isUndefined(t.radius)?null:S(t.radius));break;case"backColor":case"hasBackColor":if("img"==n)$.extend(!0,i,f("src",t,n,r));else if(!r||t.hasBackColor)if(t.gradientColor&&t.hasBackColor)c=t.gradientColor;else if(t.hasBackColor)if($.isLineContr(t)){var y="hLine"==t.baseContrType?t.height:t.width;"hLine"==t.baseContrType?$.extend(!0,i,{"border-top":S(y)+" "+$.getBorderStyle("style",t.lineStyle)+" "+t.backColor}):$.extend(!0,i,{"border-left":S(y)+" "+$.getBorderStyle("style",t.lineStyle)+" "+t.backColor})}else c=t.backColor;else c="transparent";break;case"src":s="background-color";var w=!t.src||t.src&&-1!=t.src.indexOf("defaultImg");w&&(c=t.hasBackColor?t.backColor:"#D9D9D9"),r||w&&!t.hasBackColor||(c="transparent");break;case"textColor":case"iconColor":r&&x(e,l)||(c=l);break;case"lineHeight":r&&x(e,l)||(c=10*Math.round(l+5)+"%");break;case"isShow":case"isDelete":var b=!1!==t.isShow&&!t.isDelete;r&&b||(c=b?"block":"none",b?$.extend(!0,i,f("opacity",{opacity:t.opacity})):$.extend(!0,i,f("opacity",{opacity:0})));break;case"rotate":r&&x(e,l)||(c=l,$.extend(!0,i,f("left",t,n)),$.extend(!0,i,f("top",t,n)));break;case"outerHidden":c=l?"hidden":null;break;case"scrollX":case"scrollY":c=l&&!a?"scroll":null;break;case"fontSize":if(!o&&Math.ceil(l)<12){var C=parseFloat(l/12).toFixed(2),E=(t.autoW&&"hC"==t.horizontal?"translateX(-50%)":"")+" "+("vM"==t.vertical?"translateY(-50%)":"")+" scale("+C+")!important";$.extend(!0,i,{transform:E,width:S(t.width/C)}),c=S(12)}else c=S(l);break;case"top":t.isDepend&&"bm"==t.dependType?$.extend(!0,i,f("isDepend",t)):c=S(l);break;case"isDepend":if(l){var P=window.isLocal?1:0;if($.extend(!0,i,{position:"fixed"}),t.rotate||"0"!=t.rotate||$.extend(!0,i,{transform:"translateZ(0)","-webkit-transform":"translateZ(0)"}),"bm"==t.dependType){var T=0;"web"==window.platform?d&&(T=S(d-P-(t.top+t.height))):T=S((u?$.viewSize.width:$.viewSize.height)-P-(t.top+t.height)),$.extend(!0,i,{top:"auto",bottom:T})}else window.isLocal&&$.extend(!0,i,{top:S(t.top+P)});window.isLocal&&$.extend(!0,i,{left:S(t.left+P)})}break;case"width":case"height":if("icon"==n){var j=1,I=1,k=S(Math.max(Math.max(t.width,t.height),12)),A=void 0;t.width!=t.height&&(t.width>t.height?I=t.height/t.width:j=t.width/t.height),A=1!=j||1!=I?(1!=j?"scaleX("+j+")":"")+(1!=I?" scaleY("+I+")":""):t.width<12?"scale("+t.width/12+")":"none",r&&"none"==A?$.extend(!0,i,{"font-size":k}):$.extend(!0,i,{"font-size":k,transform:A,"-webkit-transform":A})}else"textBox"==n?$.extend(!0,i,f("fontSize",t,n,r)):"self"!=n?$.extend(!0,i,f("radius",t,n,r)):(c=S(l),$.extend(!0,i,f("radius",t,n,r)));break;case"indent":case"adjaceney":r&&x(e,l)||(c=S(l));break;case"scale":$.extend(!0,i,{transform:"scale("+l/10+")","-webkit-transform":"scale("+l/10+")"});break;default:c=S(l)}return null!==c&&(i[s]=c),i}function h(e){return"blur("+(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur+"px) saturate("+(.1*e.saturate).toFixed(1)+") hue-rotate("+(e.hue-180)+"deg) brightness("+(.1*e.brightness).toFixed(1)+") contrast("+(.1*e.contrast).toFixed(1)+")"}function g(e){return{width:"width",height:"height",left:"left",top:"top",rotate:"rotation",radius:"border-radius",isMaxRadius:"border-radius",shadow:"box-shadow",opacity:"opacity",backColor:"background-color",hasBackColor:"background-color",iconColor:"color",insetBorder:"border",adjaceney:"letter-spacing",textColor:"color",fontSize:"font-size",textShadow:"text-shadow",lineHeight:"line-height",indent:"text-indent",content:"value",border:"box-shadow",isShow:"display",isDelete:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position",filter:"filter",outerBorder:"border",innerBorder:"border"}[e]}function m(e){var t={"class":"",stylesArr:c?["width","height","left","top","isDepend"]:"hotspot"==e||"icon"==e?["width","height","left","top","opacity","rotate","isShow","isDelete","isDepend"]:"table"==e?["width","height","left","top","opacity","isShow","isDelete","isDepend","backColor","hasBackColor","shadow"]:"tableCell"==e?["opacity","backColor","hasBackColor","adjaceney","indent","textColor","textShadow","fontSize","lineHeight","filter"]:["width","height","left","top","backColor","hasBackColor","radius","isMaxRadius","shadow","opacity","rotate","isShow","isDelete","isDepend"]},n={"class":">.outerBorderBox",stylesArr:["radius","isMaxRadius","width","height","border"]};switch(e){case"text":return t.stylesArr.push("insetBorder"),{self:t,textBox:{"class":" .content",stylesArr:["width","adjaceney","indent","textColor","textShadow","fontSize","lineHeight","filter"]},placeholder:{"class":" .content::-webkit-input-placeholder",stylesArr:["textColor"]},outerBorderBox:n};case"hotspot":return{self:t};case"icon":return{self:t,icon:{"class":" i",stylesArr:["iconColor","width","height"]}};case"image":return{self:t,insetBorder:{"class":" .insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},imgBox:{"class":" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height"]},img:{"class":" .cImg",stylesArr:["cutVals","filter","src","backColor","hasBackColor"]},outerBorderBox:n};case"tableCell":return{self:t};case"table":return{self:t,border:{"class":"::after",stylesArr:["outerBorder"]},cell:{"class":" td",stylesArr:["innerBorder"]}};case"wrapbox":return t.stylesArr.push("outerHidden","scrollX","scrollY"),{self:t,insetBorder:{"class":">.insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},childrenBox:{"class":">.childrenBox",stylesArr:["radius","isMaxRadius","outerHidden","scrollX","scrollY"]},outerBorderBox:n};case"symbol":return{self:{"class":"",stylesArr:["width","height","left","top","opacity","isDepend","isShow","isDelete"]},childrenBox:{"class":">.childrenBox",stylesArr:["scale"]}}}}function _(e){return"#page"+e.key+"{\n\tbackground-color:"+e.backColor+";\n}\n#page"+e.key+" .page-placeholder{\n\theight:"+(d?S(d):"100%")+";\n}\n"}function v(e,t,n,r){var i=$.getContrId(e),o=m(e.type),a="",s=e.state&&!$.isUndefined(e.state.endState)?e.state.endState:"-1",l=function(s){var l={};o[s].stylesArr.forEach(function(t){null!==e[t]&&$.extend(!0,l,f(t,e,s,!0))}),n&&"self"==s&&r&&$.extend(!0,l,y(e,t)),0!==$.objLength(l)&&(e.parentClass&&(a+="."+e.parentClass+" "),a+="."+i+o[s]["class"]+"{\n"+C(l)+"}\n")};for(var c in o)l(c);if(e.states)for(var u in e.states)a+=b(e,u,t,n);return{cssStr:a,state:s,stateId:"state"+(+s+1)}}function y(e,t){if(t)return w(e),!1;var n,r=[+e.width,+e.height],i=[1,1],o={},a=[l.left,l.top],c=[0,0],u=[0,0];if(e.border&&e.border[1]>0&&(c[0]+=2*e.border[1],c[1]+=2*e.border[1],u[0]+=e.border[1],u[1]+=e.border[1]),e.shadow>0&&(c[0]+=2*e.shadow,c[1]+=2*e.shadow,u[0]+=e.shadow),a[0]+=Math.round(Math.max(0,u[0]-a[0])),a[1]+=Math.round(Math.max(0,u[1]-a[1])),r[0]=Math.round(Math.max(c[0]+r[0],l.width+a[0])),r[1]=Math.round(Math.max(c[1]+r[1],l.height+a[1])),"0"!=e.rotate){var d=$.getRotatePos([a[1],r[0]-e.width-a[0],r[1]-e.height-a[1],a[0]],e.rotate,[e.width,e.height]);r=$.getRotateWH(e.rotate,r),a[0]=d[0],a[1]=d[1]}return r[0]>$.viewSize.width&&(i[0]=$.viewSize.width/r[0]),r[1]>$.viewSize.height&&(i[1]=$.viewSize.height/r[1]),n=Math.min(i[0],i[1]),$.extend(!0,o,f("left",{left:a[0]*n})),$.extend(!0,o,f("top",{top:a[1]*n})),1!=n&&($.extend(!0,o,{"-webkit-transform":"rotate("+e.rotate+"deg) scale("+n+")"}),r=[r[0]*n,r[1]*n]),$.contrWH[s]=r,o}function w(e){var t=[e.width,e.height],n=[e.left,e.top],r=[0,0],i=[0,0];if(e.border&&e.border[1]>0&&(r[0]+=2*e.border[1],r[1]+=2*e.border[1],i[0]+=e.border[1],i[1]+=e.border[1]),e.shadow>0&&(r[0]+=2*e.shadow,r[1]+=2*e.shadow,i[0]+=e.shadow),t[0]+=Math.round(r[0]),t[1]+=Math.round(r[1]),"0"!=e.rotate){var o=$.getRotatePos([i[1],t[0]-e.width-i[0],t[1]-e.height-i[1],i[0]],e.rotate,[e.width,e.height]);t=$.getRotateWH(e.rotate,t),i[0]=o[0],i[1]=o[1]}n[0]-i[0]<0&&(l.left=Math.max(Math.abs(n[0]-i[0]),l.left)),n[1]-i[1]<0&&(l.top=Math.max(Math.abs(n[1]-i[1]),l.top)),l.width=Math.max(l.width,t[0]+n[0]-i[0]),l.height=Math.max(l.height,t[1]+n[1]-i[1])}function b(e,t,n,r){var o=$.getContrId(e),a=m(e.type),s=e.states[t],l=".state"+(+t+1),c="",u=s.contrs[o],d=$.extend(!0,$.extend(!0,{},e),u),p=function(i){var s={};a[i].stylesArr.forEach(function(e){u&&($.isUndefined(u[e])||$.extend(!0,s,f(e,d,i)))}),n&&r&&"self"==i&&e.state&&e.state.endState==t&&w(d),0!==$.objLength(s)&&(c+="#"+o+l+a[i]["class"]+"{\n"+C(s)+"}\n")};for(var h in a)p(h);if("wrapbox"==e.type||"symbol"==e.type){var g=!d.outerHidden&&r;c+="\n/* 集合#"+o+" 状态state"+t+"下的内部元素样式--start */\n";var _=function(n){n!=o&&i[n]?function(){var r=m(i[n].type),a=s.contrs[n],u=$.extend(!0,$.extend(!0,{},i[n]),a),d=function(s){var d={};r[s].stylesArr.forEach(function(e){$.isUndefined(a[e])||a[e]==i[n][e]||$.extend(!0,d,f(e,u,s))}),g&&"self"==s&&e.state&&e.state.endState==t&&w(u),0!==$.objLength(d)&&(c+="."+o+l+" ."+n+r[s]["class"]+"{\n"+C(d)+"}\n")};for(var p in r)d(p)}():i[n]};for(var v in s.contrs)_(v);c+="/* 集合#"+o+" 状态state"+t+"下的内部元素样式--end */\n\n"}return r&&e.state&&e.state.endState==t&&(c+="#"+o+l+"{\n"+C(y(d,n))+"}\n"),c}function C(e){var t="";for(var n in e)"rotation"==n?(t+="\t-webkit-transform: rotate("+e[n]+"deg);\n",t+="\ttransform: rotate("+e[n]+"deg);\n"):t+="\t"+n+": "+e[n]+";\n";return t}function S(e,t,n){var r=n||1e3;return"number"==t?Math.round(.02*e*r)/r:"web"==window.platform?Math.round(e)+"px":Math.round(.02*e*r)/r+"rem"}function x(e,t){var n={opacity:100,lineHeight:10,fontsize:14,textColor:"rgba(80, 80, 80, 1)",iconColor:"rgba(153, 153, 153, 1)",backColor:"rgba(153, 153, 153, 1)"};return n[e]?t==n[e]:0==t}function E(e){return e.state&&!$.isUndefined(e.state.endState)?e.state.endState:"-1"}var P=p;t["default"]=P,function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(i,"contrs","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(o,"isMobile","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(a,"isImage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(s,"serverId","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(l,"cImgOri","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(c,"isLocalResize","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(u,"isLandscape","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(d,"pageHeight","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(p,"getPage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(f,"getCssObj","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(h,"getFilter","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(g,"styleDict","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(m,"getStyleCategory","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(_,"getPageStyles","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(v,"getStyles","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(y,"setContrImage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(w,"setInnerContr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(b,"getStateCss","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(C,"cssObjToStr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(S,"convertNum","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(x,"isDefault","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(E,"getStateKey","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),t.register(P,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),r(e))}()}).call(this,n(2)(e),n(138))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(69),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(317),_stringify2=_interopRequireDefault(_stringify);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var _default=$.extend($,{viewSize:{width:320,height:568},getContrId:function(e){try{return e.type+"_"+e.id}catch(t){log(t)}},getElById:function(e){return window.document.getElementById(e)},stringToObj:function(e){return e?JSON.parse(e):e},objToString:function(e){return e?(0,_stringify2["default"])(e):e},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=encodeURI(window.location.search).substr(1).match(t);return null!==n?unescape(n[2]):null},replaceParamGetUrl:function replaceParamGetUrl(_paramName,_replaceWith,url){var func=function func(_name,_replace,_url){return-1!==_url.indexOf(_name+"=")?_url=_url.replace(eval("/("+_name+"=)([^&]*)/gi"),_name+"="+_replace):-1===_url.indexOf("?")?_url+="?"+_name+"="+_replace:_url+="&"+_name+"="+_replace,_url};return $.isArray(_paramName)?_paramName.forEach(function(e,t){url=func(e,_replaceWith[t],url)}):url=func(_paramName,_replaceWith,url),url},replaceParamVal:function(e,t){var n=window.location.href.toString();(n=$.replaceParamGetUrl(e,t,n))!=window.location.href.toString()&&$.urlReplaceState(n)},removeParamGetUrl:function(e,t){if(-1!==t.indexOf("?")){var n="",r=t.substr(t.indexOf("?")+1),i="",o="";if(-1!==r.indexOf("&")){for(var a in i=r.split("&"))$.isString(i[a])&&i[a].split("=")[0]!=e&&(o=o+i[a].split("=")[0]+"="+i[a].split("=")[1]+"&");n=t.substr(0,t.indexOf("?"))+"?"+o.substr(0,o.length-1)}else n=(i=r.split("="))[0]==e?t.substr(0,t.indexOf("?")):t;return n}return t},removeParamVal:function(e){var t=function(e){var t=window.location.href.toString(),n=$.removeParamGetUrl(e,t);n!=window.location.href.toString()&&$.urlReplaceState(n)};e&&($.isArray(e)?e.forEach(function(e){t(e)}):$.isString(e)&&t(e))},urlReplaceState:function(e){window.history.replaceState(null,null,e)},changeUrlRetainParam:function(e,t){var n=e+window.location.search;if(t)return n;n!=window.location.href.toString()&&window.history.replaceState(null,null,n)},offset:function(e,t){var n=e.getBoundingClientRect();if(n.width||n.height){var r=e.ownerDocument,i=$.isWindow(r)?r:9===r.nodeType&&r.defaultView,o=r.documentElement,a={left:n.left+i.pageXOffset-o.clientLeft,top:n.top+i.pageYOffset-o.clientTop};return t?$.extend(a,{width:n.width,height:n.height}):a}},getWinSize:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},isMac:function(){return"Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform},cancelBubble:function(){var e=window.event||arguments.callee.caller.arguments[0];window.attachEvent?e.cancelBubble=!0:e.stopPropagation()},rangeGoEnd:function(e,t){var n=t&&$.isDom(t)?t:e.target;if(window.getSelection)if("DIV"==n.nodeName){var r=window.document.createRange();r.selectNodeContents(n),r.collapse(!0),r.setEnd(n,n.childNodes.length),r.setStart(n,n.childNodes.length);var i=window.getSelection();i.removeAllRanges(),i.addRange(r)}else{var o=n.value.length;n.setSelectionRange(o,o)}else if(window.document.selection){var a=n.createTextRange();a.collapse(!1),a.select()}},getCssPosi:function(e){return[e.offsetLeft,e.offsetTop,e.clientWidth,e.clientHeight]},getOffsetPosi:function(e){for(var t=[e.offsetLeft,e.offsetTop];e=e.offsetParent;)t[0]+=e.offsetLeft,t[1]+=e.offsetTop;return t},getParentAttr:function(e,t){return e.parentNode.getAttribute(t)},collide:function(e,t){return Math.abs(e[0]+e[2]/2-(t[0]+t[2]/2))<Math.abs((e[2]+t[2])/2)&&Math.abs(e[1]+e[3]/2-(t[1]+t[3]/2))<Math.abs((e[3]+t[3])/2)},hasClass:function(e,t){return!!e&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&($.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if($.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},toggleClass:function(e,t){$.hasClass(e,t)?$.removeClass(e,t):$.addClass(e,t)},checkArrayEqual:function(e,t){var n=void 0;if(e.length===t.length&&0===e.length)n=!0;else if(e.length==t.length)for(var r=0;r<t.length;r++){n=!1;for(var i=0;i<e.length;i++)if(t[r]===e[i]){n=!0;break}}else n=!1;return n},setRegion:function(e,t,n){return Math.max(t,Math.min(e,n))},arrayUnique:function(e){if(e.length>0){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t}return e},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},blurInput:function(e){var t=window.document.activeElement;t&&t.blur()},getWindowWH:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},query:function(e){return window.document.querySelector(e)},tipHide:function(){var e=window.document.querySelector("body>.C_tip");e&&(e.style.display="none")},rotateToAngle:function(e,t){return 2*Math.PI*(t?e%90<0?e%90+90:e%90:e)/360},stringCut:function(e,t){var n,r=0,i="";n=e.length;for(var o=0;o<n;o++){var a=e.charAt(o);if(r++,escape(a).length>4&&r++,i=i.concat(a),r>=t)return i}if(r<t)return e},objLength:function(e){return(0,_keys2["default"])(e).length},searchIn:function(e,t,n){if(""===e)return"none";var r=t,i=!1;return(n?[e]:e.split(/\s+/)).forEach(function(e){e&&new RegExp(e,"i").exec(t)&&(i=!0,r=r.replace(new RegExp(e,"ig"),function(e){return"<span class='redspan'>"+e+"</span>"}))}),!!i&&r},getContentListPadding:function(){return($.getWindowWH().width-1200)/2+"px"},commonKeyDown:function(e){window.isMac?e.metaKey:e.ctrlKey;var t=__webpack_require__(44)["default"];if(8==e.keyCode){if("TEXTAREA"!=e.target.nodeName&&"INPUT"!=e.target.nodeName)return e.preventDefault(),!1}else if(13==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if(t.getShow())return $.query(".popup .submit-btn").click(),e.preventDefault(),!1}else if(27==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if(t.getShow())return $.query(".popup-close-btn").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".lib-item-list-box .close-btn"))return $.query(".lib-item-list-box .close-btn").click(),e.preventDefault(),!1}},hoverContrInit:function(){$(document).on("mouseenter",".a_c[data-contr=hovertip]",function(e){var t=$(this),n=$.stringToObj(t.attr("data-option"));t.showTip(n)}).on("mouseleave",".a_c[data-contr=hovertip]",function(e){$("body>.C_tip").hide()})},escape:function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML.replaceAll('"',"&quot;")},unescape:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent},humpToHythen:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},isRender:function(e){return!!window.renderTest&&(window.renderTest.all||window.renderTest[e])},notLoadPassword:function(e){e.target.type="password"},transitionReverse:function(e){return{fadeInOut:"fadeInOut",leftMenu:"leftMenuBack",rightMenu:"rightMenuBack",leftNav:"leftNavBack",rightNav:"rightNavBack",moveFromLeft:"moveFromRight",moveFromRight:"moveFromLeft",moveFromBottom:"moveFromTop",moveFromTop:"moveFromBottom",fadeFromLeft:"fadeFromRight",fadeFromRight:"fadeFromLeft",fadeFromBottom:"fadeFromTop",fadeFromTop:"fadeFromBottom",fadeRightFadeLeft:"fadeLeftFadeRight",fadeLeftFadeRight:"fadeRightFadeLeft",fadeTopFadeBottom:"fadeBottomFadeTop",fadeBottomFadeTop:"fadeTopFadeBottom",easingFromLeft:"easingFromRight",easingFromRight:"easingFromLeft",easingFromBottom:"easingFromTop",easingFromTop:"easingFromBottom",scaleDownFromLeft:"scaleDownFromRight",scaleDownFromRight:"scaleDownFromLeft",scaleDownFromBottom:"scaleDownFromTop",scaleDownFromTop:"scaleDownFromBottom",glueFromLeft:"glueFromRight",glueFromRight:"glueFromLeft",glueFromBottom:"glueFromTop",glueFromTop:"glueFromBottom"}[e]},changePageContrs:function(e){var t,n={};return e.contrs.forEach(function(e){var t=$.getContrId(e);$.saveOriContrs(t,e),n[t]=$.extend(!0,{},e)}),$.contrForEachChange(n,{},window.contrs),t=e.contrs.map(function(e){return n[$.getContrId(e)]}),$.extend(!0,$.extend(!0,{},e),{contrs:t})},contrForEachChange:function(e,t,n){for(var r in e){var i=e[r],o=$.getContrId(i);if($.saveOriContrs(o,n[r]),t[o]&&$.overrideContr(i,t[o]),i.state&&i.states&&-1!=i.state.endState){for(var a in i.states[i.state.endState].contrs)a!=o&&(t[a]?$.overrideContr(t[a],i.states[i.state.endState].contrs[a]):t[a]=i.states[i.state.endState].contrs[a]);$.overrideContr(i,i.states[i.state.endState].contrs[$.getContrId(i)])}i.contrs&&$.objLength(i.contrs)>0&&$.contrForEachChange(i.contrs,t,n[r].contrs)}},saveOriContrs:function(e,t){window.contrs[e]||(window.contrs[e]=t)},overrideContr:function(e,t){if(t.events)for(var n in e.events||(e.events={}),t.events)e.events[n]&&(e.events[n].actions=t.events[n].actions);$.extend(!0,e,t)},getEasingFuncName:function(e){var t=e.split("-");return t[1]+"."+t[0]},isNull:function(e){return!e&&void 0!==e&&0!=e},isEmptyObj:function(e){return $.isObject(e)&&0===$.objLength(e)},isObject:function(e){return"object"==$.type(e)},filterState:function(e){if(!e)return{};var t=["events"],n={};for(var r in e)-1==t.indexOf(r)&&(n[r]=e[r]);return n},isPropEqual:function(e,t,n){return n?$.isStateEqual(e,t):$.isObject(e)&&$.isObject(t)?$.isObjectEqual(e,t):e==t},isStateEqual:function(e,t){return $.getContrEndState({state:e})==$.getContrEndState({state:t})},getThreeDecimal:function(e){return Math.round(1e3*e)/1e3},convertNum:function(e,t){return window.fontSize||(window.fontSize=50),"px"==t?$.getThreeDecimal(e*window.fontSize/50)+"px":"num"==t?$.getThreeDecimal(e*window.fontSize/50):"web"==window.platform?Math.round(e)+"px":$.getThreeDecimal(.02*e)+"rem"},isObjectEqual:function(e,t){var n=!0;if($.objLength(e)&&$.objLength(t)){for(var r in e)if(e[r]!=t[r]){n=!1;break}}else n=!1;return n},getDefaultCutVals:function(e){return{boxHeight:e.height,boxLeft:0,boxTop:0,boxWidth:e.width,height:e.height,left:0,oriHeight:e.height,oriLeft:e.left,oriTop:e.top,oriWidth:e.width,top:0,width:e.width}},getContrEndState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)?e.state.endState:-1},angleToRadian:function(e){return e*Math.PI/180},getRotatePosiDiff:function(e){var t=__webpack_require__(140)["default"],n=t.rotate($.angleToRadian(e.rotate),[0,0]),r=t.rotate($.angleToRadian(e.rotate),[e.width/2,e.height/2]);return"left"==e.type?r[4]-n[4]:"top"==e.type?r[5]-n[5]:void 0},fixPageScroll:function(e){window.fixedData[e]&&$("#page"+e).addClass("no-scrolling-touch"),window.innerScrollData[e]&&($("#page"+e).attr("innerScroll","true"),window.DragscrollFunc&&window.fromIframe&&window.DragscrollFunc())},getFilter:function(e){return"blur("+(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur+"px) saturate("+(.1*e.saturate).toFixed(1)+") hue-rotate("+(e.hue-180)+"deg) brightness("+(.1*e.brightness).toFixed(1)+") contrast("+(.1*e.contrast).toFixed(1)+")"},getDistance:function(e){return parseInt(e/320*100)},loadStyleString:function(e,t){var n=document.createElement("style");n.id=t||"baseCss",n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(r){n.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(n)},setTransitionClass:function(e,t){var n="",r="mobile-"+$.humpToHythen(e)+"-"+t,i=void 0,o=void 0;switch(e){case"leftMenu":o="leftMenu";break;case"leftMenuBack":i="leftMenuBack";break;case"rightMenu":o="rightMenu";break;case"rightMenuBack":i="rightMenuBack";break;case"leftNav":i="leftNavToRight",o="leftNav";break;case"leftNavBack":i="leftNavBack",o="leftNavToLeft";break;case"rightNav":i="rightNavToLeft",o="rightNav";break;case"rightNavBack":i="rightNavBack",o="rightNavToRight"}i&&(n+="."+r+" .prev{-webkit-animation: "+(i=i+"-"+t)+" .6s ease both;animation: "+i+" .6s ease both;}"),o&&(n+="\n."+r+" .current{-webkit-animation: "+(o=o+"-"+t)+" .6s ease both;animation: "+o+" .6s ease both;}"),$.loadStyleString(n)},setKeyframes:function(e,t){var n=$.getDistance(t),r=void 0,i=-1!=e.indexOf("left")?"-":"";switch(e){case"leftMenu":case"rightMenu":r=["leftMenu","leftMenuBack"],"rightMenu"==e&&(r=["rightMenu","rightMenuBack"]),CSSAnimations.get(r[0]+"-"+n)||r.forEach(function(e,t){var o=e+"-"+n;switch(e){case r[0]:CSSAnimations.create(o,{"0%":{transform:"translateX("+i+"100%)"},"100%":{transform:"translateX("+i+(100-n)+"%)"}});break;case r[1]:CSSAnimations.create(o,{"0%":{"z-index":"3",transform:"translateX("+i+(100-n)+"%)"},"100%":{"z-index":"3",transform:"translateX("+i+"100%)"}})}});break;case"leftNav":case"rightNav":r=["leftNavToRight","leftNav","leftNavBack","leftNavToLeft"],"rightNav"==e&&(r=["rightNavToLeft","rightNav","rightNavBack","rightNavToRight"]),CSSAnimations.get(r[0]+"-"+n)||r.forEach(function(e,t){var o=e+"-"+n;switch(e){case r[0]:var a="-"==i?"":"-";CSSAnimations.create(o,{"100%":{transform:"translateX("+a+n+"%)"}});break;case r[1]:CSSAnimations.create(o,{"0%":{transform:"translateX("+i+"100%)"},"100%":{transform:"translateX("+i+(100-n)+"%)"}});break;case r[2]:CSSAnimations.create(o,{"0%":{"z-index":"3",transform:"translateX("+i+(100-n)+"%)"},"100%":{"z-index":"3",transform:"translateX("+i+"100%)"}});break;case r[3]:var s="-"==i?"":"-";CSSAnimations.create(o,{"0%":{transform:"translateX("+s+n+"%)"},"100%":{transform:"translateX(0%)"}})}})}$.setTransitionClass(e,n)},getTimelineParentKey:function(e,t,n,r){r[n]},getTimelineKey:function(e){console.log("","")},loopCache:function(e){for(var t in e.parent)console.log(e.ancestorState(t)),e.getParent&&$.isUndefined(e.ancestorState(t))&&console.log(t)},handleEventsData:function(e,t,n){if(!e.events||0===$.objLength(e.events))return n&&(console.log("handleEventsData 赋值"),e.events=$.extend(!0,{},t)),!1;var r=[];for(var i in t)e.events[i]&&(e.events[i].actions=t[i].actions,r.push(i),n&&t[i].disable&&(delete e.events[i],delete t[i]));$.extend(!0,e.events,t),e.events&&0===$.objLength(e.events)&&delete e.events},getPlatform:function(e){return e||"mobile"},getStatic:function(e){var t=__webpack_require__(512);return $.extend(!0,{},t[e]||{})},getOneCellData:function(e){var t=$.getStatic("S_tableCellStatic");return t.text=$.getStatic("S_tableCellTextStatic"),$.extend(!0,t,e)},getBorderStyle:function(e,t){var n=["solid","dashed","dotted"],r=[0,1,2];switch(e){case"styles":return n;case"values":return r;case"style":return n[t]||n[0];case"value":return r[t]||r[0]}},isLineContr:function(e){return"hLine"==e.baseContrType||"vLine"==e.baseContrType},getRadiusAddValue:function(e,t){return e?Math.ceil(t):0}});exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/extend.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";var r,i=l(n(69)),o=l(n(670)),a=l(n(85)),s=l(n(516));function l(e){return e&&e.__esModule?e:{"default":e}}!function(l,c,u,d){function p(e,t,n){return setTimeout(_(e,n),t)}function f(e,t,n){return!!Array.isArray(e)&&(h(e,n[t],n),!0)}function h(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==d)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=l.console&&(l.console.warn||l.console.log);return i&&i.call(l.console,r,n),e.apply(this,arguments)}}function m(e,t,n){var r,i=t.prototype;(r=e.prototype=(0,s["default"])(i)).constructor=e,r._super=i,n&&se(r,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function v(e,t){return(void 0===e?"undefined":(0,a["default"])(e))==ue?e.apply(t&&t[0]||d,t):e}function y(e,t){return e===d?t:e}function w(e,t,n){h(x(t),function(t){e.addEventListener(t,n,!1)})}function b(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,!1)})}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];E(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function j(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<le.length;){if((r=(n=le[o])?n+i:t)in e)return r;o++}return d}function I(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||l}function k(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){v(e.options.enable,[e])&&n.handler(t)},this.init()}function A(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&Se&&r-i==0,a=t&(Ee|Pe)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=O(t)),i>1&&!n.firstMultiple?n.firstMultiple=O(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=$(r);t.timeStamp=fe(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=U(s,l),t.distance=N(s,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Se&&o.eventType!==Ee||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=L(t.deltaX,t.deltaY);var c=M(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=pe(c.x)>pe(c.y)?c.x:c.y,t.scale=a?function(e,t){return N(t[0],t[1],Le)/N(e[0],e[1],Le)}(a.pointers,r):1,t.rotation=a?function(e,t){return U(t[1],t[0],Le)+U(e[1],e[0],Le)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,D(n,t);var u=e.element;C(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function D(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!=Pe&&(s>Ce||a.velocity===d)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,u=M(s,l,c);r=u.x,i=u.y,n=pe(u.x)>pe(u.y)?u.x:u.y,o=L(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}function O(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:de(e.pointers[n].clientX),clientY:de(e.pointers[n].clientY)},n++;return{timeStamp:fe(),pointers:t,center:$(t),deltaX:e.deltaX,deltaY:e.deltaY}}function $(e){var t=e.length;if(1===t)return{x:de(e[0].clientX),y:de(e[0].clientY)};for(var n=0,r=0,i=0;t>i;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:de(n/t),y:de(r/t)}}function M(e,t,n){return{x:t/e||0,y:n/e||0}}function L(e,t){return e===t?Te:pe(e)>=pe(t)?0>e?je:Ie:0>t?ke:Ae}function N(e,t,n){n||(n=Me);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function U(e,t,n){n||(n=Me);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function R(){this.evEl=Ue,this.evWin=Re,this.pressed=!1,k.apply(this,arguments)}function B(){this.evEl=Ve,this.evWin=Fe,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Ke,this.evWin=ze,this.started=!1,k.apply(this,arguments)}function V(){this.evTarget=Ge,this.targetIds={},k.apply(this,arguments)}function F(){k.apply(this,arguments);var e=_(this.handler,this);this.touch=new V(this.manager,e),this.mouse=new R(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function q(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Xe)}}function K(e,t){this.manager=e,this.set(t)}function z(e){this.options=se({},this.defaults,e||{}),this.id=me++,this.manager=null,this.options.enable=y(this.options.enable,!0),this.state=at,this.simultaneous={},this.requireFail=[]}function W(e){return e&dt?"cancel":e&ct?"end":e&lt?"move":e&st?"start":""}function G(e){return e==Ae?"down":e==ke?"up":e==je?"left":e==Ie?"right":""}function X(e,t){var n=t.manager;return n?n.get(e):e}function Y(){z.apply(this,arguments)}function J(){Y.apply(this,arguments),this.pX=null,this.pY=null}function Z(){Y.apply(this,arguments)}function Q(){z.apply(this,arguments),this._timer=null,this._input=null}function ee(){Y.apply(this,arguments)}function te(){Y.apply(this,arguments)}function ne(){z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(e,t){return(t=t||{}).recognizers=y(t.recognizers,re.defaults.preset),new ie(e,t)}function ie(e,t){this.options=se({},re.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(ve?B:ye?V:_e?F:R))(e,A)}(this),this.touchAction=new K(this,this.options.touchAction),oe(this,!0),h(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function oe(e,t){var n,r=e.element;r.style&&(h(e.options.cssProps,function(i,o){n=j(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}function ae(e,t){var n=c.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var se,le=["","webkit","Moz","MS","ms","o"],ce=c.createElement("div"),ue="function",de=Math.round,pe=Math.abs,fe=Date.now;se="function"!=typeof o["default"]?function(e){if(e===d||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==d&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:o["default"];var he=g(function(e,t,n){for(var r=(0,i["default"])(t),o=0;o<r.length;)(!n||n&&e[r[o]]===d)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),ge=g(function(e,t){return he(e,t,!0)},"merge","Use `assign`."),me=1,_e="ontouchstart"in l,ve=j(l,"PointerEvent")!==d,ye=_e&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),we="touch",be="mouse",Ce=25,Se=1,xe=2,Ee=4,Pe=8,Te=1,je=2,Ie=4,ke=8,Ae=16,De=je|Ie,Oe=ke|Ae,$e=De|Oe,Me=["x","y"],Le=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(I(this.element),this.evWin,this.domHandler)}};var Ne={mousedown:Se,mousemove:xe,mouseup:Ee},Ue="mousedown",Re="mousemove mouseup";m(R,k,{handler:function(e){var t=Ne[e.type];t&Se&&0===e.button&&(this.pressed=!0),t&xe&&1!==e.which&&(t=Ee),this.pressed&&(t&Ee&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:be,srcEvent:e}))}});var Be={pointerdown:Se,pointermove:xe,pointerup:Ee,pointercancel:Pe,pointerout:Pe},He={2:we,3:"pen",4:be,5:"kinect"},Ve="pointerdown",Fe="pointermove pointerup pointercancel";l.MSPointerEvent&&!l.PointerEvent&&(Ve="MSPointerDown",Fe="MSPointerMove MSPointerUp MSPointerCancel"),m(B,k,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Be[r],o=He[e.pointerType]||e.pointerType,a=o==we,s=E(t,e.pointerId,"pointerId");i&Se&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):i&(Ee|Pe)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var qe={touchstart:Se,touchmove:xe,touchend:Ee,touchcancel:Pe},Ke="touchstart",ze="touchstart touchmove touchend touchcancel";m(H,k,{handler:function(e){var t=qe[e.type];if(t===Se&&(this.started=!0),this.started){var n=function(e,t){var n=P(e.touches),r=P(e.changedTouches);return t&(Ee|Pe)&&(n=T(n.concat(r),"identifier",!0)),[n,r]}.call(this,e,t);t&(Ee|Pe)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:we,srcEvent:e})}}});var We={touchstart:Se,touchmove:xe,touchend:Ee,touchcancel:Pe},Ge="touchstart touchmove touchend touchcancel";m(V,k,{handler:function(e){var t=We[e.type],n=function(e,t){var n=P(e.touches),r=this.targetIds;if(t&(Se|xe)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return C(e.target,l)}),t===Se)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(Ee|Pe)&&delete r[a[i].identifier],i++;return s.length?[T(o.concat(s),"identifier",!0),s]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:we,srcEvent:e})}});var Xe=2500,Ye=25;m(F,k,{handler:function(e,t,n){var r=n.pointerType==we,i=n.pointerType==be;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&Se?(this.primaryTouch=t.changedPointers[0].identifier,q.call(this,t)):e&(Ee|Pe)&&q.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(Ye>=o&&Ye>=a)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Je=j(ce.style,"touchAction"),Ze=Je!==d,Qe="compute",et="auto",tt="manipulation",nt="none",rt="pan-x",it="pan-y",ot=function(){if(!Ze)return!1;var e={},t=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||l.CSS.supports("touch-action",n)}),e}();K.prototype={set:function(e){e==Qe&&(e=this.compute()),Ze&&this.manager.element.style&&ot[e]&&(this.manager.element.style[Je]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){v(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(S(e,nt))return nt;var t=S(e,rt),n=S(e,it);return t&&n?nt:t||n?t?rt:it:S(e,tt)?tt:et}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,i=S(r,nt)&&!ot[nt],o=S(r,it)&&!ot[it],a=S(r,rt)&&!ot[rt];if(i){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}return a&&o?void 0:i||o&&n&De||a&&n&Oe?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var at=1,st=2,lt=4,ct=8,ut=ct,dt=16;z.prototype={defaults:{},set:function(e){return se(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(f(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=X(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return f(e,"dropRecognizeWith",this)?this:(e=X(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(f(e,"requireFailure",this))return this;var t=this.requireFail;return-1===E(t,e=X(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(f(e,"dropRequireFailure",this))return this;e=X(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;ct>r&&t(n.options.event+W(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=ct&&t(n.options.event+W(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|at)))return!1;e++}return!0},recognize:function(e){var t=se({},e);return v(this.options.enable,[this,t])?(this.state&(ut|dt|32)&&(this.state=at),this.state=this.process(t),void(this.state&(st|lt|ct|dt)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},m(Y,z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(st|lt),i=this.attrTest(e);return r&&(n&Pe||!i)?t|dt:r||i?n&Ee?t|ct:t&st?t|lt:st:32}}),m(J,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:$e},getTouchAction:function(){var e=this.options.direction,t=[];return e&De&&t.push(it),e&Oe&&t.push(rt),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&De?(i=0===o?Te:0>o?je:Ie,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?Te:0>a?ke:Ae,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Y.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=G(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),m(Z,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),m(Q,z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[et]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Ee|Pe)&&!i)this.reset();else if(e.eventType&Se)this.reset(),this._timer=p(function(){this.state=ut,this.tryEmit()},t.time,this);else if(e.eventType&Ee)return ut;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ut&&(e&&e.eventType&Ee?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=fe(),this.manager.emit(this.options.event,this._input)))}}),m(ee,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),m(te,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:De|Oe,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(De|Oe)?t=e.overallVelocity:n&De?t=e.overallVelocityX:n&Oe&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&pe(t)>this.options.velocity&&e.eventType&Ee},emit:function(e){var t=G(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),m(ne,z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[tt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&Se&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=Ee)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||N(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p(function(){this.state=ut,this.tryEmit()},t.interval,this),st):ut}return 32},failTimeout:function(){return this._timer=p(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.8",re.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[Z,{enable:!1},["rotate"]],[te,{direction:De}],[J,{direction:De},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ie.prototype={set:function(e){return se(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ut)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(st|lt|ct)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof z)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(f(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(f(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=E(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==d&&t!==d){var n=this.handlers;return h(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==d){var n=this.handlers;return h(x(e),function(e){t?n[e]&&n[e].splice(E(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ae(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},se(re,{INPUT_START:Se,INPUT_MOVE:xe,INPUT_END:Ee,INPUT_CANCEL:Pe,STATE_POSSIBLE:at,STATE_BEGAN:st,STATE_CHANGED:lt,STATE_ENDED:ct,STATE_RECOGNIZED:ut,STATE_CANCELLED:dt,STATE_FAILED:32,DIRECTION_NONE:Te,DIRECTION_LEFT:je,DIRECTION_RIGHT:Ie,DIRECTION_UP:ke,DIRECTION_DOWN:Ae,DIRECTION_HORIZONTAL:De,DIRECTION_VERTICAL:Oe,DIRECTION_ALL:$e,Manager:ie,Input:k,TouchAction:K,TouchInput:V,MouseInput:R,PointerEventInput:B,TouchMouseInput:F,SingleTouchInput:H,Recognizer:z,AttrRecognizer:Y,Tap:ne,Pan:J,Swipe:te,Pinch:Z,Rotate:ee,Press:Q,on:w,off:b,each:h,merge:ge,extend:he,assign:se,inherit:m,bindFn:_,prefixed:j}),(void 0!==l?l:"undefined"!=typeof self?self:{}).Hammer=re,(r=function(){return re}.call(t,n,t,e))===undefined||(e.exports=r)}(window,document)},function(e,t,n){"use strict";(function(e,r){var i,o=function(e){return e&&e.__esModule?e:{"default":e}}(n(85));!function(){var t=n(1).enterModule;t&&t(e)}();var a=void 0!==e&&e.exports&&void 0!==r?r:undefined||window;(a._gsQueue||(a._gsQueue=[])).push(function(){a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},i=function(e,t,n){var r,i,o=e.cycle;for(r in o)i=o[r],e[r]="function"==typeof i?i(n,t[n]):i[n%i.length];delete e.cycle},o=function g(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=g.prototype.render},a=1e-10,s=n._internals,l=s.isSelector,c=s.isArray,u=o.prototype=n.to({},.1,{}),d=[];o.version="2.0.1",u.constructor=o,u.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.prototype.invalidate.call(this)},u.updateTo=function(e,t){var r,i=this.ratio,o=this.vars.immediateRender||e.immediateRender;for(r in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[r]=e[r];if(this._initted||o)if(t)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,l=1/(1-i),c=this._firstPT;c;)s=c.s+c.c,c.c*=l,c.s=s-c.c,c=c._next;return this},u.render=function(e,t,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,o,l,c,u,d,p,f,h,g=this._dirty?this.totalDuration():this._totalDuration,m=this._time,_=this._totalTime,v=this._cycle,y=this._duration,w=this._rawPrevTime;if(e>=g-1e-7&&e>=0?(this._totalTime=g,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(e=0),(0>w||0>=e&&e>=-1e-7||w===a&&"isPause"!==this.data)&&w!==e&&(r=!0,w>a&&(o="onReverseComplete")),this._rawPrevTime=f=!t||e||w===e?e:a)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===y&&w>0)&&(o="onReverseComplete",i=this._reversed),0>e&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||r)&&(w>=0&&(r=!0),this._rawPrevTime=f=!t||e||w===e?e:a)),this._initted||(r=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(c=y+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&e>=_&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time,(h=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==h||this._initted?this._yoyoEase=h=!0===h?this._ease:h instanceof Ease?h:Ease.map[h]:(h=this.vars.ease,this._yoyoEase=h=h?h instanceof Ease?h:"function"==typeof h?new Ease(h,this.vars.easeParams):Ease.map[h]||n.defaultEase:n.defaultEase)),this.ratio=h?1-h.getRatio((y-this._time)/y):0)),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType&&!h?(u=this._time/y,(1===(d=this._easeType)||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===(p=this._easePower)?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),1===d?this.ratio=1-u:2===d?this.ratio=u:this._time/y<.5?this.ratio=u/2:this.ratio=1-u/2):h||(this.ratio=this._ease.getRatio(this._time/y))),m!==this._time||r||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=_,this._rawPrevTime=w,this._cycle=v,s.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||i||h?i&&this._ease._calcEnd&&!h&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&e>=0&&(this._active=!0),0===_&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===y)&&(t||this._callback("onStart"))),l=this._firstPT;l;)l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s,l=l._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,!0,r),t||(this._totalTime!==_||o)&&this._callback("onUpdate")),this._cycle!==v&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(!this._gc||r)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===y&&this._rawPrevTime===a&&f!==a&&(this._rawPrevTime=0))}else _!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},o.to=function(e,t,n){return new o(e,t,n)},o.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(e,t,n)},o.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new o(e,t,r)},o.staggerTo=o.allTo=function(e,t,a,s,u,p,f){s=s||0;var h,g,m,_,v=0,y=[],w=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),u.apply(f||a.callbackScope||this,p||d)},b=a.cycle,C=a.startAt&&a.startAt.cycle;for(c(e)||("string"==typeof e&&(e=n.selector(e)||e),l(e)&&(e=r(e))),e=e||[],0>s&&((e=r(e)).reverse(),s*=-1),h=e.length-1,m=0;h>=m;m++){for(_ in g={},a)g[_]=a[_];if(b&&(i(g,e,m),null!=g.duration&&(t=g.duration,delete g.duration)),C){for(_ in C=g.startAt={},a.startAt)C[_]=a.startAt[_];i(g.startAt,e,m)}g.delay=v+(g.delay||0),m===h&&u&&(g.onComplete=w),y[m]=new o(e[m],t,g),v+=s}return y},o.staggerFrom=o.allFrom=function(e,t,n,r,i,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(e,t,n,r,i,a,s)},o.staggerFromTo=o.allFromTo=function(e,t,n,r,i,a,s,l){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,o.staggerTo(e,t,r,i,a,s,l)},o.delayedCall=function(e,t,n,r,i){return new o(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,useFrames:i,overwrite:0})},o.set=function(e,t){return new o(e,0,t)},o.isTweening=function(e){return n.getTweensOf(e,!0).length>0};var p=function m(e,t){for(var r=[],i=0,o=e._first;o;)o instanceof n?r[i++]=o:(t&&(r[i++]=o),i=(r=r.concat(m(o,t))).length),o=o._next;return r},f=o.getAllTweens=function(t){return p(e._rootTimeline,t).concat(p(e._rootFramesTimeline,t))};o.killAll=function(e,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var o,a,s,l=f(0!=i),c=l.length,u=n&&r&&i;for(s=0;c>s;s++)a=l[s],(u||a instanceof t||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&(e?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(e,t){if(null!=e){var i,a,u,d,p,f=s.tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),l(e)&&(e=r(e)),c(e))for(d=e.length;--d>-1;)o.killChildTweensOf(e[d],t);else{for(u in i=[],f)for(a=f[u].target.parentNode;a;)a===e&&(i=i.concat(f[u].tweens)),a=a.parentNode;for(p=i.length,d=0;p>d;d++)t&&i[d].totalTime(i[d].totalDuration()),i[d]._enabled(!1,!1)}}};var h=function(e,n,r,i){n=!1!==n,r=!1!==r;for(var o,a,s=f(i=!1!==i),l=n&&r&&i,c=s.length;--c>-1;)a=s[c],(l||a instanceof t||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&a.paused(e)};return o.pauseAll=function(e,t,n){h(!0,e,t,n)},o.resumeAll=function(e,t,n){h(!1,e,t,n)},o.globalTimeScale=function(t){var r=e._rootTimeline,i=n.ticker.time;return arguments.length?(t=t||a,r._startTime=i-(i-r._startTime)*r._timeScale/t,r=e._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/t,r._timeScale=e._rootTimeline._timeScale=t,t):r._timeScale},u.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},u.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},u.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},o},!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,i=this.vars;for(r in i)n=i[r],c(n)&&-1!==n.join("").indexOf("{self}")&&(i[r]=this._swapSelfInParams(n));c(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=1e-10,o=n._internals,s=r._internals={},l=o.isSelector,c=o.isArray,u=o.lazyTweens,d=o.lazyRender,p=a._gsDefine.globals,f=function(e){var t,n={};for(t in e)n[t]=e[t];return n},h=function(e,t,n){var r,i,o=e.cycle;for(r in o)i=o[r],e[r]="function"==typeof i?i(n,t[n]):i[n%i.length];delete e.cycle},g=s.pauseCallback=function(){},m=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},_=r.prototype=new t;return r.version="2.0.1",_.constructor=r,_.kill()._gc=_._forcingPlayhead=_._hasPause=!1,_.to=function(e,t,r,i){var o=r.repeat&&p.TweenMax||n;return t?this.add(new o(e,t,r),i):this.set(e,r,i)},_.from=function(e,t,r,i){return this.add((r.repeat&&p.TweenMax||n).from(e,t,r),i)},_.fromTo=function(e,t,r,i,o){var a=i.repeat&&p.TweenMax||n;return t?this.add(a.fromTo(e,t,r,i),o):this.set(e,i,o)},_.staggerTo=function(e,t,i,o,a,s,c,u){var d,p,g=new r({onComplete:s,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),_=i.cycle;for("string"==typeof e&&(e=n.selector(e)||e),l(e=e||[])&&(e=m(e)),0>(o=o||0)&&((e=m(e)).reverse(),o*=-1),p=0;p<e.length;p++)(d=f(i)).startAt&&(d.startAt=f(d.startAt),d.startAt.cycle&&h(d.startAt,e,p)),_&&(h(d,e,p),null!=d.duration&&(t=d.duration,delete d.duration)),g.to(e[p],t,d,p*o);return this.add(g,a)},_.staggerFrom=function(e,t,n,r,i,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,o,a,s)},_.staggerFromTo=function(e,t,n,r,i,o,a,s,l){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,i,o,a,s,l)},_.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)},_.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),null==t.immediateRender&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var i,o,a,s,l=new r(e),c=l._timeline;for(null==t&&(t=!0),c._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=c._time,a=c._first;a;)s=a._next,t&&a instanceof n&&a.target===a.vars.onComplete||(0>(o=a._startTime-a._delay)&&(i=1),l.add(a,o)),a=s;return c.add(l,0),i&&l.totalDuration(),l},_.add=function(i,o,a,s){var l,u,d,p,f,h;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof e)){if(i instanceof Array||i&&i.push&&c(i)){for(a=a||"normal",s=s||0,l=o,u=i.length,d=0;u>d;d++)c(p=i[d])&&(p=new r({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?l=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),l+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(t.prototype.add.call(this,i,o),i._time&&i.render((this.rawTime()-i._startTime)*i._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(h=(f=this).rawTime()>i._startTime;f._timeline;)h&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},_.remove=function(t){if(t instanceof e){this._remove(t,!1);var n=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:n._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&c(t)){for(var r=t.length;--r>-1;)this.remove(t[r]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},_._remove=function(e,n){return t.prototype._remove.call(this,e,n),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},_.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},_.insert=_.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},_.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},_.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},_.addPause=function(e,t,r,i){var o=n.delayedCall(0,g,r,i||this);return o.vars.onComplete=o.vars.onReverseComplete=t,o.data="isPause",this._hasPause=!0,this.add(o,e)},_.removeLabel=function(e){return delete this._labels[e],this},_.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},_._parseTimeOrLabel=function(t,n,r,i){var o,a;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&c(i)))for(a=i.length;--a>-1;)i[a]instanceof e&&i[a].timeline===this&&this.remove(i[a]);if(o="number"!=typeof t||n?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof t&&null==this._labels[n]?t-o:0,r);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=o);else{if(-1===(a=t.indexOf("=")))return null==this._labels[t]?r?this._labels[t]=o+n:n:this._labels[t]+n;n=parseInt(t.charAt(a-1)+"1",10)*Number(t.substr(a+1)),t=a>1?this._parseTimeOrLabel(t.substr(0,a-1),0,r):o}return Number(t)+n},_.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},_.stop=function(){return this.paused(!0)},_.gotoAndPlay=function(e,t){return this.play(e,t)},_.gotoAndStop=function(e,t){return this.pause(e,t)},_.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,o,a,s,l,c,p,f=this._time,h=this._dirty?this.totalDuration():this._totalDuration,g=this._startTime,m=this._timeScale,_=this._paused;if(f!==this._time&&(e+=this._time-f),e>=h-1e-7&&e>=0)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===i)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>i&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,e=h+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==i&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,0===e&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=f)for(r=this._first;r&&r._startTime<=e&&!c;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(c=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!c;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(c=r),r=r._prev;c&&(this._time=e=c._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==f&&this._first||n||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&e>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(p=this._time)>=f)for(r=this._first;r&&(a=r._next,p===this._time&&(!this._paused||_));)(r._active||r._startTime<=p&&!r._paused&&!r._gc)&&(c===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=a;else for(r=this._last;r&&(a=r._prev,p===this._time&&(!this._paused||_));){if(r._active||r._startTime<=f&&!r._paused&&!r._gc){if(c===r){for(c=r._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(e-c._startTime)*c._timeScale:(e-c._startTime)*c._timeScale,t,n),c=c._prev;c=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=a}this._onUpdate&&(t||(u.length&&d(),this._callback("onUpdate"))),s&&(this._gc||(g===this._startTime||m!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(o&&(u.length&&d(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},_._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},_.getChildren=function(e,t,r,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof n?!1!==t&&(o[s++]=a):(!1!==r&&(o[s++]=a),!1!==e&&(s=(o=o.concat(a.getChildren(!0,t,r))).length))),a=a._next;return o},_.getTweensOf=function(e,t){var r,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=(r=n.getTweensOf(e)).length;--i>-1;)(r[i].timeline===this||t&&this._contains(r[i]))&&(a[s++]=r[i]);return o&&this._enabled(!1,!0),a},_.recent=function(){return this._recent},_._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},_.shiftChildren=function(e,t,n){n=n||0;for(var r,i=this._first,o=this._labels;i;)i._startTime>=n&&(i._startTime+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return this._uncache(!0)},_._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(e,t)&&(i=!0);return i},_.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},_.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},_._enabled=function(e,n){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},_.totalTime=function(t,n,r){this._forcingPlayhead=!0;var i=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},_.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},_.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,i=this._last,o=999999999999;i;)t=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(i,i._startTime-i._delay),this._calculatingDuration=0):o=i._startTime,i._startTime<0&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale,this._time-=i._startTime,this._totalTime-=i._startTime,this._rawPrevTime-=i._startTime),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),(n=i._startTime+i._totalDuration/i._timeScale)>r&&(r=n),i=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},_.paused=function(t){if(!t)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return e.prototype.paused.apply(this,arguments)},_.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},_.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},r},!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},i=1e-10,o=t._internals,s=o.lazyTweens,l=o.lazyRender,c=a._gsDefine.globals,u=new n(null,null,1,0),d=r.prototype=new e;return d.constructor=r,d.kill()._gc=!1,r.version="2.0.1",d.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},d.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},d.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},d.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},d.tweenTo=function(e,n){n=n||{};var r,i,o,a={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},s=n.repeat&&c.TweenMax||t;for(i in n)a[i]=n[i];return a.time=this._parseTimeOrLabel(e),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||r!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),n.onStart&&n.onStart.apply(n.onStartScope||n.callbackScope||o,n.onStartParams||[])},o},d.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var r=this.tweenTo(t,n);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},d.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,o,a,c,u,d,p,f,h=this._time,g=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,_=this._totalTime,v=this._startTime,y=this._timeScale,w=this._rawPrevTime,b=this._paused,C=this._cycle;if(h!==this._time&&(e+=this._time-h),e>=g-1e-7&&e>=0)this._locked||(this._totalTime=g,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||0>w||w===i)&&w!==e&&this._first&&(u=!0,w>i&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=m,e=m+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==h||0===m&&w!==i&&(w>0||0>e&&w>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,c="onReverseComplete"):w>=0&&this._first&&(u=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=m||!t||e||this._rawPrevTime===e?e:i,0===e&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,this._initted||(u=!0)}else if(0===m&&0>w&&(u=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(d=m+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&e>=_&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,e=m+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=h||this._repeat&&C!==this._cycle)for(r=this._first;r&&r._startTime<=e&&!p;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(p=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!p;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(p=r),r=r._prev;p&&p._startTime<m&&(this._time=e=p._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==C&&!this._locked){var S=this._yoyo&&0!=(1&C),x=S===(this._yoyo&&0!=(1&this._cycle)),E=this._totalTime,P=this._cycle,T=this._rawPrevTime,j=this._time;if(this._totalTime=C*m,this._cycle<C?S=!S:this._totalTime+=m,this._time=h,this._rawPrevTime=0===m?w-1e-4:w,this._cycle=C,this._locked=!0,h=S?0:m,this.render(h,t,0===m),t||this._gc||this.vars.onRepeat&&(this._cycle=P,this._locked=!1,this._callback("onRepeat")),h!==this._time)return;if(x&&(this._cycle=C,this._locked=!0,h=S?m+1e-4:-1e-4,this.render(h,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=j,this._totalTime=E,this._cycle=P,this._rawPrevTime=T}if(this._time!==h&&this._first||n||u||p){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==_&&e>0&&(this._active=!0),0===_&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(f=this._time)>=h)for(r=this._first;r&&(a=r._next,f===this._time&&(!this._paused||b));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(p===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=a;else for(r=this._last;r&&(a=r._prev,f===this._time&&(!this._paused||b));){if(r._active||r._startTime<=h&&!r._paused&&!r._gc){if(p===r){for(p=r._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(e-p._startTime)*p._timeScale:(e-p._startTime)*p._timeScale,t,n),p=p._prev;p=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=a}this._onUpdate&&(t||(s.length&&l(),this._callback("onUpdate"))),c&&(this._locked||this._gc||(v===this._startTime||y!==this._timeScale)&&(0===this._time||g>=this.totalDuration())&&(o&&(s.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[c]&&this._callback(c)))}else _!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},d.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,i,o=[],a=this.getChildren(e,t,n),s=0,l=a.length;for(r=0;l>r;r++)(i=a[r]).isActive()&&(o[s++]=i);return o},d.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;r>t;t++)if(n[t].time>e)return n[t].name;return null},d.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(t[n].time<e)return t[n].name;return null},d.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},d.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},d.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},d.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},d.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},d.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},d.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},d.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},d.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},d.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,t=[],n=[],r=[],i={},o=a._gsDefine.globals,s=function(e,t,n,r){n===r&&(n=r-(r-t)/1e6),e===t&&(t=e+(n-e)/1e6),this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},l=function(e,t,n,r){var i={a:e},o={},a={},s={c:r},l=(e+t)/2,c=(t+n)/2,u=(n+r)/2,d=(l+c)/2,p=(c+u)/2,f=(p-d)/8;return i.b=l+(e-l)/4,o.b=d+f,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(d+p)/2,a.b=p-f,s.b=u+(r-u)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},c=function(e,i,o,a,s){var c,u,d,p,f,h,g,m,_,v,y,w,b,C=e.length-1,S=0,x=e[0].a;for(c=0;C>c;c++)u=(f=e[S]).a,d=f.d,p=e[S+1].d,s?(y=t[c],b=((w=n[c])+y)*i*.25/(a?.5:r[c]||.5),m=d-((h=d-(d-u)*(a?.5*i:0!==y?b/y:0))+(((g=d+(p-d)*(a?.5*i:0!==w?b/w:0))-h)*(3*y/(y+w)+.5)/4||0))):m=d-((h=d-(d-u)*i*.5)+(g=d+(p-d)*i*.5))/2,h+=m,g+=m,f.c=_=h,f.b=0!==c?x:x=f.a+.6*(f.c-f.a),f.da=d-u,f.ca=_-u,f.ba=x-u,o?(v=l(u,x,_,d),e.splice(S,1,v[0],v[1],v[2],v[3]),S+=4):S++,x=g;(f=e[S]).b=x,f.c=x+.4*(f.d-x),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=x-f.a,o&&(v=l(f.a,x,f.c,f.d),e.splice(S,1,v[0],v[1],v[2],v[3]))},u=function(e,r,i,o){var a,l,c,u,d,p,f=[];if(o)for(l=(e=[o].concat(e)).length;--l>-1;)"string"==typeof(p=e[l][r])&&"="===p.charAt(1)&&(e[l][r]=o[r]+Number(p.charAt(0)+p.substr(2)));if(0>(a=e.length-2))return f[0]=new s(e[0][r],0,0,e[0][r]),f;for(l=0;a>l;l++)c=e[l][r],u=e[l+1][r],f[l]=new s(c,0,0,u),i&&(d=e[l+2][r],t[l]=(t[l]||0)+(u-c)*(u-c),n[l]=(n[l]||0)+(d-u)*(d-u));return f[l]=new s(e[l][r],0,0,e[l+1][r]),f},d=function(e,o,a,s,l,d){var p,f,h,g,m,_,v,y,w={},b=[],C=d||e[0];for(f in l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==o&&(o=1),e[0])b.push(f);if(e.length>1){for(y=e[e.length-1],v=!0,p=b.length;--p>-1;)if(f=b[p],Math.abs(C[f]-y[f])>.05){v=!1;break}v&&(e=e.concat(),d&&e.unshift(d),e.push(e[1]),d=e[e.length-3])}for(t.length=n.length=r.length=0,p=b.length;--p>-1;)f=b[p],i[f]=-1!==l.indexOf(","+f+","),w[f]=u(e,f,i[f],d);for(p=t.length;--p>-1;)t[p]=Math.sqrt(t[p]),n[p]=Math.sqrt(n[p]);if(!s){for(p=b.length;--p>-1;)if(i[f])for(_=(h=w[b[p]]).length-1,g=0;_>g;g++)m=h[g+1].da/n[g]+h[g].da/t[g]||0,r[g]=(r[g]||0)+m*m;for(p=r.length;--p>-1;)r[p]=Math.sqrt(r[p])}for(p=b.length,g=a?4:1;--p>-1;)h=w[f=b[p]],c(h,o,a,s,i[f]),v&&(h.splice(0,g),h.splice(h.length-g,g));return w},p=function(e,t,n){var r,i,o,a,l,c,u,d,p,f,h,g={},m="cubic"===(t=t||"soft")?3:2,_="soft"===t,v=[];if(_&&n&&(e=[n].concat(e)),null==e||e.length<m+1)throw"invalid Bezier data";for(p in e[0])v.push(p);for(c=v.length;--c>-1;){for(p=v[c],g[p]=l=[],f=0,d=e.length,u=0;d>u;u++)r=null==n?e[u][p]:"string"==typeof(h=e[u][p])&&"="===h.charAt(1)?n[p]+Number(h.charAt(0)+h.substr(2)):Number(h),_&&u>1&&d-1>u&&(l[f++]=(r+l[f-2])/2),l[f++]=r;for(d=f-m+1,f=0,u=0;d>u;u+=m)r=l[u],i=l[u+1],o=l[u+2],a=2===m?0:l[u+3],l[f++]=h=3===m?new s(r,i,o,a):new s(r,(2*i+r)/3,(2*i+o)/3,o);l.length=f}return g},f=function(e,t,n){for(var r,i,o,a,s,l,c,u,d,p,f,h=1/n,g=e.length;--g>-1;)for(o=(p=e[g]).a,a=p.d-o,s=p.c-o,l=p.b-o,r=i=0,u=1;n>=u;u++)r=i-(i=((c=h*u)*c*a+3*(d=1-c)*(c*s+d*l))*c),f=g*n+u-1,t[f]=(t[f]||0)+r*r},h=function(e,t){var n,r,i,o,a=[],s=[],l=0,c=0,u=(t=t>>0||6)-1,d=[],p=[];for(n in e)f(e[n],a,t);for(i=a.length,r=0;i>r;r++)l+=Math.sqrt(a[r]),p[o=r%t]=l,o===u&&(c+=l,d[o=r/t>>0]=p,s[o]=c,l=0,p=[]);return{length:c,lengths:s,segments:d}},g=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,i,o,a,s,l=t.values||[],c={},u=l[0],f=t.autoRotate||n.vars.orientToBezier;for(r in this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",!0===f?0:Number(f)||0]]:null,u)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),i=this._func[r]="function"==typeof e[r],c[r]=i?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),s||c[r]!==l[0][r]&&(s=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?d(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):p(l,t.type,c),this._segCount=this._beziers[r].length,this._timeRes){var g=h(this._beziers,this._timeRes);this._length=g.length,this._lengths=g.lengths,this._segments=g.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(a=0;3>a;a++)r=f[o][a],this._func[r]="function"==typeof e[r]&&e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)];r=f[o][2],this._initialRotations[o]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var n,r,i,o,a,s,l,c,u,d,p=this._segCount,f=this._func,h=this._target,g=t!==this._startRatio;if(this._timeRes){if(u=this._lengths,d=this._curSeg,t*=this._length,i=this._li,t>this._l2&&p-1>i){for(c=p-1;c>i&&(this._l2=u[++i])<=t;);this._l1=u[i-1],this._li=i,this._curSeg=d=this._segments[i],this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&i>0){for(;i>0&&(this._l1=u[--i])>=t;);0===i&&t<this._l1?this._l1=0:i++,this._l2=u[i],this._li=i,this._curSeg=d=this._segments[i],this._s1=d[(this._si=d.length-1)-1]||0,this._s2=d[this._si]}if(n=i,t-=this._l1,i=this._si,t>this._s2&&i<d.length-1){for(c=d.length-1;c>i&&(this._s2=d[++i])<=t;);this._s1=d[i-1],this._si=i}else if(t<this._s1&&i>0){for(;i>0&&(this._s1=d[--i])>=t;);0===i&&t<this._s1?this._s1=0:i++,this._s2=d[i],this._si=i}s=(i+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(n=0>t?0:t>=1?p-1:p*t>>0)*(1/p))*p;for(r=1-s,i=this._props.length;--i>-1;)o=this._props[i],l=(s*s*(a=this._beziers[o][n]).da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(l=this._mod[o](l,h)),f[o]?h[o](l):h[o]=l;if(this._autoRotate){var m,_,v,y,w,b,C,S=this._autoRotate;for(i=S.length;--i>-1;)o=S[i][2],b=S[i][3]||0,C=!0===S[i][4]?1:e,a=this._beziers[S[i][0]],m=this._beziers[S[i][1]],a&&m&&(a=a[n],m=m[n],_=a.a+(a.b-a.a)*s,_+=((y=a.b+(a.c-a.b)*s)-_)*s,y+=(a.c+(a.d-a.c)*s-y)*s,v=m.a+(m.b-m.a)*s,v+=((w=m.b+(m.c-m.b)*s)-v)*s,w+=(m.c+(m.d-m.c)*s-w)*s,l=g?Math.atan2(w-v,y-_)*C+b:this._initialRotations[i],this._mod[o]&&(l=this._mod[o](l,h)),f[o]?h[o](l):h[o]=l)}}}),m=g.prototype;g.bezierThrough=d,g.cubicToQuadratic=l,g._autoCSS=!0,g.quadraticToCubic=function(e,t,n){return new s(e,(2*t+e)/3,(2*t+n)/3,n)},g._cssRegister=function(){var e=o.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,r=t._setPluginRatio,i=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,o,a,s,l){t instanceof Array&&(t={values:t}),l=new g;var c,u,d,p=t.values,f=p.length-1,h=[],m={};if(0>f)return s;for(c=0;f>=c;c++)d=n(e,p[c],a,s,l,f!==c),h[c]=d.end;for(u in t)m[u]=t[u];return m.values=h,(s=new i(e,"bezier",0,0,d.pt,2)).data=d,s.plugin=l,s.setRatio=r,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(c=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=d.end.left?[["left","top","rotation",c,!1]]:null!=d.end.x&&[["x","y","rotation",c,!1]]),m.autoRotate&&(a._transform||a._enableTransforms(!1),d.autoRotate=a._target._gsTransform,d.proxy.rotation=d.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(d.proxy,m,a._tween),s}})}},m._mod=function(e){for(var t,n=this._overwriteProps,r=n.length;--r>-1;)(t=e[n[r]])&&"function"==typeof t&&(this._mod[n[r]]=t)},m._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)e[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,e)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,r,i,s,l=function Qe(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=Qe.prototype.setRatio},c=a._gsDefine.globals,u={},d=l.prototype=new e("css");d.constructor=l,l.version="1.20.5",l.API=2,l.defaultTransformPerspective=0,l.defaultSkewType="compensated",l.defaultSmoothOrigin=!0,d="px",l.suffixMap={top:d,right:d,bottom:d,left:d,width:d,height:d,fontSize:d,padding:d,margin:d,perspective:d,lineHeight:""};var p,f,h,g,m,_,v,y,w=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,C=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,S=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,P=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,j=/^(rgb|hsl)/,I=/([A-Z])/g,k=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,D=function(e,t){return t.toUpperCase()},O=/(?:Left|Right|Width)/i,$=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,N=/[\s,\(]/i,U=Math.PI/180,R=180/Math.PI,B={},H={style:{}},V=a.document||{createElement:function(){return H}},F=function(e,t){return V.createElementNS?V.createElementNS(t||"http://www.w3.org/1999/xhtml",e):V.createElement(e)},q=F("div"),K=F("img"),z=l._internals={_specialProps:u},W=(a.navigator||{}).userAgent||"",G=function(){var e=W.indexOf("Android"),t=F("a");return h=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===e||parseFloat(W.substr(e+8,2))>3),m=h&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,g=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(_=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),X=function(e){return E.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){a.console&&console.log(e)},J="",Z="",Q=function(e,t){var n,r,i=(t=t||q).style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+e];);return r>=0?(J="-"+(Z=3===r?"ms":n[r]).toLowerCase()+"-",Z+e):null},ee=("undefined"!=typeof window?window:V.defaultView||{getComputedStyle:function(){}}).getComputedStyle,te=l.getStyle=function(e,t,n,r,i){var o;return G||"opacity"!==t?(!r&&e.style[t]?o=e.style[t]:(n=n||ee(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(I,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):X(e)},ne=z.convertToPixels=function(e,n,r,i,o){if("px"===i||!i&&"lineHeight"!==n)return r;if("auto"===i||!r)return 0;var a,s,c,u=O.test(n),d=e,p=q.style,f=0>r,h=1===r;if(f&&(r=-r),h&&(r*=100),"lineHeight"!==n||i)if("%"===i&&-1!==n.indexOf("border"))a=r/100*(u?e.clientWidth:e.clientHeight);else{if(p.cssText="border:0 solid red;position:"+te(e,"position")+";line-height:0;","%"!==i&&d.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)p[u?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(d=e.parentNode||V.body,-1!==te(d,"display").indexOf("flex")&&(p.position="absolute"),s=d._gsCache,c=t.ticker.frame,s&&u&&s.time===c)return s.width*r/100;p[u?"width":"height"]=r+i}d.appendChild(q),a=parseFloat(q[u?"offsetWidth":"offsetHeight"]),d.removeChild(q),u&&"%"===i&&!1!==l.cacheWidths&&((s=d._gsCache=d._gsCache||{}).time=c,s.width=a/r*100),0!==a||o||(a=ne(e,n,r,i,!0))}else s=ee(e).lineHeight,e.style.lineHeight=r,a=parseFloat(ee(e).lineHeight),e.style.lineHeight=s;return h&&(a/=100),f?-a:a},re=z.calculateOffset=function(e,t,n){if("absolute"!==te(e,"position",n))return 0;var r="left"===t?"Left":"Top",i=te(e,"margin"+r,n);return e["offset"+r]-(ne(e,t,parseFloat(i),i.replace(x,""))||0)},ie=function(e,t){var n,r,i,o={};if(t=t||ee(e,null))if(n=t.length)for(;--n>-1;)(-1===(i=t[n]).indexOf("-transform")||Ae===i)&&(o[i.replace(k,D)]=t.getPropertyValue(i));else for(n in t)(-1===n.indexOf("Transform")||ke===n)&&(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(k,D)]=t[n]);return G||(o.opacity=X(e)),r=qe(e,t,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,Oe&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},oe=function(e,t,n,r,i){var o,a,s,l={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||i&&i[a])&&-1===a.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(l[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(S,"")?o:0:re(e,a),void 0!==c[a]&&(s=new we(c,a,c[a],s)));if(r)for(a in r)"className"!==a&&(l[a]=r[a]);return{difs:l,firstMPT:s}},ae={width:["Left","Right"],height:["Top","Bottom"]},se=["marginLeft","marginRight","marginTop","marginBottom"],le=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||ee(e))[t]||0;if(e.getCTM&&He(e))return e.getBBox()[t]||0;var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),i=ae[t],o=i.length;for(n=n||ee(e,null);--o>-1;)r-=parseFloat(te(e,"padding"+i[o],n,!0))||0,r-=parseFloat(te(e,"border"+i[o]+"Width",n,!0))||0;return r},ce=function et(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var n,r=e.split(" "),i=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!t){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(et(r[n]));return e.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),e=i+" "+o+(r.length>2?" "+r[2]:""),t&&(t.oxp=-1!==i.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===i.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(i.replace(S,"")),t.oy=parseFloat(o.replace(S,"")),t.v=e),t||e},ue=function(e,t){return"function"==typeof e&&(e=e(y,v)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},de=function(e,t){return"function"==typeof e&&(e=e(y,v)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},pe=function(e,t,n,r){var i,o,a,s,l;return"function"==typeof e&&(e=e(y,v)),null==e?s=t:"number"==typeof e?s=e:(i=360,o=e.split("_"),a=((l="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:R)-(l?0:t),o.length&&(r&&(r[n]=t+a),-1!==e.indexOf("short")&&((a%=i)!==a%180&&(a=0>a?a+i:a-i)),-1!==e.indexOf("_cw")&&0>a?a=(a+9999999999*i)%i-(a/i|0)*i:-1!==e.indexOf("ccw")&&a>0&&(a=(a-9999999999*i)%i-(a/i|0)*i)),s=t+a),1e-6>s&&s>-1e-6&&(s=0),s},fe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,n){return 255*(1>6*(e=0>e?e+1:e>1?e-1:e)?t+(n-t)*e*6:.5>e?n:2>3*e?t+(n-t)*(2/3-e)*6:t)+.5|0},ge=l.parseColor=function(e,t){var n,r,i,o,a,s,l,c,u,d,p;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),fe[e])n=fe[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(r=e.charAt(1))+r+(i=e.charAt(2))+i+(o=e.charAt(3))+o),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=p=e.match(w),t){if(-1!==e.indexOf("="))return e.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,r=2*(l=Number(n[2])/100)-(i=.5>=l?l*(s+1):l+s-l*s),n.length>3&&(n[3]=Number(n[3])),n[0]=he(a+1/3,r,i),n[1]=he(a,r,i),n[2]=he(a-1/3,r,i);else n=e.match(w)||fe.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=fe.black;return t&&!p&&(r=n[0]/255,i=n[1]/255,o=n[2]/255,l=((c=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,c===u?a=s=0:(d=c-u,s=l>.5?d/(2-c-u):d/(c+u),a=c===r?(i-o)/d+(o>i?6:0):c===i?(o-r)/d+2:(r-i)/d+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},me=function(e,t){var n,r,i,o=e.match(_e)||[],a=0,s="";if(!o.length)return e;for(n=0;n<o.length;n++)r=o[n],a+=(i=e.substr(a,e.indexOf(r,a)-a)).length+r.length,3===(r=ge(r,t)).length&&r.push(1),s+=i+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+e.substr(a)},_e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(d in fe)_e+="|"+d+"\\b";_e=new RegExp(_e+")","gi"),l.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];_e.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=me(e[0],t),e[1]=me(e[1],t)),_e.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=l.colorStringFilter);var ve=function(e,t,n,r){if(null==e)return function(e){return e};var i,o=t?(e.match(_e)||[""])[0]:"",a=e.split(o).join("").match(C)||[],s=e.substr(0,e.indexOf(a[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",u=a.length,d=u>0?a[0].replace(w,""):"";return u?i=t?function(e){var t,p,f,h;if("number"==typeof e)e+=d;else if(r&&L.test(e)){for(h=e.replace(L,"|").split("|"),f=0;f<h.length;f++)h[f]=i(h[f]);return h.join(",")}if(t=(e.match(_e)||[o])[0],f=(p=e.split(t).join("").match(C)||[]).length,u>f--)for(;++f<u;)p[f]=n?p[(f-1)/2|0]:a[f];return s+p.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,o,p;if("number"==typeof e)e+=d;else if(r&&L.test(e)){for(o=e.replace(L,"|").split("|"),p=0;p<o.length;p++)o[p]=i(o[p]);return o.join(",")}if(p=(t=e.match(C)||[]).length,u>p--)for(;++p<u;)t[p]=n?t[(p-1)/2|0]:a[p];return s+t.join(c)+l}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,n,r,i,o,a,s){var l,c=(n+"").split(" ");for(s={},l=0;4>l;l++)s[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return i.parse(t,s,o,a)}},we=(z._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,i,o,a=this.data,s=a.proxy,l=a.firstMPT;l;)t=s[l.v],l.r?t=l.r(t):1e-6>t&&t>-1e-6&&(t=0),l.t[l.p]=t,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(l=a.firstMPT,o=1===e?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n[o]=i}}else n[o]=n.s+n.xs0;l=l._next}},function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),be=(z._parseToProxy=function(e,t,n,r,i,o){var a,s,l,c,u,d=r,p={},f={},h=n._transform,g=B;for(n._transform=null,B=t,r=u=n.parse(e,t,r,i),B=g,o&&(n._transform=h,d&&(d._prev=null,d._prev&&(d._prev._next=null)));r&&r!==d;){if(r.type<=1&&(f[s=r.p]=r.s+r.c,p[s]=r.s,o||(c=new we(r,"s",s,c,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)l="xn"+a,f[s=r.p+"_"+l]=r.data[l],p[s]=r[l],o||(c=new we(r,l,s,c,r.rxp[l]));r=r._next}return{proxy:p,end:f,firstMPT:c,pt:u}},z.CSSPropTween=function(e,t,r,i,o,a,l,c,u,d,p){this.t=e,this.p=t,this.s=r,this.c=i,this.n=l||t,e instanceof be||s.push(this.n),this.r=c?"function"==typeof c?c:Math.round:c,this.type=a||0,u&&(this.pr=u,n=!0),this.b=void 0===d?r:d,this.e=void 0===p?r+i:p,o&&(this._next=o,o._prev=this)}),Ce=function(e,t,n,r,i,o){var a=new be(e,t,n,r-n,i,-1,o);return a.b=n,a.e=a.xs0=r,a},Se=l.parseComplex=function(e,t,n,r,i,o,a,s,c,u){n=n||o||"","function"==typeof r&&(r=r(y,v)),a=new be(e,t,0,0,a,u?2:1,null,!1,s,n,r),r+="",i&&_e.test(r+n)&&(r=[n,r],l.colorStringFilter(r),n=r[0],r=r[1]);var d,f,h,g,m,_,C,S,x,E,P,T,j,I=n.split(", ").join(",").split(" "),k=r.split(", ").join(",").split(" "),A=I.length,D=!1!==p;for((-1!==r.indexOf(",")||-1!==n.indexOf(","))&&(-1!==(r+n).indexOf("rgb")||-1!==(r+n).indexOf("hsl")?(I=I.join(" ").replace(L,", ").split(" "),k=k.join(" ").replace(L,", ").split(" ")):(I=I.join(" ").split(",").join(", ").split(" "),k=k.join(" ").split(",").join(", ").split(" ")),A=I.length),A!==k.length&&(A=(I=(o||"").split(" ")).length),a.plugin=c,a.setRatio=u,_e.lastIndex=0,d=0;A>d;d++)if(g=I[d],m=k[d]+"",(S=parseFloat(g))||0===S)a.appendXtra("",S,ue(m,S),m.replace(b,""),!(!D||-1===m.indexOf("px"))&&Math.round,!0);else if(i&&_e.test(g))T=")"+((T=m.indexOf(")")+1)?m.substr(T):""),j=-1!==m.indexOf("hsl")&&G,E=m,g=ge(g,j),m=ge(m,j),(x=g.length+m.length>6)&&!G&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(k[d]).join("transparent")):(G||(x=!1),j?a.appendXtra(E.substr(0,E.indexOf("hsl"))+(x?"hsla(":"hsl("),g[0],ue(m[0],g[0]),",",!1,!0).appendXtra("",g[1],ue(m[1],g[1]),"%,",!1).appendXtra("",g[2],ue(m[2],g[2]),x?"%,":"%"+T,!1):a.appendXtra(E.substr(0,E.indexOf("rgb"))+(x?"rgba(":"rgb("),g[0],m[0]-g[0],",",Math.round,!0).appendXtra("",g[1],m[1]-g[1],",",Math.round).appendXtra("",g[2],m[2]-g[2],x?",":T,Math.round),x&&(g=g.length<4?1:g[3],a.appendXtra("",g,(m.length<4?1:m[3])-g,T,!1))),_e.lastIndex=0;else if(_=g.match(w)){if(!(C=m.match(b))||C.length!==_.length)return a;for(h=0,f=0;f<_.length;f++)P=_[f],E=g.indexOf(P,h),a.appendXtra(g.substr(h,E-h),Number(P),ue(C[f],P),"",!(!D||"px"!==g.substr(E+P.length,2))&&Math.round,0===f),h=E+P.length;a["xs"+a.l]+=g.substr(h)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+m:m;if(-1!==r.indexOf("=")&&a.data){for(T=a.xs0+a.data.s,d=1;d<a.l;d++)T+=a["xs"+d]+a.data["xn"+d];a.e=T+a["xs"+d]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},xe=9;for((d=be.prototype).l=d.pr=0;--xe>0;)d["xn"+xe]=0,d["xs"+xe]="";d.xs0="",d._next=d._prev=d.xfirst=d.data=d.plugin=d.setRatio=d.rxp=null,d.appendXtra=function(e,t,n,r,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=i,a["xn"+s]=t,a.plugin||(a.xfirst=new be(a,"xn"+s,t,n,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=i,a)):(a["xs"+s]+=t+(r||""),a)};var Ee=function(e,t){t=t||{},this.p=t.prefix&&Q(e)||e,u[e]=u[this.p]=this,this.format=t.formatter||ve(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Pe=z._registerComplexSpecialProp=function(e,t,n){"object"!=(void 0===t?"undefined":(0,o["default"])(t))&&(t={parser:n});var r,i=e.split(","),a=t.defaultValue;for(n=n||[a],r=0;r<i.length;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||a,new Ee(i[r],t)},Te=z._registerPluginProp=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Pe(e,{parser:function(e,n,r,i,o,a,s){var l=c.com.greensock.plugins[t];return l?(l._cssRegister(),u[r].parse(e,n,r,i,o,a,s)):(Y("Error: "+t+" js file not loaded."),o)}})}};(d=Ee.prototype).parseComplex=function(e,t,n,r,i,o){var a,s,l,c,u,d,p=this.keyword;if(this.multi&&(L.test(n)||L.test(t)?(s=t.replace(L,"|").split("|"),l=n.replace(L,"|").split("|")):p&&(s=[t],l=[n])),l){for(c=l.length>s.length?l.length:s.length,a=0;c>a;a++)t=s[a]=s[a]||this.dflt,n=l[a]=l[a]||this.dflt,p&&((u=t.indexOf(p))!==(d=n.indexOf(p))&&(-1===d?s[a]=s[a].split(p).join(""):-1===u&&(s[a]+=" "+p)));t=s.join(", "),n=l.join(", ")}return Se(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,o)},d.parse=function(e,t,n,r,o,a,s){return this.parseComplex(e.style,this.format(te(e,this.p,i,!1,this.dflt)),this.format(t),o,a)},l.registerSpecialProp=function(e,t,n){Pe(e,{parser:function(e,r,i,o,a,s,l){var c=new be(e,i,0,0,a,2,i,!1,n);return c.plugin=s,c.setRatio=t(e,r,o._tween,i),c},priority:n})},l.useSVGTransformAttr=!0;var je,Ie="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),ke=Q("transform"),Ae=J+"transform",De=Q("transformOrigin"),Oe=null!==Q("perspective"),$e=z.Transform=function(){this.perspective=parseFloat(l.defaultTransformPerspective)||0,this.force3D=!(!1===l.defaultForce3D||!Oe)&&(l.defaultForce3D||"auto")},Me=a.SVGElement,Le=function(e,t,n){var r,i=V.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),n[r]);return t.appendChild(i),i},Ne=V.documentElement||{},Ue=function(){var e,t,n,r=_||/Android/i.test(W)&&!a.chrome;return V.createElementNS&&!r&&(e=Le("svg",Ne),n=(t=Le("rect",e,{width:100,height:50,x:100})).getBoundingClientRect().width,t.style[De]="50% 50%",t.style[ke]="scaleX(0.5)",r=n===t.getBoundingClientRect().width&&!(g&&Oe),Ne.removeChild(e)),r}(),Re=function(e,t,n,r,i,o){var a,s,c,u,d,p,f,h,g,m,_,v,y,w,b=e._gsTransform,C=Fe(e,!0);b&&(y=b.xOrigin,w=b.yOrigin),(!r||(a=r.split(" ")).length<2)&&(0===(f=e.getBBox()).x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(t=ce(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*f.width:parseFloat(t[0]))+f.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*f.height:parseFloat(t[1]))+f.y]),n.xOrigin=u=parseFloat(a[0]),n.yOrigin=d=parseFloat(a[1]),r&&C!==Ve&&(p=C[0],f=C[1],h=C[2],g=C[3],m=C[4],_=C[5],(v=p*g-f*h)&&(s=u*(g/v)+d*(-h/v)+(h*_-g*m)/v,c=u*(-f/v)+d*(p/v)-(p*_-f*m)/v,u=n.xOrigin=a[0]=s,d=n.yOrigin=a[1]=c)),b&&(o&&(n.xOffset=b.xOffset,n.yOffset=b.yOffset,b=n),i||!1!==i&&!1!==l.defaultSmoothOrigin?(s=u-y,c=d-w,b.xOffset+=s*C[0]+c*C[2]-s,b.yOffset+=s*C[1]+c*C[3]-c):b.xOffset=b.yOffset=0),o||e.setAttribute("data-svg-origin",a.join(" "))},Be=function(e){try{return e.getBBox()}catch(t){return function r(e){var t,n=F("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Ne.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=r}catch(l){}else this._originalGetBBox&&(t=this._originalGetBBox());return o?i.insertBefore(this,o):i.appendChild(this),Ne.removeChild(n),this.style.cssText=a,t}.call(e,!0)}},He=function(e){return!(!Me||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Be(e))},Ve=[1,0,0,1,0,0],Fe=function(e,t){var n,r,i,o,a,s,l=e._gsTransform||new $e,c=e.style;if(ke?r=te(e,Ae,null,!0):e.currentStyle&&(r=(r=e.currentStyle.filter.match($))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),l.x||0,l.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!ke||!(s=!ee(e)||"none"===ee(e).display)&&e.parentNode||(s&&(o=c.display,c.display="block"),e.parentNode||(a=1,Ne.appendChild(e)),n=!(r=te(e,Ae,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?c.display=o:s&&Ge(c,"display"),a&&Ne.removeChild(e)),(l.svg||e.getCTM&&He(e))&&(n&&-1!==(c[ke]+"").indexOf("matrix")&&(r=c[ke],n=0),i=e.getAttribute("transform"),n&&i&&(r="matrix("+(i=e.transform.baseVal.consolidate().matrix).a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")",n=0)),n)return Ve;for(i=(r||"").match(w)||[],xe=i.length;--xe>-1;)o=Number(i[xe]),i[xe]=(a=o-(o|=0))?(1e5*a+(0>a?-.5:.5)|0)/1e5+o:o;return t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},qe=z.getTransform=function(e,n,r,i){if(e._gsTransform&&r&&!i)return e._gsTransform;var o,a,s,c,u,d,p=r&&e._gsTransform||new $e,f=p.scaleX<0,h=2e-5,g=1e5,m=Oe&&(parseFloat(te(e,De,n,!1,"0 0 0").split(" ")[2])||p.zOrigin)||0,_=parseFloat(l.defaultTransformPerspective)||0;if(p.svg=!(!e.getCTM||!He(e)),p.svg&&(Re(e,te(e,De,n,!1,"50% 50%")+"",p,e.getAttribute("data-svg-origin")),je=l.useSVGTransformAttr||Ue),(o=Fe(e))!==Ve){if(16===o.length){var v,y,w,b,C,S=o[0],x=o[1],E=o[2],P=o[3],T=o[4],j=o[5],I=o[6],k=o[7],A=o[8],D=o[9],O=o[10],$=o[12],M=o[13],L=o[14],N=o[11],U=Math.atan2(I,O);p.zOrigin&&($=A*(L=-p.zOrigin)-o[12],M=D*L-o[13],L=O*L+p.zOrigin-o[14]),p.rotationX=U*R,U&&(v=T*(b=Math.cos(-U))+A*(C=Math.sin(-U)),y=j*b+D*C,w=I*b+O*C,A=T*-C+A*b,D=j*-C+D*b,O=I*-C+O*b,N=k*-C+N*b,T=v,j=y,I=w),U=Math.atan2(-E,O),p.rotationY=U*R,U&&(y=x*(b=Math.cos(-U))-D*(C=Math.sin(-U)),w=E*b-O*C,D=x*C+D*b,O=E*C+O*b,N=P*C+N*b,S=v=S*b-A*C,x=y,E=w),U=Math.atan2(x,S),p.rotation=U*R,U&&(v=S*(b=Math.cos(U))+x*(C=Math.sin(U)),y=T*b+j*C,w=A*b+D*C,x=x*b-S*C,j=j*b-T*C,D=D*b-A*C,S=v,T=y,A=w),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY=180-p.rotationY),U=Math.atan2(T,j),p.scaleX=(Math.sqrt(S*S+x*x+E*E)*g+.5|0)/g,p.scaleY=(Math.sqrt(j*j+I*I)*g+.5|0)/g,p.scaleZ=(Math.sqrt(A*A+D*D+O*O)*g+.5|0)/g,S/=p.scaleX,T/=p.scaleY,x/=p.scaleX,j/=p.scaleY,Math.abs(U)>h?(p.skewX=U*R,T=0,"simple"!==p.skewType&&(p.scaleY*=1/Math.cos(U))):p.skewX=0,p.perspective=N?1/(0>N?-N:N):0,p.x=$,p.y=M,p.z=L,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*S-p.yOrigin*T),p.y-=p.yOrigin-(p.yOrigin*x-p.xOrigin*j))}else if(!Oe||i||!o.length||p.x!==o[4]||p.y!==o[5]||!p.rotationX&&!p.rotationY){var B=o.length>=6,H=B?o[0]:1,V=o[1]||0,F=o[2]||0,q=B?o[3]:1;p.x=o[4]||0,p.y=o[5]||0,s=Math.sqrt(H*H+V*V),c=Math.sqrt(q*q+F*F),u=H||V?Math.atan2(V,H)*R:p.rotation||0,d=F||q?Math.atan2(F,q)*R+u:p.skewX||0,p.scaleX=s,p.scaleY=c,p.rotation=u,p.skewX=d,Oe&&(p.rotationX=p.rotationY=p.z=0,p.perspective=_,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*H+p.yOrigin*F),p.y-=p.yOrigin-(p.xOrigin*V+p.yOrigin*q))}for(a in Math.abs(p.skewX)>90&&Math.abs(p.skewX)<270&&(f?(p.scaleX*=-1,p.skewX+=p.rotation<=0?180:-180,p.rotation+=p.rotation<=0?180:-180):(p.scaleY*=-1,p.skewX+=p.skewX<=0?180:-180)),p.zOrigin=m,p)p[a]<h&&p[a]>-h&&(p[a]=0)}return r&&(e._gsTransform=p,p.svg&&(je&&e.style[ke]?t.delayedCall(.001,function(){Ge(e.style,ke)}):!je&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),p},Ke=function(e){var t,n,r=this.data,i=-r.rotation*U,o=i+r.skewX*U,a=1e5,s=(Math.cos(i)*r.scaleX*a|0)/a,l=(Math.sin(i)*r.scaleX*a|0)/a,c=(Math.sin(o)*-r.scaleY*a|0)/a,u=(Math.cos(o)*r.scaleY*a|0)/a,d=this.t.style,p=this.t.currentStyle;if(p){n=l,l=-c,c=-n,t=p.filter,d.filter="";var f,h,g=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+u,w=r.x+g*r.xPercent/100,b=r.y+m*r.yPercent/100;if(null!=r.ox&&(w+=(f=(r.oxp?g*r.ox*.01:r.ox)-g/2)-(f*s+(h=(r.oyp?m*r.oy*.01:r.oy)-m/2)*l),b+=h-(f*c+h*u)),v?y+=", Dx="+((f=g/2)-(f*s+(h=m/2)*l)+w)+", Dy="+(h-(f*c+h*u)+b)+")":y+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(M,y):d.filter=y+" "+t,(0===e||1===e)&&1===s&&0===l&&0===c&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||E.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!v){var C,S,P,T=8>_?1:-1;for(f=r.ieOffsetX||0,h=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((0>s?-s:s)*g+(0>l?-l:l)*m))/2+w),r.ieOffsetY=Math.round((m-((0>u?-u:u)*m+(0>c?-c:c)*g))/2+b),xe=0;4>xe;xe++)P=(n=-1!==(C=p[S=se[xe]]).indexOf("px")?parseFloat(C):ne(this.t,S,parseFloat(C),C.replace(x,""))||0)!==r[S]?2>xe?-r.ieOffsetX:-r.ieOffsetY:2>xe?f-r.ieOffsetX:h-r.ieOffsetY,d[S]=(r[S]=Math.round(n-P*(0===xe||2===xe?1:T)))+"px"}}},ze=z.set3DTransformRatio=z.setTransformRatio=function(e){var t,n,r,i,o,a,s,l,c,u,d,p,f,h,m,_,v,y,w,b,C,S,x,E=this.data,P=this.t.style,T=E.rotation,j=E.rotationX,I=E.rotationY,k=E.scaleX,A=E.scaleY,D=E.scaleZ,O=E.x,$=E.y,M=E.z,L=E.svg,N=E.perspective,R=E.force3D,B=E.skewY,H=E.skewX;if(B&&(H+=B,T+=B),!((1!==e&&0!==e||"auto"!==R||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&R||M||N||I||j||1!==D)||je&&L||!Oe)T||H||L?(T*=U,S=H*U,x=1e5,n=Math.cos(T)*k,o=Math.sin(T)*k,r=Math.sin(T-S)*-A,a=Math.cos(T-S)*A,S&&"simple"===E.skewType&&(t=Math.tan(S-B*U),r*=t=Math.sqrt(1+t*t),a*=t,B&&(t=Math.tan(B*U),n*=t=Math.sqrt(1+t*t),o*=t)),L&&(O+=E.xOrigin-(E.xOrigin*n+E.yOrigin*r)+E.xOffset,$+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset,je&&(E.xPercent||E.yPercent)&&(m=this.t.getBBox(),O+=.01*E.xPercent*m.width,$+=.01*E.yPercent*m.height),(m=1e-6)>O&&O>-m&&(O=0),m>$&&$>-m&&($=0)),w=(n*x|0)/x+","+(o*x|0)/x+","+(r*x|0)/x+","+(a*x|0)/x+","+O+","+$+")",L&&je?this.t.setAttribute("transform","matrix("+w):P[ke]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+w):P[ke]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+k+",0,0,"+A+","+O+","+$+")";else{if(g&&((m=1e-4)>k&&k>-m&&(k=D=2e-5),m>A&&A>-m&&(A=D=2e-5),!N||E.z||E.rotationX||E.rotationY||(N=0)),T||H)T*=U,_=n=Math.cos(T),v=o=Math.sin(T),H&&(T-=H*U,_=Math.cos(T),v=Math.sin(T),"simple"===E.skewType&&(t=Math.tan((H-B)*U),_*=t=Math.sqrt(1+t*t),v*=t,E.skewY&&(t=Math.tan(B*U),n*=t=Math.sqrt(1+t*t),o*=t))),r=-v,a=_;else{if(!(I||j||1!==D||N||L))return void(P[ke]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+O+"px,"+$+"px,"+M+"px)"+(1!==k||1!==A?" scale("+k+","+A+")":""));n=a=1,r=o=0}u=1,i=s=l=c=d=p=0,f=N?-1/N:0,h=E.zOrigin,m=1e-6,b=",",C="0",(T=I*U)&&(_=Math.cos(T),l=-(v=Math.sin(T)),d=f*-v,i=n*v,s=o*v,u=_,f*=_,n*=_,o*=_),(T=j*U)&&(t=r*(_=Math.cos(T))+i*(v=Math.sin(T)),y=a*_+s*v,c=u*v,p=f*v,i=r*-v+i*_,s=a*-v+s*_,u*=_,f*=_,r=t,a=y),1!==D&&(i*=D,s*=D,u*=D,f*=D),1!==A&&(r*=A,a*=A,c*=A,p*=A),1!==k&&(n*=k,o*=k,l*=k,d*=k),(h||L)&&(h&&(O+=i*-h,$+=s*-h,M+=u*-h+h),L&&(O+=E.xOrigin-(E.xOrigin*n+E.yOrigin*r)+E.xOffset,$+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset),m>O&&O>-m&&(O=C),m>$&&$>-m&&($=C),m>M&&M>-m&&(M=0)),w=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",w+=(m>n&&n>-m?C:n)+b+(m>o&&o>-m?C:o)+b+(m>l&&l>-m?C:l),w+=b+(m>d&&d>-m?C:d)+b+(m>r&&r>-m?C:r)+b+(m>a&&a>-m?C:a),j||I||1!==D?(w+=b+(m>c&&c>-m?C:c)+b+(m>p&&p>-m?C:p)+b+(m>i&&i>-m?C:i),w+=b+(m>s&&s>-m?C:s)+b+(m>u&&u>-m?C:u)+b+(m>f&&f>-m?C:f)+b):w+=",0,0,0,0,1,0,",w+=O+b+$+b+M+b+(N?1+-M/N:1)+")",P[ke]=w}};(d=$e.prototype).x=d.y=d.z=d.skewX=d.skewY=d.rotation=d.rotationX=d.rotationY=d.zOrigin=d.xPercent=d.yPercent=d.xOffset=d.yOffset=0,d.scaleX=d.scaleY=d.scaleZ=1,Pe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,r,a,s,c){if(r._lastParsedTransform===c)return a;r._lastParsedTransform=c;var u,d=c.scale&&"function"==typeof c.scale?c.scale:0;"function"==typeof c[n]&&(u=c[n],c[n]=t),d&&(c.scale=d(y,e));var p,f,h,g,m,_,w,b,C,S=e._gsTransform,x=e.style,E=Ie.length,P=c,T={},j="transformOrigin",I=qe(e,i,!0,P.parseTransform),k=P.transform&&("function"==typeof P.transform?P.transform(y,v):P.transform);if(I.skewType=P.skewType||I.skewType||l.defaultSkewType,r._transform=I,k&&"string"==typeof k&&ke)(f=q.style)[ke]=k,f.display="block",f.position="absolute",-1!==k.indexOf("%")&&(f.width=te(e,"width"),f.height=te(e,"height")),V.body.appendChild(q),p=qe(q,null,!1),"simple"===I.skewType&&(p.scaleY*=Math.cos(p.skewX*U)),I.svg&&(_=I.xOrigin,w=I.yOrigin,p.x-=I.xOffset,p.y-=I.yOffset,(P.transformOrigin||P.svgOrigin)&&(k={},Re(e,ce(P.transformOrigin),k,P.svgOrigin,P.smoothOrigin,!0),_=k.xOrigin,w=k.yOrigin,p.x-=k.xOffset-I.xOffset,p.y-=k.yOffset-I.yOffset),(_||w)&&(b=Fe(q,!0),p.x-=_-(_*b[0]+w*b[2]),p.y-=w-(_*b[1]+w*b[3]))),V.body.removeChild(q),p.perspective||(p.perspective=I.perspective),null!=P.xPercent&&(p.xPercent=de(P.xPercent,I.xPercent)),null!=P.yPercent&&(p.yPercent=de(P.yPercent,I.yPercent));else if("object"==(void 0===P?"undefined":(0,o["default"])(P))){if(p={scaleX:de(null!=P.scaleX?P.scaleX:P.scale,I.scaleX),scaleY:de(null!=P.scaleY?P.scaleY:P.scale,I.scaleY),scaleZ:de(P.scaleZ,I.scaleZ),x:de(P.x,I.x),y:de(P.y,I.y),z:de(P.z,I.z),xPercent:de(P.xPercent,I.xPercent),yPercent:de(P.yPercent,I.yPercent),perspective:de(P.transformPerspective,I.perspective)},null!=(m=P.directionalRotation))if("object"==(void 0===m?"undefined":(0,o["default"])(m)))for(f in m)P[f]=m[f];else P.rotation=m;"string"==typeof P.x&&-1!==P.x.indexOf("%")&&(p.x=0,p.xPercent=de(P.x,I.xPercent)),"string"==typeof P.y&&-1!==P.y.indexOf("%")&&(p.y=0,p.yPercent=de(P.y,I.yPercent)),p.rotation=pe("rotation"in P?P.rotation:"shortRotation"in P?P.shortRotation+"_short":"rotationZ"in P?P.rotationZ:I.rotation,I.rotation,"rotation",T),Oe&&(p.rotationX=pe("rotationX"in P?P.rotationX:"shortRotationX"in P?P.shortRotationX+"_short":I.rotationX||0,I.rotationX,"rotationX",T),p.rotationY=pe("rotationY"in P?P.rotationY:"shortRotationY"in P?P.shortRotationY+"_short":I.rotationY||0,I.rotationY,"rotationY",T)),p.skewX=pe(P.skewX,I.skewX),p.skewY=pe(P.skewY,I.skewY)}for(Oe&&null!=P.force3D&&(I.force3D=P.force3D,g=!0),(h=I.force3D||I.z||I.rotationX||I.rotationY||p.z||p.rotationX||p.rotationY||p.perspective)||null==P.scale||(p.scaleZ=1);--E>-1;)((k=p[C=Ie[E]]-I[C])>1e-6||-1e-6>k||null!=P[C]||null!=B[C])&&(g=!0,a=new be(I,C,I[C],k,a),C in T&&(a.e=T[C]),a.xs0=0,a.plugin=s,r._overwriteProps.push(a.n));return k=P.transformOrigin,I.svg&&(k||P.svgOrigin)&&(_=I.xOffset,w=I.yOffset,Re(e,ce(k),p,P.svgOrigin,P.smoothOrigin),a=Ce(I,"xOrigin",(S?I:p).xOrigin,p.xOrigin,a,j),a=Ce(I,"yOrigin",(S?I:p).yOrigin,p.yOrigin,a,j),(_!==I.xOffset||w!==I.yOffset)&&(a=Ce(I,"xOffset",S?_:I.xOffset,I.xOffset,a,j),a=Ce(I,"yOffset",S?w:I.yOffset,I.yOffset,a,j)),k="0px 0px"),(k||Oe&&h&&I.zOrigin)&&(ke?(g=!0,C=De,k=(k||te(e,C,i,!1,"50% 50%"))+"",(a=new be(x,C,0,0,a,-1,j)).b=x[C],a.plugin=s,Oe?(f=I.zOrigin,k=k.split(" "),I.zOrigin=(k.length>2&&(0===f||"0px"!==k[2])?parseFloat(k[2]):f)||0,a.xs0=a.e=k[0]+" "+(k[1]||"50%")+" 0px",(a=new be(I,"zOrigin",0,0,a,-1,a.n)).b=f,a.xs0=a.e=I.zOrigin):a.xs0=a.e=k):ce(k+"",I)),g&&(r._transformType=I.svg&&je||!h&&3!==this._transformType?2:3),u&&(c[n]=u),d&&(c.scale=d),a},prefix:!0}),Pe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Pe("borderRadius",{defaultValue:"0px",parser:function(e,t,n,o,a,s){t=this.format(t);var l,c,u,d,p,f,h,g,m,_,v,y,w,b,C,S,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(m=parseFloat(e.offsetWidth),_=parseFloat(e.offsetHeight),l=t.split(" "),c=0;c<x.length;c++)this.p.indexOf("border")&&(x[c]=Q(x[c])),-1!==(p=d=te(e,x[c],i,!1,"0px")).indexOf(" ")&&(p=(d=p.split(" "))[0],d=d[1]),f=u=l[c],h=parseFloat(p),y=p.substr((h+"").length),(w="="===f.charAt(1))?(g=parseInt(f.charAt(0)+"1",10),f=f.substr(2),g*=parseFloat(f),v=f.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(f),v=f.substr((g+"").length)),""===v&&(v=r[n]||y),v!==y&&(b=ne(e,"borderLeft",h,y),C=ne(e,"borderTop",h,y),"%"===v?(p=b/m*100+"%",d=C/_*100+"%"):"em"===v?(p=b/(S=ne(e,"borderLeft",1,"em"))+"em",d=C/S+"em"):(p=b+"px",d=C+"px"),w&&(f=parseFloat(p)+g+v,u=parseFloat(d)+g+v)),a=Se(E,x[c],p+" "+d,f+" "+u,!1,"0px",a);return a},prefix:!0,formatter:ve("0px 0px 0px 0px",!1,!0)}),Pe("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,a){return Se(e.style,n,this.format(te(e,n,i,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:ve("0px 0px",!1,!0)}),Pe("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,o,a){var s,l,c,u,d,p,f="background-position",h=i||ee(e,null),g=this.format((h?_?h.getPropertyValue(f+"-x")+" "+h.getPropertyValue(f+"-y"):h.getPropertyValue(f):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==g.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&((p=te(e,"backgroundImage").replace(A,""))&&"none"!==p)){for(s=g.split(" "),l=m.split(" "),K.setAttribute("src",p),c=2;--c>-1;)(u=-1!==(g=s[c]).indexOf("%"))!==(-1!==l[c].indexOf("%"))&&(d=0===c?e.offsetWidth-K.width:e.offsetHeight-K.height,s[c]=u?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,m,o,a)},formatter:ce}),Pe("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:ce(-1===e.indexOf(" ")?e+" "+e:e)}}),Pe("perspective",{defaultValue:"0px",prefix:!0}),Pe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Pe("transformStyle",{prefix:!0}),Pe("backfaceVisibility",{prefix:!0}),Pe("userSelect",{prefix:!0}),Pe("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),Pe("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Pe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,o,a){var s,l,c;return 9>_?(l=e.currentStyle,c=8>_?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(te(e,this.p,i,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,a)}}),Pe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Pe("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),Pe("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,o,a){var s=te(e,"borderTopWidth",i,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(x,"");return"px"!==c&&(s=parseFloat(s)/ne(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+te(e,"borderTopStyle",i,!1,"solid")+" "+te(e,"borderTopColor",i,!1,"#000")),l.join(" "),o,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(_e)||["#000"])[0]}}),Pe("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Pe("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new be(a,s,0,0,i,-1,n,!1,0,a[s],t)}});var We=function(e){var t,n=this.t,r=n.filter||te(this.data,"filter")||"",i=this.s+this.c*e|0;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!te(this.data,"filter")):(n.filter=r.replace(T,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),-1===r.indexOf("pacity")?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(E,"opacity="+i))};Pe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,o,a){var s=parseFloat(te(e,"opacity",i,!1,"1")),l=e.style,c="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===te(e,"visibility",i)&&0!==t&&(s=0),G?o=new be(l,"opacity",s,t-s,o):((o=new be(l,"opacity",100*s,100*(t-s),o)).xn1=c?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=a,o.setRatio=We),c&&((o=new be(l,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(n)),o}});var Ge=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(I,"-$1").toLowerCase())):e.removeAttribute(t))},Xe=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Ge(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Pe("className",{parser:function(e,t,r,o,a,s,l){var c,u,d,p,f,h=e.getAttribute("class")||"",g=e.style.cssText;if((a=o._classNamePT=new be(e,r,0,0,a,2)).setRatio=Xe,a.pr=-11,n=!0,a.b=h,u=ie(e,i),d=e._gsClassPT){for(p={},f=d.data;f;)p[f.p]=1,f=f._next;d.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:h.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),c=oe(e,u,ie(e),l,p),e.setAttribute("class",h),a.data=c.firstMPT,e.style.cssText=g,a.xfirst=o.parse(e,c.difs,a,s)}});var Ye=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,i,o,a=this.t.style,s=u.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(r=(t=this.e.split(" ").join("").split(",")).length;--r>-1;)n=t[r],u[n]&&(u[n].parse===s?i=!0:n="transformOrigin"===n?De:u[n].p),Ge(a,n);i&&(Ge(a,ke),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Pe("clearProps",{parser:function(e,t,r,i,o){return(o=new be(e,r,0,0,o,2)).setRatio=Ye,o.e=t,o.pr=-10,o.data=i._tween,n=!0,o}}),d="bezier,throwProps,physicsProps,physics2D".split(","),xe=d.length;xe--;)Te(d[xe]);(d=l.prototype)._firstPT=d._lastParsedTransform=d._transform=null,d._onInitTween=function(e,t,o,a){if(!e.nodeType)return!1;this._target=v=e,this._tween=o,this._vars=t,y=a,p=t.autoRound,n=!1,r=t.suffixMap||l.suffixMap,i=ee(e,""),s=this._overwriteProps;var c,d,g,_,w,b,C,S,x,E=e.style;if(f&&""===E.zIndex&&(("auto"===(c=te(e,"zIndex",i))||""===c)&&this._addLazySet(E,"zIndex",0)),"string"==typeof t&&(_=E.cssText,c=ie(e,i),E.cssText=_+";"+t,c=oe(e,c,ie(e)).difs,!G&&P.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,E.cssText=_),t.className?this._firstPT=d=u.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=d=this.parse(e,t,null),this._transformType){for(x=3===this._transformType,ke?h&&(f=!0,""===E.zIndex&&(("auto"===(C=te(e,"zIndex",i))||""===C)&&this._addLazySet(E,"zIndex",0)),m&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):E.zoom=1,g=d;g&&g._next;)g=g._next;S=new be(e,"transform",0,0,null,2),this._linkCSSP(S,null,g),S.setRatio=ke?ze:Ke,S.data=this._transform||qe(e,i,!0),S.tween=o,S.pr=-1,s.pop()}if(n){for(;d;){for(b=d._next,g=_;g&&g.pr>d.pr;)g=g._next;(d._prev=g?g._prev:w)?d._prev._next=d:_=d,(d._next=g)?g._prev=d:w=d,d=b}this._firstPT=_}return!0},d.parse=function(e,t,n,o){var a,s,l,c,d,f,h,g,m,_,w=e.style;for(a in t){if("function"==typeof(f=t[a])&&(f=f(y,v)),s=u[a])n=s.parse(e,f,a,this,n,o,t);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,e.style,"setProperty",ee(e).getPropertyValue(a)+"",f+"",a,!1,a);continue}d=te(e,a,i)+"",m="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&j.test(f)?(m||(f=((f=ge(f)).length>3?"rgba(":"rgb(")+f.join(",")+")"),n=Se(w,a,d,f,!0,"transparent",n,0,o)):m&&N.test(f)?n=Se(w,a,d,f,!0,null,n,0,o):(h=(l=parseFloat(d))||0===l?d.substr((l+"").length):"",(""===d||"auto"===d)&&("width"===a||"height"===a?(l=le(e,a,i),h="px"):"left"===a||"top"===a?(l=re(e,a,i),h="px"):(l="opacity"!==a?0:1,h="")),(_=m&&"="===f.charAt(1))?(c=parseInt(f.charAt(0)+"1",10),f=f.substr(2),c*=parseFloat(f),g=f.replace(x,"")):(c=parseFloat(f),g=m?f.replace(x,""):""),""===g&&(g=a in r?r[a]:h),f=c||0===c?(_?c+l:c)+g:t[a],h!==g&&(""!==g||"lineHeight"===a)&&(c||0===c)&&l&&(l=ne(e,a,l,h),"%"===g?(l/=ne(e,a,100,"%")/100,!0!==t.strictUnits&&(d=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=ne(e,a,1,g):"px"!==g&&(c=ne(e,a,c,g),g="px"),_&&(c||0===c)&&(f=c+l+g)),_&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==w[a]&&(f||f+""!="NaN"&&null!=f)?(n=new be(w,a,c||l||0,0,n,-1,a,!1,0,d,f)).xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:d:Y("invalid "+a+" tween value: "+t[a]):(n=new be(w,a,l,c-l,n,0,a,!1!==p&&("px"===g||"zIndex"===a),0,d,f)).xs0=g)}o&&n&&!n.plugin&&(n.plugin=o)}return n},d.setRatio=function(e){var t,n,r,i=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;i;){if(t=i.c*e+i.s,i.r?t=i.r(t):1e-6>t&&t>-1e-6&&(t=0),i.type)if(1===i.type)if(2===(r=i.l))i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+t+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(e);else i.t[i.p]=t+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(e),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&-1!==i.type)if(t=i.r(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+t+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=t+i.xs0;else i.t[i.p]=i.e;else i.setRatio(e);i=i._next}},d._enableTransforms=function(e){this._transform=this._transform||qe(this._target,i,!0),this._transformType=this._transform.svg&&je||!e&&3!==this._transformType?2:3};var Je=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};d._addLazySet=function(e,t,n){var r=this._firstPT=new be(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=Je,r.data=this},d._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},d._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},d._kill=function(t){var n,r,i,o=t;if(t.autoAlpha||t.alpha){for(r in o={},t)o[r]=t[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(n=this._classNamePT)&&((i=n.xfirst)&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(t),r=n.plugin),n=n._next;return e.prototype._kill.call(this,o)};var Ze=function tt(e,t,n){var r,i,o,a;if(e.slice)for(i=e.length;--i>-1;)tt(e[i],t,n);else for(i=(r=e.childNodes).length;--i>-1;)a=(o=r[i]).type,o.style&&(t.push(ie(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||tt(o,t,n)};return l.cascadeTo=function(e,n,r){var i,o,a,s,l=t.to(e,n,r),c=[l],u=[],d=[],p=[],f=t._internals.reservedProps;for(e=l._targets||l.target,Ze(e,u,p),l.render(n,!0,!0),Ze(e,d),l.render(0,!0,!0),l._enabled(!0),i=p.length;--i>-1;)if((o=oe(p[i],u[i],d[i])).firstMPT){for(a in o=o.difs,r)f[a]&&(o[a]=r[a]);for(a in s={},o)s[a]=u[i][a];c.push(t.fromTo(p[i],n,s,o))}return c},e.activate([l]),l},!0),function(){var e=a._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=function(e){var t=1>e?Math.pow(10,(e+"").length-2):1;return function(n){return(Math.round(n/e)*e*t|0)/t}},n=function(e,t){for(;e;)e.f||e.blob||(e.m=t||Math.round),e=e._next},r=e.prototype;r._onInitAllProps=function(){var e,r,i,a,s=this._tween,l=s.vars.roundProps,c={},u=s._propLookup.roundProps;if("object"!=(void 0===l?"undefined":(0,o["default"])(l))||l.push)for("string"==typeof l&&(l=l.split(",")),i=l.length;--i>-1;)c[l[i]]=Math.round;else for(a in l)c[a]=t(l[a]);for(a in c)for(e=s._firstPT;e;)r=e._next,e.pg?e.t._mod(c):e.n===a&&(2===e.f&&e.t?n(e.t._firstPT,c[a]):(this._add(e.t,a,e.s,e.c,c[a]),r&&(r._prev=e._prev),e._prev?e._prev._next=r:s._firstPT===e&&(s._firstPT=r),e._next=e._prev=null,s._propLookup[a]=u)),e=r;return!1},r._add=function(e,t,n,r,i){this._addTween(e,t,n,n+r,t,i||Math.round),this._overwriteProps.push(t)}}(),a._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,r){var i,o;if("function"!=typeof e.setAttribute)return!1;for(i in t)"function"==typeof(o=t[i])&&(o=o(r,e)),this._addTween(e,"setAttribute",e.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}}),a._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,n,r){"object"!=(void 0===t?"undefined":(0,o["default"])(t))&&(t={rotation:t}),this.finals={};var i,a,s,l,c,u,d=!0===t.useRadians?2*Math.PI:360;for(i in t)"useRadians"!==i&&("function"==typeof(l=t[i])&&(l=l(r,e)),a=(u=(l+"").split("_"))[0],s=parseFloat("function"!=typeof e[i]?e[i]:e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]()),c=(l=this.finals[i]="string"==typeof a&&"="===a.charAt(1)?s+parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)):Number(a)||0)-s,u.length&&(-1!==(a=u.join("_")).indexOf("short")&&((c%=d)!==c%(d/2)&&(c=0>c?c+d:c-d)),-1!==a.indexOf("_cw")&&0>c?c=(c+9999999999*d)%d-(c/d|0)*d:-1!==a.indexOf("ccw")&&c>0&&(c=(c-9999999999*d)%d-(c/d|0)*d)),(c>1e-6||-1e-6>c)&&(this._addTween(e,i,s,s+c,i),this._overwriteProps.push(i)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,r,i,o=a.GreenSockGlobals||a,s=o.com.greensock,l=2*Math.PI,c=Math.PI/2,u=s._class,d=function(t,n){var r=u("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},p=e.register||function(){},f=function(e,t,n,r,i){var o=u("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return p(o,e),o},h=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},g=function(t,n){var r=u("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},m=f("Back",g("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),g("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),g("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),_=u("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),v=_.prototype=new e;return v.constructor=_,v.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},_.ease=new _(.7,.7),v.config=_.config=function(e,t,n){return new _(e,t,n)},(v=(t=u("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new e).constructor=t,v.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},v.config=t.config=function(e,n){return new t(e,n)},(v=(n=u("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0)).prototype=new e).constructor=n,v.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},v.config=n.config=function(e,t,r){return new n(e,t,r)},(v=(r=u("easing.RoughEase",function(t){for(var n,r,i,o,a,s,l=(t=t||{}).taper||"none",c=[],u=0,d=0|(t.points||20),p=d,f=!1!==t.randomize,g=!0===t.clamp,m=t.template instanceof e?t.template:null,_="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)n=f?Math.random():1/d*p,r=m?m.getRatio(n):n,"none"===l?i=_:"out"===l?i=(o=1-n)*o*_:"in"===l?i=n*n*_:.5>n?i=(o=2*n)*o*.5*_:i=(o=2*(1-n))*o*.5*_,f?r+=Math.random()*i-.5*i:p%2?r+=.5*i:r-=.5*i,g&&(r>1?r=1:0>r&&(r=0)),c[u++]={x:n,y:r};for(c.sort(function(e,t){return e.x-t.x}),s=new h(1,1,null),p=d;--p>-1;)a=c[p],s=new h(a.x,a.y,s);this._prev=new h(0,0,0!==s.t?s:s.next)},!0)).prototype=new e).constructor=r,v.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},v.config=function(e){return new r(e)},r.ease=new r,f("Bounce",d("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),d("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),d("BounceInOut",function(e){var t=.5>e;return e=1/2.75>(e=t?1-2*e:2*e-1)?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),f("Circ",d("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),d("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),d("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),f("Elastic",(i=function(t,n,r){var i=u("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(1>e?e:1),this._p3=this._p2/l*(Math.asin(1/this._p1)||0),this._p2=l/this._p2},!0),o=i.prototype=new e;return o.constructor=i,o.getRatio=n,o.config=function(e,t){return new i(e,t)},i})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),i("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),i("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),f("Expo",d("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),d("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),d("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),f("Sine",d("SineOut",function(e){return Math.sin(e*c)}),d("SineIn",function(e){return 1-Math.cos(e*c)}),d("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),u("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),p(o.SlowMo,"SlowMo","ease,"),p(r,"RoughEase","ease,"),p(t,"SteppedEase","ease,"),m},!0)}),a._gsDefine&&a._gsQueue.pop()(),function(r,a){var s={},l=r.document,c=r.GreenSockGlobals=r.GreenSockGlobals||r,u=c[a];if(u)return void 0!==e&&e.exports&&(e.exports=u),u;var d,p,f,h,g,m=function(e){var t,n=e.split("."),r=c;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},_=m("com.greensock"),v=1e-10,y=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},w=function(){},b=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==(void 0===n?"undefined":(0,o["default"])(n))&&!!n.push&&e.call(n)===t)}}(),C={},S=function se(r,o,l,u){this.sc=C[r]?C[r].sc:[],C[r]=this,this.gsClass=null,this.func=l;var d=[];this.check=function(p){for(var f,h,g,_,v=o.length,y=v;--v>-1;)(f=C[o[v]]||new se(o[v],[])).gsClass?(d[v]=f.gsClass,y--):p&&f.sc.push(this);if(0===y&&l){if(g=(h=("com.greensock."+r).split(".")).pop(),_=m(h.join("."))[g]=this.gsClass=l.apply(l,d),u)if(c[g]=s[g]=_,void 0!==e&&e.exports)if(r===a)for(v in e.exports=s[a]=_,s)_[v]=s[v];else s[a]&&(s[a][g]=_);else n(517)&&((i=function(){return _}.apply(t,[]))===undefined||(e.exports=i));for(v=0;v<this.sc.length;v++)this.sc[v].check()}},this.check(!0)},x=r._gsDefine=function(e,t,n,r){return new S(e,t,n,r)},E=_._class=function(e,t,n){return t=t||function(){},x(e,[],function(){return t},n),t};x.globals=c;var P=[0,0,1,1],T=E("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?P.concat(t):P},!0),j=T.map={},I=T.register=function(e,t,n,r){for(var i,o,a,s,l=t.split(","),c=l.length,u=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=l[c],i=r?E("easing."+o,null,!0):_.easing[o]||{},a=u.length;--a>-1;)s=u[a],j[o+"."+s]=j[s+o]=i[s]=e.getRatio?e:e[s]||new e};for((f=T.prototype)._calcEnd=!1,f.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},p=(d=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--p>-1;)f=d[p]+",Power"+p,I(new T(null,null,1,p),f,"easeOut",!0),I(new T(null,null,2,p),f,"easeIn"+(0===p?",easeNone":"")),I(new T(null,null,3,p),f,"easeInOut");j.linear=_.easing.Linear.easeIn,j.swing=_.easing.Quad.easeInOut;var k=E("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(f=k.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,a,s=this._listeners[e],l=0;for(this!==h||g||h.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===t&&o.s===n?s.splice(a,1):0===l&&o.pr<i&&(l=a+1);s.splice(l,0,{c:t,s:n,up:r,pr:i})},f.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},f.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for((t=i.length)>1&&(i=i.slice(0)),n=this._eventTarget;--t>-1;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var A=r.requestAnimationFrame,D=r.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()},$=O();for(p=(d=["ms","moz","webkit","o"]).length;--p>-1&&!A;)A=r[d[p]+"RequestAnimationFrame"],D=r[d[p]+"CancelAnimationFrame"]||r[d[p]+"CancelRequestAnimationFrame"];E("Ticker",function(e,t){var n,r,i,o,a,s=this,c=O(),u=!(!1===t||!A)&&"auto",d=500,p=33,f=function m(e){var t,l,u=O()-$;u>d&&(c+=u-p),$+=u,s.time=($-c)/1e3,t=s.time-a,(!n||t>0||!0===e)&&(s.frame++,a+=t+(t>=o?.004:o-t),l=!0),!0!==e&&(i=r(m)),l&&s.dispatchEvent("tick")};k.call(s),s.time=s.frame=0,s.tick=function(){f(!0)},s.lagSmoothing=function(e,t){return arguments.length?(d=e||1/v,void(p=Math.min(t,d,0))):1/v>d},s.sleep=function(){null!=i&&(u&&D?D(i):clearTimeout(i),r=w,i=null,s===h&&(g=!1))},s.wake=function(e){null!==i?s.sleep():e?c+=-$+($=O()):s.frame>10&&($=O()-d+5),r=0===n?w:u&&A?A:function(e){return setTimeout(e,1e3*(a-s.time)+1|0)},s===h&&(g=!0),f(2)},s.fps=function(e){return arguments.length?(o=1/((n=e)||60),a=this.time+o,void s.wake()):n},s.useRAF=function(e){return arguments.length?(s.sleep(),u=e,void s.fps(n)):u},s.fps(e),setTimeout(function(){"auto"===u&&s.frame<5&&"hidden"!==(l||{}).visibilityState&&s.useRAF(!1)},1500)}),(f=_.Ticker.prototype=new _.events.EventDispatcher).constructor=_.Ticker;var M=E("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,Q){g||h.wake();var n=this.vars.useFrames?Z:Q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});h=M.ticker=new _.Ticker,(f=M.prototype)._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;(function le(){g&&O()-$>2e3&&("hidden"!==(l||{}).visibilityState||!h.lagSmoothing())&&h.wake();var e=setTimeout(le,2e3);e.unref&&e.unref()})(),f.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},f.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},f.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},f.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},f.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},f.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},f.render=function(e,t,n){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},f.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},f._enabled=function(e,t){return g||h.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},f._kill=function(e,t){return this._enabled(!1,!1)},f.kill=function(e,t){return this._kill(e,t),this},f._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},f._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},f._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},f.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=b(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},f.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},f.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},f.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},f.totalTime=function(e,t,n){if(g||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(R.length&&te(),this.render(e,t,!1),R.length&&te())}return this},f.progress=f.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},f.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},f.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||v,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},f.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(g||e||h.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var L=E("core.SimpleTimeline",function(e){M.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(f=L.prototype=new M).constructor=L,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},f._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},f.rawTime=function(){return g||h.wake(),this._totalTime};var N=E("TweenLite",function(e,t,n){if(M.call(this,t,n),this.render=N.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:N.selector(e)||e;var i,o,a,s=e.jquery||e.length&&e!==r&&e[0]&&(e[0]===r||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?J[N.defaultOverwrite]:"number"==typeof l?l>>0:J[l],(s||e instanceof Array||e.push&&b(e))&&"number"!=typeof e[0])for(this._targets=a=y(e),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)(o=a[i])?"string"!=typeof o?o.length&&o!==r&&o[0]&&(o[0]===r||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(y(o))):(this._siblings[i]=ne(o,this,!1),1===l&&this._siblings[i].length>1&&ie(o,this,null,1,this._siblings[i])):"string"==typeof(o=a[i--]=N.selector(o))&&a.splice(i+1,1):a.splice(i--,1);else this._propLookup={},this._siblings=ne(e,this,!1),1===l&&this._siblings.length>1&&ie(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0),U=function(e){return e&&e.length&&e!==r&&e[0]&&(e[0]===r||e[0].nodeType&&e[0].style&&!e.nodeType)};(f=N.prototype=new M).constructor=N,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,N.version="2.0.1",N.defaultEase=f._ease=new T(null,null,1,1),N.defaultOverwrite="auto",N.ticker=h,N.autoSleep=120,N.lagSmoothing=function(e,t){h.lagSmoothing(e,t)},N.selector=r.$||r.jQuery||function(e){var t=r.$||r.jQuery;return t?(N.selector=t,t(e)):(l||(l=r.document),l?l.querySelectorAll?l.querySelectorAll(e):l.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var R=[],B={},H=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,V=/[\+-]=-?[\.\d]/,F=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):1e-6>t&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},q=function(e,t,n,r){var i,o,a,s,l,c,u,d=[],p=0,f="",h=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,i=e.match(H)||[],o=t.match(H)||[],r&&(r._next=null,r.blob=1,d._firstPT=d._applyPT=r),l=o.length,s=0;l>s;s++)u=o[s],f+=(c=t.substr(p,t.indexOf(u,p)-p))||!s?c:",",p+=c.length,h?h=(h+1)%5:"rgba("===c.substr(-5)&&(h=1),u===i[s]||i.length<=s?f+=u:(f&&(d.push(f),f=""),a=parseFloat(i[s]),d.push(a),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:h&&4>h?Math.round:0}),p+=u.length;return(f+=t.substr(p))&&d.push(f),d.setRatio=F,V.test(t)&&(d.end=null),d},K=function(e,t,n,r,i,a,s,l,c){"function"==typeof r&&(r=r(c||0,e));var u=(0,o["default"])(e[t]),d="function"!==u?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),p="get"!==n?n:d?s?e[d](s):e[d]():e[t],f="string"==typeof r&&"="===r.charAt(1),h={t:e,p:t,s:p,f:"function"===u,pg:0,n:i||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:f?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-p||0};return("number"!=typeof p||"number"!=typeof r&&!f)&&(s||isNaN(p)||!f&&isNaN(r)||"boolean"==typeof p||"boolean"==typeof r?(h.fp=s,h={t:q(p,f?parseFloat(h.s)+h.c+(h.s+"").replace(/[0-9\-\.]/g,""):r,l||N.defaultStringFilter,h),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(h.s=parseFloat(p),f||(h.c=parseFloat(r)-h.s||0))),h.c?((h._next=this._firstPT)&&(h._next._prev=h),this._firstPT=h,h):void 0},z=N._internals={isArray:b,isSelector:U,lazyTweens:R,blobDif:q},W=N._plugins={},G=z.tweenLookup={},X=0,Y=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},J={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Z=M._rootFramesTimeline=new L,Q=M._rootTimeline=new L,ee=30,te=z.lazyRender=function(){var e,t=R.length;for(B={};--t>-1;)(e=R[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);R.length=0};Q._startTime=h.time,Z._startTime=h.frame,Q._active=Z._active=!0,setTimeout(te,1),M._updateRoot=N.render=function(){var e,t,n;if(R.length&&te(),Q.render((h.time-Q._startTime)*Q._timeScale,!1,!1),Z.render((h.frame-Z._startTime)*Z._timeScale,!1,!1),R.length&&te(),h.frame>=ee){for(n in ee=h.frame+(parseInt(N.autoSleep,10)||120),G){for(e=(t=G[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete G[n]}if((!(n=Q._first)||n._paused)&&N.autoSleep&&!Z._first&&1===h._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||h.sleep()}}},h.addEventListener("tick",M._updateRoot);var ne=function(e,t,n){var r,i,o=e._gsTweenID;if(G[o||(e._gsTweenID=o="t"+X++)]||(G[o]={target:e,tweens:[]}),t&&((r=G[o].tweens)[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return G[o].tweens},re=function(e,t,n,r){var i,o,a=e.vars.onOverwrite;return a&&(i=a(e,t,n,r)),(a=N.onOverwrite)&&(o=a(e,t,n,r)),!1!==i&&!1!==o},ie=function(e,t,n,r,i){var o,a,s,l;if(1===r||r>=4){for(l=i.length,o=0;l>o;o++)if((s=i[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===r)break;return a}var c,u=t._startTime+v,d=[],p=0,f=0===t._duration;for(o=i.length;--o>-1;)(s=i[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||oe(t,0,f),0===oe(s,c,f)&&(d[p++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((f||!s._initted)&&u-s._startTime<=2e-10||(d[p++]=s)));for(o=p;--o>-1;)if(s=d[o],2===r&&s._kill(n,e,t)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!re(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},oe=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(o/=i)>t?o-t:n&&o===t||!e._initted&&2*v>o-t?v:(o+=e.totalDuration()/e._timeScale/i)>t+v?0:o-t-v};f._init=function(){var e,t,n,r,i,o,a=this.vars,s=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},a.startAt)i[r]=a.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=c&&!1!==a.lazy,i.startAt=i.delay=null,i.onUpdate=a.onUpdate,i.onUpdateParams=a.onUpdateParams,i.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=N.to(this.target||{},0,i),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(c=!1),n={},a)Y[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==a.lazy,n.immediateRender=c,this._startAt=N.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof T?u:"function"==typeof u?new T(u,a.easeParams):j[u]||N.defaultEase:N.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;o>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&N._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},f._initProps=function(e,t,n,i,o){var a,s,l,c,u,d;if(null==e)return!1;for(a in B[e._gsTweenID]&&te(),this.vars.css||e.style&&e!==r&&e.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)Y[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!W[n]||W[n]&&W[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(d=this.vars[a],Y[a])d&&(d instanceof Array||d.push&&b(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[a]=d=this._swapSelfInParams(d,this));else if(W[a]&&(c=new W[a])._onInitTween(e,this.vars[a],this,o)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)t[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else t[a]=K.call(this,e,a,"get",d,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,e)?this._initProps(e,t,n,i,o):this._overwrite>1&&this._firstPT&&n.length>1&&ie(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,i,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(B[e._gsTweenID]=!0),l)},f.render=function(e,t,n){var r,i,o,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0>c||0>=e&&e>=-1e-7||c===v&&"isPause"!==this.data)&&c!==e&&(n=!0,c>v&&(i="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:v);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(i="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==v||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:v)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,d=this._easeType,p=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===d?1-u:2===d?u:.5>e/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,R.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/l):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===l&&this._rawPrevTime===v&&a!==v&&(this._rawPrevTime=0))}},f._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:N.selector(t)||t;var r,i,a,s,l,c,u,d,p,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((b(t)||U(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(c=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){l=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;l=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(l){if(u=e||l,d=e!==i&&"all"!==i&&e!==l&&("object"!=(void 0===e?"undefined":(0,o["default"])(e))||!e._tempKill),n&&(N.onOverwrite||this.vars.onOverwrite)){for(a in u)l[a]&&(p||(p=[]),p.push(a));if((p||!e)&&!re(this,n,t,p))return!1}for(a in u)(s=l[a])&&(f&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,c=!0),s.pg&&s.t._kill(u)&&(c=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete l[a]),d&&(i[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return c},f.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},f._enabled=function(e,t){if(g||h.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=ne(r[n],this,!0);else this._siblings=ne(this.target,this,!0)}return M.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&N._onPluginEvent(e?"_onEnable":"_onDisable",this)},N.to=function(e,t,n){return new N(e,t,n)},N.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new N(e,t,n)},N.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new N(e,t,r)},N.delayedCall=function(e,t,n,r,i){return new N(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},N.set=function(e,t){return new N(e,0,t)},N.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"!=typeof e?e:N.selector(e)||e,(b(e)||U(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(N.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=ne(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},N.killTweensOf=N.killDelayedCallsTo=function(e,t,n){"object"==(void 0===t?"undefined":(0,o["default"])(t))&&(n=t,t=!1);for(var r=N.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var ae=E("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ae.prototype},!0);if(f=ae.prototype,ae.version="1.19.0",ae.API=2,f._firstPT=null,f._addTween=K,f.setRatio=F,f._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},f._mod=f._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},N._onPluginEvent=function(e,t){var n,r,i,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=t._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ae.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ae.API&&(W[(new e[t])._propName]=e[t]);return!0},x.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=E("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ae.call(this,n,r),this._overwriteProps=i||[]},!0===e.global),s=a.prototype=new ae(n);for(t in s.constructor=a,a.API=e.API,o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,ae.activate([a]),a},d=r._gsQueue){for(p=0;p<d.length;p++)d[p]();for(f in C)C[f].func||r.console.log("GSAP encountered missing dependency: "+f)}g=!1}(void 0!==e&&e.exports&&void 0!==r?r:undefined||window,"TweenMax"),function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(a,"_gsScope","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/TweenMax.min.js"),r(e))}()}).call(this,n(2)(e),n(138))},function(e,t,n){"use strict";!function(e,n){"function"==typeof window.define&&window.define&&window.define.amd?window.define(["exports"],n):n(t)}(undefined,function(e){var t,n=window,r=[];n.dragIsMove=!1,n.DragscrollFunc=t=function(e,t){for(e=0;e<r.length;)(t=r[e++]).removeEventListener("mousedown",t.md,0),n.removeEventListener("mouseup",t.mu,0),n.removeEventListener("mousemove",t.mm,0);for(r=window.document.getElementsByClassName("dragscroll"),e=0;e<r.length;)!function(e,t,r,i){e.addEventListener("mousedown",e.md=function(e){e.target.getAttribute("contenteditable")||(n.dragIsMove=!0,i=1,t=e.clientX,r=e.clientY,e.preventDefault(),e.stopPropagation())},0),n.addEventListener("mouseup",e.mu=function(){i=0,n.dragIsMove=!1},0),n.addEventListener("mousemove",e.mm=function(o,a){a=e.scroller||e,i&&n.dragIsMove&&("y"!==a.getAttribute("data-direction")&&(a.scrollLeft-=-t+(t=o.clientX)),a.scrollTop-=-r+(r=o.clientY))},0)}(r[e++])};var i=n.isLocal?n:n.parent;if(i)try{i.document.addEventListener("mouseup",function(){n.dragIsMove&&(n.dragIsMove=!1)},!0)}catch(o){}"complete"==window.document.readyState?t():n.addEventListener("load",t,0),e.reset=t})},function(e,t,n){"use strict";var r;!function i(e,t,n){function o(s,l){if(!t[s]){if(!e[s]){if(!l&&("function"==typeof r&&r))return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,i,e,t,n)}return t[s].exports}for(var a="function"==typeof r&&r,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,n){t.exports=e("./lib/preventoverscroll")},{"./lib/preventoverscroll":2}],2:[function(e,t,n){var r=e("./util"),i=document,o=window,a={},s={list:[],cClass:"prevent_over_scroll_container",styleId:"prevent_over_scroll_style",styleStr:"{overflow-y: scroll; -webkit-overflow-scrolling: touch;}"};function l(e){this.config=r.extend(s,e||{}),this.init()}l.prototype={constructor:l,init:function(){this._initStyle(),this._initstartMoveMap.call(this),this._bindEvent(this.config.list)},_initStyle:function(){var e,t,n,o=this.config.list;if(r.checkDeviceType("ios")){for(e=0,t=o.length;e<t;e++){if(!(n=i.getElementById(o[e])))throw"";n.className+=" "+this.config.cClass}this._appendStyle()}},_appendStyle:function(){if(!document.getElementById(this.config.styleId)){var e=i.createElement("style"),t="."+this.config.cClass+this.config.styleStr;t+=" html, body {width: 100%; height: 100;}",e.id=this.config.styleId,e.innerHTML=t,i.getElementsByTagName("head")[0].appendChild(e)}},_initstartMoveMap:function(){for(var e=this.config.list,t=0,n=e.length;t<n;t++)a[e[t]]=0},_startMove:function(e){e=e||o.event;a[this.id]=e.touches[0].clientY},_preventMove:function(e){var t="11",n=this,r=(e=e||window.event).touches[0].clientY,i=a[n.id],o=n.scrollTop,s=n.offsetHeight,l=n.scrollHeight;if(!(s>=l&&n.getAttribute("innerScroll"))&&(0===o?t=s>=l?"00":"01":o+s>=l&&(t="10"),"11"!=t)){var c=r-i>0?"10":"01";if(!(parseInt(t,2)&parseInt(c,2)))return e.preventDefault(),void e.stopPropagation()}},_bindEvent:function(e){for(var t,n=0,i=e.length;n<i;n++){if(!(t=document.getElementById(e[n])))throw"elem "+e[n]+"is not exist!";r.addEvent(t,"touchstart",this._startMove),r.addEvent(t,"touchmove",this._preventMove)}},push:function(e){e in a||(this.config.list.push(e),a[e]=0,i.getElementById(e).className+=" "+this.config.cClass,this._bindEvent([e]))},pop:function(e){var t=i.getElementById(e);delete a[e],r.removeEvent(t,"touchstart",this.startMove),r.removeEvent(t,"touchmove",this._preventMove)}},t.exports={PreventOverScroll:l}},{"./util":3}],3:[function(e,t,n){function r(e,t){var n=Object.prototype.toString;return"Null"===t&&null===e||"Undefined"===t&&void 0===e||n.call(e).slice(8,-1)===t}var i={checkDeviceType:function(e){var t=navigator.userAgent,n=/(Android)/i.test(t),r=/(iPhone|iPad|iPod|iOS)/i.test(t)&&!n;return"ios"==e?r:n},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},extend:function o(e,t){for(var n in e){var i=e[n];e===i||n in t||(r(i,"Object")?t[n]=o(i,t[n]||{}):r(i,"Array")?(t[n]=[],t[n]=o(i,t[n]||[])):t[n]=i)}return t}};t.exports=i},{}],4:[function(e,t,n){window.PreventOverScroll=e("./index.js").PreventOverScroll},{"./index.js":1}]},{},[4])},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(746),n(745),n(744),n(743),n(742);var r=a(n(741)),i=a(n(63)),o=a(n(740));function a(e){return e&&e.__esModule?e:{"default":e}}function s(){var e=window.navigator.userAgent;if(e.indexOf("Android")>-1||e.indexOf("Linux")>-1)return!0}function l(){if("micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i))return!0}!function(){var t=n(1).enterModule;t&&t(e)}(),window.CSSAnimations=n(739);var c={initParam:function(){window.loadPages={},window.fixedData={},window.innerScrollData={},window.pagesCache={},window.TweenLite&&(window.TweenLite.defaultEase=window.Linear.easeNone)},initSymbol:function(){window.symbolContrs?(window.symbolContrs.contrs||(window.symbolContrs.contrs={}),window.symbolContrs.symbols||(window.symbolContrs.symbols={})):window.symbolContrs={contrs:{},symbols:{}}},getContrsObj:function(){if(window.pages){var e=[];if(window.symbolContrs)for(var t in window.symbolContrs.contrs)o["default"].addInitVal(window.symbolContrs.contrs[t]);else window.symbolContrs={symbols:{},contrs:{}};window.pages.forEach(function(t){e.push({key:t.key,name:t.name,active:t.active,note:t.note,type:"page",backColor:t.backColor,isLandscape:t.isLandscape,isShow:t.isShow}),t.hierarchy=[],t.contrsObj={},t.stateCache={},$.isUndefined(t.contrs)&&(t.contrs=[]),o["default"].addInitVal(t.contrs),t.contrs.forEach(function(e){var n=$.getContrId(e);t.hierarchy.push(n),t.contrsObj[n]=e})}),window.setPreviewPagesArr&&window.setPreviewPagesArr(e,window.structHierarchy),window.isMobile&&(i["default"].setPagesArr(e),i["default"].setStructData(window.structHierarchy))}},initEvent:function(){window.addNoteHoverClass=function(e,t){var n=$.getElById("page"+e+"Note"+t),r=$.getElById("page"+e);n&&r&&($.previewScrollTop($.offset(n,!0),r),$.hasClass(n,"contr-note-box")?$(".page"+e+"Note"+t).addClass("hover"):$.addClass(n,"hover"))},window.removeNoteHoverClass=function(e,t){var n=$.getElById("page"+e+"Note"+t);$.hasClass(n,"contr-note-box")?$(".page"+e+"Note"+t).removeClass("hover"):$.removeClass(n,"hover")}},initCss:function(){var e="";r["default"].init({isMobile:window.isMobile}),window.pages&&window.pages.forEach(function(t){e+=r["default"].getPage(t).thisCss}),$.loadStyleString(e)},initResize:function(e){if("web"==window.platform)return!1;window.isMobile||(e=!0),s()&&l()||(window.onresize=n);var t=window.document.getElementsByTagName("body")[0];function n(e,r){var i=void 0,o=window.document.documentElement.clientWidth,a=window.document.documentElement.clientHeight;window.fromIframe||!$.query||window.isLocal||(($.hasClass($.query(".current.page"),"isLandscape")||$.hasClass(t,"notIsLandscapeBody"))&&o<a?($.hasClass($.query(".current.page"),"isLandscape")&&(i=!0),t.style.width=a+"px",t.style.height=o+"px",$.addClass(t,"isLandscapeBody"),$.removeClass(t,"notIsLandscapeBody")):(t.style.width="100%",t.style.height="100%",$.addClass(t,"notIsLandscapeBody"),$.removeClass(t,"isLandscapeBody"))),window.previewFrameSize&&(o=window.previewFrameSize.width,a=window.previewFrameSize.height);var c=Math.min(o,a),u=1;s()&&l()&&(u=16/parseInt(window.getComputedStyle(window.document.documentElement).fontSize)),i?window.fontSize=50*a/568:a<o&&i?window.fontSize=50*o/568:(window.fontSize=.15625*c*u,t.style.width="100%",t.style.height="100%",$.addClass(t,"notIsLandscapeBody"),$.removeClass(t,"isLandscapeBody")),window.document.getElementsByTagName("html")[0].style.fontSize=window.fontSize+"px",r||(c>window.screen.width&&e<=10?setTimeout(function(){n(++e)},100):window.document.getElementsByTagName("body")[0].style.opacity=1)}e?n(0,!0):setTimeout(function(){n(0)},100)},escKey:function(){$(window.document).bind("keydown",function(e){if(27===e.which){var t=window.parent.document.getElementById("closeBtn");t&&t.click()}})}};!function(){for(var e in c)c[e]()}(),window.initResize=c.initResize;t["default"]="init",function(){var t=n(1)["default"],r=n(1).leaveModule;t&&(t.register(s,"isAndroid","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),t.register(l,"isWeiXinFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),t.register(c,"init","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),t.register("init","default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),r(e))}()}).call(this,n(2)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(9),_classnames2=_interopRequireDefault(_classnames),_ProtoPreviewStore=__webpack_require__(63),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_ProjectPanel=__webpack_require__(711),_ProjectPanel2=_interopRequireDefault(_ProjectPanel);__webpack_require__(747);var _PageContainer=__webpack_require__(738),_PageContainer2=_interopRequireDefault(_PageContainer);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var AppContainerComp=function(_React$Component){function AppContainerComp(){(0,_classCallCheck3["default"])(this,AppContainerComp),window.__c||(window.__c={});var e=(0,_possibleConstructorReturn3["default"])(this,(AppContainerComp.__proto__||(0,_getPrototypeOf2["default"])(AppContainerComp)).call(this));return e.state={scrollObj:_ProtoPreviewStore2["default"].getScrollObj(),scrollChangeVal:0},e._onPreviewScrollChange=e._onPreviewScrollChange.bind(e),e}return(0,_inherits3["default"])(AppContainerComp,_React$Component),(0,_createClass3["default"])(AppContainerComp,[{key:"componentDidMount",value:function(){_ProtoPreviewStore2["default"].addScrollChangeListener(this._onPreviewScrollChange)}},{key:"componentWillUnmount",value:function(){_ProtoPreviewStore2["default"].removeScrollChangeListener(this._onPreviewScrollChange)}},{key:"_onPreviewScrollChange",value:function(){this.setState({scrollObj:_ProtoPreviewStore2["default"].getScrollObj(),scrollChangeVal:this.state.scrollChangeVal+1})}},{key:"componentDidUpdate",value:function(){var e=this.props.previewInfo,t=e.scale,n="web"==e.platform,r=this.state.scrollObj,i=r.scrollHeight,o=r.scrollTop,a={},s=$(".current.page");if(n)$.getWinSize().height-45<i&&(a.top=o/t,$.getWinSize().height-45>=i/t&&(a.top=Math.round(($.getWinSize().height-45-i)/t/2))),$("#project-panel").css({top:a.top*t}),s.css(a);else{if(a.top=o*t,s.css("top",o),s[0]){var l=$.offset(s[0],!0);a.width=l.width,a.height=l.height}$("#project-panel").css(a)}}},{key:"render",value:function(){var e=this.props,t=e.activePage,n=e.previewInfo,r=n.scale,i="web"==n.platform,o=t&&t.isLandscape,a=void 0,s=void 0,l=this.state.scrollObj,c=l.scrollHeight,u=l.scrollWidth,d=l.scrollLeft,p=l.screenTop,f=l.boxWidth;return i&&($.getWinSize().height-45>=c&&(s=p,$.getWinSize().height-45>=c&&(s=Math.round(($.getWinSize().height-45-c)/2))),a=d,f>=u&&(a=Math.round((f-u)/2))),_react2["default"].createElement("div",{id:"appContainer",className:(0,_classnames2["default"])({"webpage-wrapper":i,"mobile-wrapper":!i,"hide-event-tag":!n.eventTag||"preview"!=n.mode,"hide-note-tag":!n.noteTag}),style:i?{width:window.phoneSize.width*r,height:c,top:s,left:a}:{width:window.previewFrameSize[o?"height":"width"]*r,height:window.previewFrameSize[o?"width":"height"]*r,left:window.previewFrameSize[o?"height":"width"]*(1-r)/2,top:window.previewFrameSize[o?"width":"height"]*(1-r)/2}},_react2["default"].createElement(_PageContainer2["default"],{scale:r,width:window.previewFrameSize[o?"height":"width"],height:window.previewFrameSize[o?"width":"height"],scrollChangeVal:this.state.scrollChangeVal,left:-window.previewFrameSize[o?"height":"width"]*(1-r)/2,top:-window.previewFrameSize[o?"width":"height"]*(1-r)/2}),"discuss"==n.mode?_react2["default"].createElement(_ProjectPanel2["default"],{scale:r,width:window.previewFrameSize.width,scrollChangeVal:this.state.scrollChangeVal}):undefined)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AppContainerComp}(_react2["default"].Component),_default=AppContainerComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(AppContainerComp,"AppContainerComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/AppContainer.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/AppContainer.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isDisplay:!0},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.setState({isDisplay:!1})},3e3)},t.prototype.render=function(){return this.state.isDisplay?i.a.createElement("div",{className:"share-tip-box"},i.a.createElement("div",{className:"share-code anim-breath"},i.a.createElement("div",{className:"share-popup popup-right"},i.a.createElement("div",{className:"popup-img"}),i.a.createElement("div",{className:"popup-text"},"分享二维码放到这里啦")))):null},t}(i.a.Component);t["default"]=a},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=n(84),l=n(71),c=n(362),u=n.n(c),d=n(6),p=n.n(d),f=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=undefined&&undefined.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=window.$,m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectOn:!1},n}return f(t,e),t.prototype.componentWillMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype._changePhoneSize=function(e,t){if(-1!=t.indexOf("_")){var n=t.split("_");u.a.resetFrameSize({type:t,width:+n[0],height:+n[1]})}else u.a.resetFrameSize({type:t,width:window.phoneTypeObj[t][1],height:window.phoneTypeObj[t][2]});window.phoneTypeObj&&window.phoneTypeObj[t]&&(window.phoneSize=g.extend(!0,{},{type:t,width:window.phoneTypeObj[t][1],height:window.phoneTypeObj[t][2]})),this.setState({selectOn:!1},function(){l["default"].emitSelectChange(),l["default"].emitChange()}),window.initResize(!0)},t.prototype._selectClick=function(){var e=g.getElById("viewSettingBtn");this.state.selectOn?g.removeClass(e,"on"):g.addClass(e,"on"),this.setState({selectOn:!this.state.selectOn})},t.prototype.render=function(){var e,t=this.props.previewInfo,n=[],r=[];for(var o in window.phoneTypeObj)n.push(window.phoneTypeObj[o][0]),r.push(o);-1!=window.phoneSize.type.indexOf("_")?(r.push(window.phoneSize.type),e="自定义尺寸 "+window.phoneSize.width+"*"+window.phoneSize.height,n.push(e)):e=n[r.indexOf(""+window.phoneSize.type)];return i.a.createElement("div",{className:"preview-view-setting clearfix"},i.a.createElement("div",{className:a()("setting-btn phone-frame",{active:"mobile"==this.props.platform&&t.phoneFrame,disabled:"web"==this.props.platform}),"data-prop":"phoneFrame",onClick:this._setViewSetting},"边框"),i.a.createElement("div",{className:a()("setting-btn note",{active:t.noteTag,disabled:"project"!==window.type}),"data-prop":"noteTag",onClick:this._setViewSetting},"备注"),i.a.createElement("div",{className:a()("setting-btn event",{active:t.eventTag}),"data-prop":"eventTag",onClick:this._setViewSetting},"事件"),"mobile"==this.props.platform?i.a.createElement("div",{className:"select-wrapper"},i.a.createElement(s["default"],{key:"selectPage",placeholder:"请选择机型",text:e,value:window.phoneSize.type,texts:n,values:r,width:178,click:this._selectClick,callback:this._changePhoneSize})):undefined)},t.prototype._setViewSetting=function(e){var t=e.currentTarget.getAttribute("data-prop"),n={};n[t]=!this.props.previewInfo[t],u.a.setProps(n),e.stopPropagation()},h([p.a],t.prototype,"_changePhoneSize",null),h([p.a],t.prototype,"_selectClick",null),h([p.a],t.prototype,"_setViewSetting",null),t}(i.a.Component);t["default"]=m},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(18),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(21),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(20),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(19),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_ProtoPreviewActions=__webpack_require__(362),_ProtoPreviewActions2=_interopRequireDefault(_ProtoPreviewActions),_ToastActions=__webpack_require__(7),_ToastActions2=_interopRequireDefault(_ToastActions);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}!function(){var e=__webpack_require__(1).enterModule;e&&e(module)}();var ScaleSettingComp=function(_React$Component){function ScaleSettingComp(){(0,_classCallCheck3["default"])(this,ScaleSettingComp);var e=(0,_possibleConstructorReturn3["default"])(this,(ScaleSettingComp.__proto__||(0,_getPrototypeOf2["default"])(ScaleSettingComp)).call(this));return e.state={},e._zoomIn=e._zoomIn.bind(e),e._zoomOut=e._zoomOut.bind(e),e._zoomFit=e._zoomFit.bind(e),e._reset=e._reset.bind(e),e._zoomToast=e._zoomToast.bind(e),e}return(0,_inherits3["default"])(ScaleSettingComp,_React$Component),(0,_createClass3["default"])(ScaleSettingComp,[{key:"render",value:function(){var e=[],t=[],n=void 0;for(var r in window.phoneTypeObj)e.push(window.phoneTypeObj[r][0]),t.push(r);-1!=window.phoneSize.type.indexOf("_")?(t.push(window.phoneSize.type),n="自定义尺寸 "+window.phoneSize.width+"*"+window.phoneSize.height,e.push(n)):n=e[t.indexOf(""+window.phoneSize.type)];return _react2["default"].createElement("div",{className:"preview-scale-setting"},_react2["default"].createElement("div",{className:"scale-group clearfix"},_react2["default"].createElement("i",{className:"material-icons"+(2==this.props.previewInfo.scale?" disabled":""),onClick:this._zoomIn},"add"),_react2["default"].createElement("i",{className:"material-icons"+(.5==this.props.previewInfo.scale?" disabled":""),onClick:this._zoomOut},"remove"),_react2["default"].createElement("i",{className:"number"+(1==this.props.previewInfo.scale?" disabled":""),onClick:this._reset},"100%"),_react2["default"].createElement("i",{className:"scale-btn material-icons",onClick:this._zoomFit},"fullscreen")))}},{key:"_zoomIn",value:function(){_ProtoPreviewActions2["default"].zoom("in"),this._zoomToast()}},{key:"_zoomOut",value:function(){_ProtoPreviewActions2["default"].zoom("out"),this._zoomToast()}},{key:"_reset",value:function(){_ProtoPreviewActions2["default"].zoom(null,1),this._zoomToast()}},{key:"_zoomFit",value:function(){_ProtoPreviewActions2["default"].zoomFit(),_ToastActions2["default"].show("缩放比例：最佳尺寸")}},{key:"_zoomToast",value:function(){_ToastActions2["default"].show("缩放比例："+Math.round(100*this.props.previewInfo.scale)+"%")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ScaleSettingComp}(_react2["default"].Component),_default=ScaleSettingComp;exports["default"]=_default,function(){var e=__webpack_require__(1)["default"],t=__webpack_require__(1).leaveModule;e&&(e.register(ScaleSettingComp,"ScaleSettingComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),e.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),t(module))}()}).call(this,__webpack_require__(2)(module))},function(e,t,n){e.exports=n(717)}]);